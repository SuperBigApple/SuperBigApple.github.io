<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="author" content="John Doe">
    
    
    
    
    
    
    <title>axioså°è£… | Hexo</title>
    <!-- inject:style -->
    <link href="/css/style.css" rel="stylesheet" type="text/css">
    <!-- endinject -->
    <style>
        .cube-loading {
            top: 0;
            position: fixed;
            width: 100%;
            height: 100%;
            background: url('/images/lg/loading.gif') no-repeat center center;
            background-color: rgba(0,0,0,.7);
        }

        .cube-loading.out {
            display: none;
        }

        .cube-loading:before {
            display: block;
            content: 'Loading';
            position: relative;
            width: 100%;
            top: 50%;
            right: -50%;
            color: #fff;
        }

        @media(max-width: 768px) {
            .cube-loading:before {
                font-size: 1.2em;
                transform: translate(-24px,20px);
                -webkit-transform: translate(-24px,20px);
                -o-transform: translate(-24px,20px);
                -ms-transform: translate(-24px,20px);
            }
        }

        @media(min-width: 768px) {
            .cube-loading:before {

            }
        }
    </style>
    
<meta name="generator" content="Hexo 6.2.0"></head>
<body>
<div class="cube-body">
    <nav id="cube-top-memu" class="cube-menu">
    <ul class="cube-menu-collapse">
        
        <li>
            <i class="cube-icon cube-icon-home" aria-hidden="true"></i>
            <a href="/">é¦–é¡µ</a>
        </li>
        
        <li>
            <i class="cube-icon cube-icon-archive" aria-hidden="true"></i>
            <a href="/archives">å½’æ¡£</a>
        </li>
        
        <li>
            <i class="cube-icon cube-icon-categories" aria-hidden="true"></i>
            <a href="/categories">åˆ†ç±»</a>
        </li>
        
        <li>
            <i class="cube-icon cube-icon-tags" aria-hidden="true"></i>
            <a href="/tags">æ ‡ç­¾</a>
        </li>
        
        <li>
            <i class="cube-icon cube-icon-about" aria-hidden="true"></i>
            <a href="/about-me">å…³äºæˆ‘</a>
        </li>
        
    </ul>
</nav>
<nav class="cube-side-menu" id="cube-side-menu">
    <ul class="cube-menu-list">
        
        <li>
            <a class="lrc-control">Open Lyrics</a>
        </li>
        
        <li>
            <a class="scroll-to-top">Top</a>
        </li>
    </ul>
</nav>
    <header class="cube-header" id="cube-header">
    <img src=" https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201502%2F28%2F20150228220759_zaP3N.png&amp;refer=http%3A%2F%2Fb-ssl.duitang.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1664943562&amp;t=f546331d7d5aee27ceb7af09c60899f2 " alt="å¤´éƒ¨èƒŒæ™¯å›¾ç‰‡">
    
    <div class="cube-type">
        <span class="cube-typed-title">ğŸçš„ä¸ªäººåšå®¢ ^_^</span>
        <span class="cube-typed-cursor">|</span>
    </div>
    
</header>

    <style>
        nav.cube-menu:before {
            content: '';
            visibility: hidden;
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 44px;
        
            filter: blur(5px);
            -webkit-filter: blur(5px);
        
            z-index: -1;
            background-image: url('https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201502%2F28%2F20150228220759_zaP3N.png&amp;refer=http%3A%2F%2Fb-ssl.duitang.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1664943562&amp;t=f546331d7d5aee27ceb7af09c60899f2');
            background-repeat: no-repeat;
            background-position: center -356px;
            background-size: cover;
            background-color: transparent;
        }

        header.cube-background.cube-header-background {
            visibility: hidden;
            background-image: url('https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201502%2F28%2F20150228220759_zaP3N.png&amp;refer=http%3A%2F%2Fb-ssl.duitang.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1664943562&amp;t=f546331d7d5aee27ceb7af09c60899f2');
            background-position: center -400px;
        }
    </style>
    <header class="cube-background cube-header-background">
        
        <div class="cube-type">
            <span class="cube-typed-title">ğŸçš„ä¸ªäººåšå®¢ ^_^</span>
            <span class="cube-typed-cursor">|</span>
        </div>
        
    </header>
    <div class="load-header-background"></div>
    <script>
        (function (window) {

            window.headerModule = {}
            window.headerModule.image = {
                width: '2000',
                height: '1414'
            }

        })(window)
    </script>
    
    <div class="cube-content">
        <div class="cube-left">
            <div class="cube-article">
    <h1 class="title">axioså°è£…</h1>
    
    <div class="cube-article-header">
        <div class="cube-article-date">
            <i class="cube-icon cube-icon-date" aria-hidden="true"></i>
            <!-- moment.jså¯¹è±¡ -->
            2018-05-27
        </div>
        <div class="cube-article-tags">
    <i class="cube-icon cube-icon-tag" aria-hidden="true"></i>
    
    <a href="/tags/vue/">#vue</a>
    
</div>
    </div>
    
    <div class="cube-article-content cube-markdown">
        
        <h2 id="ä¸€ã€axios-ç®€ä»‹"><a href="#ä¸€ã€axios-ç®€ä»‹" class="headerlink" title="ä¸€ã€axios ç®€ä»‹"></a>ä¸€ã€axios ç®€ä»‹</h2><blockquote>
<p><code>axios</code> æ˜¯ä¸€ä¸ªåŸºäº<code>Promise</code>ç”¨äºæµè§ˆå™¨å’Œ <code>nodejs</code> çš„ <code>HTTP</code> å®¢æˆ·ç«¯ï¼Œå®ƒæœ¬èº«å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>
</blockquote>
<ul>
<li>ä»æµè§ˆå™¨ä¸­åˆ›å»º <code>XMLHttpRequest</code></li>
<li>ä» <code>node.js</code> å‘å‡º <code>http</code> è¯·æ±‚</li>
<li>æ”¯æŒ<code>Promise API</code></li>
<li>æ‹¦æˆªè¯·æ±‚å’Œå“åº”</li>
<li>è½¬æ¢è¯·æ±‚å’Œå“åº”æ•°æ®</li>
<li>å–æ¶ˆè¯·æ±‚</li>
<li>è‡ªåŠ¨è½¬æ¢<code>JSON</code>æ•°æ®</li>
<li>å®¢æˆ·ç«¯æ”¯æŒé˜²æ­¢<code>CSRF/XSRF</code></li>
</ul>
<h2 id="äºŒã€axiosåŸºç¡€"><a href="#äºŒã€axiosåŸºç¡€" class="headerlink" title="äºŒã€axiosåŸºç¡€"></a>äºŒã€axiosåŸºç¡€</h2><ul>
<li><code>axios.requestï¼ˆconfigï¼‰</code></li>
<li><code>axios.getï¼ˆurl [ï¼Œconfig]ï¼‰</code></li>
<li><code>axios.deleteï¼ˆurl [ï¼Œconfig]ï¼‰</code></li>
<li><code>axios.headï¼ˆurl [ï¼Œconfig]ï¼‰</code></li>
<li><code>axios.optionsï¼ˆurl [ï¼Œconfig]ï¼‰</code></li>
<li><code>axios.postï¼ˆurl [ï¼Œdata [ï¼Œconfig]]</code>ï¼‰</li>
<li><code>axios.putï¼ˆurl [ï¼Œdata [ï¼Œconfig]]ï¼‰</code></li>
<li><code>axios.patchï¼ˆurl [ï¼Œdata [ï¼Œconfig]]ï¼‰</code></li>
</ul>
<h2 id="ä¸‰ã€æ‰§è¡Œ-GET-è¯·æ±‚"><a href="#ä¸‰ã€æ‰§è¡Œ-GET-è¯·æ±‚" class="headerlink" title="ä¸‰ã€æ‰§è¡Œ GET è¯·æ±‚"></a>ä¸‰ã€æ‰§è¡Œ GET è¯·æ±‚</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// å‘å…·æœ‰æŒ‡å®šIDçš„ç”¨æˆ·å‘å‡ºè¯·æ±‚</span><br><span class="line">axios.get(&#x27;/user?ID=12345&#x27;)</span><br><span class="line">.then(function (res) &#123;</span><br><span class="line">    console.log(res);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(function (error) &#123;</span><br><span class="line">    console.log(error);</span><br><span class="line">&#125;);</span><br><span class="line"> </span><br><span class="line">// ä¹Ÿå¯ä»¥é€šè¿‡ params å¯¹è±¡ä¼ é€’å‚æ•°</span><br><span class="line">axios.get(&#x27;/user&#x27;, &#123;</span><br><span class="line">    params: &#123;</span><br><span class="line">        ID: 12345</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">.then(function (response) &#123;</span><br><span class="line">    console.log(response);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(function (error) &#123;</span><br><span class="line">    console.log(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="å››ã€æ‰§è¡Œ-POST-è¯·æ±‚"><a href="#å››ã€æ‰§è¡Œ-POST-è¯·æ±‚" class="headerlink" title="å››ã€æ‰§è¡Œ POST è¯·æ±‚"></a>å››ã€æ‰§è¡Œ POST è¯·æ±‚</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">axios.post(&#x27;/user&#x27;, &#123;</span><br><span class="line">    userId:&quot;123&quot;</span><br><span class="line">&#125;,&#123;</span><br><span class="line">    headers:&#123;</span><br><span class="line">        token:&quot;abc&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">.then(function (res) &#123;</span><br><span class="line">    console.log(res);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(function (error) &#123;</span><br><span class="line">    console.log(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="äº”ã€é€šè¿‡é…ç½®æ–¹å¼å‘é€è¯·æ±‚"><a href="#äº”ã€é€šè¿‡é…ç½®æ–¹å¼å‘é€è¯·æ±‚" class="headerlink" title="äº”ã€é€šè¿‡é…ç½®æ–¹å¼å‘é€è¯·æ±‚"></a>äº”ã€é€šè¿‡é…ç½®æ–¹å¼å‘é€è¯·æ±‚</h2><blockquote>
<p><code>get</code>è¯·æ±‚æ˜¯å‘é€å‚æ•°ï¼Œåœ¨<code>params</code>ä¸­å®šä¹‰ã€‚è€Œ<code>POST</code>è¯·æ±‚æ˜¯å‘é€<code>request body</code>,éœ€è¦åœ¨<code>data</code>ä¸­å®šä¹‰</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">// get åœ¨paramsä¸­å®šä¹‰</span><br><span class="line">axios(&#123;</span><br><span class="line">    url:&quot;pakage.json&quot;,</span><br><span class="line">    method:&quot;get&quot;,</span><br><span class="line">    params:&#123;</span><br><span class="line">        userId:&quot;123&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    headers:&#123;</span><br><span class="line">        token:&quot;http-test&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).then(res=&gt;&#123;</span><br><span class="line">    console.log(res.data);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// post åœ¨dataä¸­å®šä¹‰</span><br><span class="line">axios(&#123;</span><br><span class="line">    url:&quot;pakage.json&quot;,</span><br><span class="line">    method:&quot;post&quot;,</span><br><span class="line">    data:&#123;</span><br><span class="line">        userId:&quot;123&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    headers:&#123;</span><br><span class="line">        token:&quot;http-test&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).then(res=&gt;&#123;</span><br><span class="line">    console.log(res.data);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="å…­ã€æ‰§è¡Œå¤šä¸ªå¹¶å‘è¯·æ±‚"><a href="#å…­ã€æ‰§è¡Œå¤šä¸ªå¹¶å‘è¯·æ±‚" class="headerlink" title="å…­ã€æ‰§è¡Œå¤šä¸ªå¹¶å‘è¯·æ±‚"></a>å…­ã€æ‰§è¡Œå¤šä¸ªå¹¶å‘è¯·æ±‚</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function getUserAcount()&#123;</span><br><span class="line">    // è¿”å›ä¸€ä¸ªpromiseå¯¹è±¡</span><br><span class="line">    return axios.get(&quot;/user/1234&quot;);</span><br><span class="line">&#125;</span><br><span class="line">function getUserPermissions()&#123;</span><br><span class="line">    // è¿”å›ä¸€ä¸ªpromiseå¯¹è±¡</span><br><span class="line">    return axios.get(&quot;/user/1234/getUserPermissions&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//ä¸€æ¬¡æ€§è¿”å›ä¸¤ä¸ªæ¥å£</span><br><span class="line">axios.all([getUserAccount(),getUserPerssions()]).then(axios.spread((acct, perms) =&gt; &#123;</span><br><span class="line">    // spreadå±•å¼€ä¸¤ä¸ªè¿”å›çš„ç»“æœ</span><br><span class="line">    //ä¸¤ä¸ªè¯·æ±‚ç°å·²å®Œæˆ</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure>

<h2 id="ä¸ƒã€å…¨å±€æ‹¦æˆª"><a href="#ä¸ƒã€å…¨å±€æ‹¦æˆª" class="headerlink" title="ä¸ƒã€å…¨å±€æ‹¦æˆª"></a>ä¸ƒã€å…¨å±€æ‹¦æˆª</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">new Vue(&#123;</span><br><span class="line">    el:&quot;app&quot;,</span><br><span class="line">    data:&#123;</span><br><span class="line">        msg:&quot;&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    // åˆå§‹åŒ–ç”Ÿå‘½å‘¨æœŸçš„ä¸€ä¸ªå‡½æ•°</span><br><span class="line">    mounted:function()&#123;</span><br><span class="line">     //æ‹¦æˆªè¯·æ±‚ä¹‹å‰</span><br><span class="line">       axios.interceptors.request.use(config=&gt;&#123;</span><br><span class="line">           //è¿™é‡Œåšä¸€äº›æ‹¦æˆªæ“ä½œ,æ‹¦æˆªç”¨æˆ·çš„è¯·æ±‚ è¯·æ±‚ä¹‹å‰åšä¸€äº›loadingå¤„ç†</span><br><span class="line">           return config;</span><br><span class="line">       &#125;)</span><br><span class="line">       //æ‹¦æˆªå“åº”ä¹‹åå¤„ç†</span><br><span class="line">       axios.interceptors.response.use(response=&gt;&#123;</span><br><span class="line">           //è¿™é‡Œåšä¸€äº›æ‹¦æˆªæ“ä½œ,å“åº”ä»¥ååšä»€ä¹ˆï¼Œåœ¨è¿”å›æ•°æ®</span><br><span class="line">           return response;</span><br><span class="line">       &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    methods: &#123;</span><br><span class="line">        get: function() &#123;</span><br><span class="line">        </span><br><span class="line">        &#125;,</span><br><span class="line">        post:function() &#123;</span><br><span class="line">           </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="å…«ã€è¯·æ±‚å°è£…ã€å¼‚å¸¸ç»Ÿä¸€å¤„ç†"><a href="#å…«ã€è¯·æ±‚å°è£…ã€å¼‚å¸¸ç»Ÿä¸€å¤„ç†" class="headerlink" title="å…«ã€è¯·æ±‚å°è£…ã€å¼‚å¸¸ç»Ÿä¸€å¤„ç†"></a>å…«ã€è¯·æ±‚å°è£…ã€å¼‚å¸¸ç»Ÿä¸€å¤„ç†</h2><blockquote>
<p>vueä¸­é‡‡ç”¨axioså¤„ç†ç½‘ç»œè¯·æ±‚ï¼Œé¿å…è¯·æ±‚æ¥å£é‡å¤ä»£ç ï¼Œä»¥åŠå„ç§ç½‘ç»œæƒ…å†µé€ æˆçš„å¼‚å¸¸æƒ…å†µçš„åˆ¤æ–­ï¼Œé‡‡ç”¨axiosè¯·æ±‚å°è£…å’Œå¼‚å¸¸æ‹¦æˆªæ“ä½œ</p>
</blockquote>
<h3 id="8-1-axios-è¯·æ±‚å°è£…"><a href="#8-1-axios-è¯·æ±‚å°è£…" class="headerlink" title="8.1 axios è¯·æ±‚å°è£…"></a>8.1 axios è¯·æ±‚å°è£…</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">//  å¼•å…¥axiosæ–‡ä»¶åŒ…</span><br><span class="line">import axios from &#x27;axios&#x27;</span><br><span class="line"></span><br><span class="line">// POST æ–¹æ³•å°è£…  (å‚æ•°å¤„ç†)</span><br><span class="line">export const postRequest = (url, params) =&gt; &#123;</span><br><span class="line">  return axios(&#123;</span><br><span class="line">    method: &#x27;post&#x27;,</span><br><span class="line">    url: url,</span><br><span class="line">    data: params,</span><br><span class="line">    transformRequest: [function (data) &#123;</span><br><span class="line">      let ret = &#x27;&#x27;</span><br><span class="line">      for (let it in data) &#123;</span><br><span class="line">        ret += encodeURIComponent(it) + &#x27;=&#x27; + encodeURIComponent(data[it]) + &#x27;&amp;&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">      return ret</span><br><span class="line">    &#125;],</span><br><span class="line">    headers: &#123;</span><br><span class="line">      &#x27;Content-Type&#x27;: &#x27;application/x-www-form-urlencoded&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// POST æ–¹æ³•å°è£…  (æ–‡ä»¶ä¸Šä¼ )</span><br><span class="line">export const uploadFileRequest = (url, params) =&gt; &#123;</span><br><span class="line">  return axios(&#123;</span><br><span class="line">    method: &#x27;post&#x27;,</span><br><span class="line">    url: url,</span><br><span class="line">    data: params,</span><br><span class="line">    headers: &#123;</span><br><span class="line">      &#x27;Content-Type&#x27;: &#x27;multipart/form-data&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//  GET æ–¹æ³•å°è£…</span><br><span class="line">export const getRequest = (url) =&gt; &#123;</span><br><span class="line">  return axios(&#123;</span><br><span class="line">    method: &#x27;get&#x27;,</span><br><span class="line">    url: url</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//  PUT æ–¹æ³•å°è£…</span><br><span class="line">export const putRequest = (url, params) =&gt; &#123;</span><br><span class="line">  return axios(&#123;</span><br><span class="line">    method: &#x27;put&#x27;,</span><br><span class="line">    url: url,</span><br><span class="line">    data: params,</span><br><span class="line">    transformRequest: [function (data) &#123;</span><br><span class="line">      let ret = &#x27;&#x27;</span><br><span class="line">      for (let it in data) &#123;</span><br><span class="line">        ret += encodeURIComponent(it) + &#x27;=&#x27; + encodeURIComponent(data[it]) + &#x27;&amp;&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">      return ret</span><br><span class="line">    &#125;],</span><br><span class="line">    headers: &#123;</span><br><span class="line">      &#x27;Content-Type&#x27;: &#x27;application/x-www-form-urlencoded&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//  DELETE æ–¹æ³•å°è£…</span><br><span class="line">export const deleteRequest = (url) =&gt; &#123;</span><br><span class="line">  return axios(&#123;</span><br><span class="line">    method: &#x27;delete&#x27;,</span><br><span class="line">    url: url</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-2-axiosè¯·æ±‚å¼‚å¸¸ç»Ÿä¸€å¤„ç†"><a href="#8-2-axiosè¯·æ±‚å¼‚å¸¸ç»Ÿä¸€å¤„ç†" class="headerlink" title="8.2 axiosè¯·æ±‚å¼‚å¸¸ç»Ÿä¸€å¤„ç†"></a>8.2 axiosè¯·æ±‚å¼‚å¸¸ç»Ÿä¸€å¤„ç†</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">// å¼•å…¥ä¾èµ–åŒ…</span><br><span class="line">import axios from &#x27;axios&#x27;</span><br><span class="line">import &#123;Message&#125; from &#x27;element-ui&#x27;</span><br><span class="line"></span><br><span class="line">//  REQUEST è¯·æ±‚å¼‚å¸¸æ‹¦æˆª</span><br><span class="line">axios.interceptors.request.use(config=&gt; &#123;</span><br><span class="line"> //==========  æ‰€æœ‰è¯·æ±‚ä¹‹å‰éƒ½è¦æ‰§è¡Œçš„æ“ä½œ  ==============</span><br><span class="line">  return config;</span><br><span class="line">&#125;, err=&gt; &#123;</span><br><span class="line"> //==================  é”™è¯¯å¤„ç†  ====================</span><br><span class="line">  Message.error(&#123;message: &#x27;è¯·æ±‚è¶…æ—¶!&#x27;&#125;);</span><br><span class="line">  return Promise.resolve(err);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//  RESPONSE å“åº”å¼‚å¸¸æ‹¦æˆª</span><br><span class="line">axios.interceptors.response.use(data=&gt; &#123;</span><br><span class="line">//==============  æ‰€æœ‰è¯·æ±‚å®Œæˆåéƒ½è¦æ‰§è¡Œçš„æ“ä½œ  ==================</span><br><span class="line"></span><br><span class="line">// ç¬¬ä¸€ç§æ–¹å¼</span><br><span class="line"></span><br><span class="line">    // æ ¹æ®è¿”å›çš„codeå€¼æ¥åšä¸åŒçš„å¤„ç†ï¼ˆå’Œåç«¯çº¦å®šï¼‰</span><br><span class="line">    switch (data.code) &#123;</span><br><span class="line">        case &#x27;0&#x27;:</span><br><span class="line">            // exp: ä¿®å¤iPhone 6+ å¾®ä¿¡ç‚¹å‡»è¿”å›å‡ºç°é¡µé¢ç©ºç™½çš„é—®é¢˜</span><br><span class="line">            if (isIOS()) &#123;</span><br><span class="line">                // å¼‚æ­¥ä»¥ä¿è¯æ•°æ®å·²æ¸²æŸ“åˆ°é¡µé¢ä¸Š</span><br><span class="line">                setTimeout(() =&gt; &#123;</span><br><span class="line">                    // é€šè¿‡æ»šåŠ¨å¼ºåˆ¶æµè§ˆå™¨è¿›è¡Œé¡µé¢é‡ç»˜</span><br><span class="line">                    document.body.scrollTop += 1</span><br><span class="line">                &#125;, 0)</span><br><span class="line">            &#125;</span><br><span class="line">            // è¿™ä¸€æ­¥ä¿è¯æ•°æ®è¿”å›ï¼Œå¦‚æœæ²¡æœ‰returnåˆ™ä¼šèµ°æ¥ä¸‹æ¥çš„ä»£ç ï¼Œä¸æ˜¯æœªç™»å½•å°±æ˜¯æŠ¥é”™</span><br><span class="line">            return data</span><br><span class="line"></span><br><span class="line">        // éœ€è¦é‡æ–°ç™»å½•</span><br><span class="line">        case &#x27;SHIRO_E5001&#x27;:</span><br><span class="line">            // å¾®ä¿¡ç”Ÿäº§ç¯å¢ƒä¸‹æˆæƒç™»å½•</span><br><span class="line">            if (isWeChat() &amp;&amp; IS_PRODUCTION) &#123;</span><br><span class="line">                axios.get(apis.common.wechat.authorizeUrl).then((&#123; result &#125;) =&gt; &#123;</span><br><span class="line">                    location.replace(global.decodeURIComponent(result))</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                // å¦åˆ™è·³è½¬åˆ°h5ç™»å½•å¹¶å¸¦ä¸Šè·³è½¬è·¯ç”±</span><br><span class="line">                const search = encodeSearchParams(&#123;</span><br><span class="line">                    next: location.href,</span><br><span class="line">                &#125;)</span><br><span class="line"></span><br><span class="line">                location.replace(`/user/login`)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            // ä¸æ˜¾ç¤ºæç¤ºæ¶ˆæ¯</span><br><span class="line">            data.description = &#x27;&#x27;</span><br><span class="line">            break</span><br><span class="line"></span><br><span class="line">        default:</span><br><span class="line">    &#125;</span><br><span class="line">    // è‹¥ä¸æ˜¯æ­£ç¡®çš„è¿”å›codeï¼Œä¸”å·²ç»ç™»å½•ï¼Œå°±æŠ›å‡ºé”™è¯¯</span><br><span class="line">    const err = new Error(data.description)</span><br><span class="line"></span><br><span class="line">    err.data = data</span><br><span class="line">    err.response = response</span><br><span class="line"></span><br><span class="line">  // ç¬¬äºŒç§æ–¹å¼ï¼Œä»…å¯¹200å’ŒerrorçŠ¶æ€å¤„ç†</span><br><span class="line">  if (data.status &amp;&amp; data.status == 200 &amp;&amp; data.data.status == &#x27;error&#x27;) &#123;</span><br><span class="line">    Message.error(&#123;message: data.data.msg&#125;);</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line">  return data;</span><br><span class="line">&#125;, err=&gt; &#123;</span><br><span class="line">//==============  é”™è¯¯å¤„ç†  ====================</span><br><span class="line">   if (err &amp;&amp; err.response) &#123;</span><br><span class="line">        switch (err.response.status) &#123;</span><br><span class="line">            case 400: err.message = &#x27;è¯·æ±‚é”™è¯¯(400)&#x27;; break;</span><br><span class="line">            case 401: err.message = &#x27;æœªæˆæƒï¼Œè¯·é‡æ–°ç™»å½•(401)&#x27;; break;</span><br><span class="line">            case 403: err.message = &#x27;æ‹’ç»è®¿é—®(403)&#x27;; break;</span><br><span class="line">            case 404: err.message = &#x27;è¯·æ±‚å‡ºé”™(404)&#x27;; break;</span><br><span class="line">            case 408: err.message = &#x27;è¯·æ±‚è¶…æ—¶(408)&#x27;; break;</span><br><span class="line">            case 500: err.message = &#x27;æœåŠ¡å™¨é”™è¯¯(500)&#x27;; break;</span><br><span class="line">            case 501: err.message = &#x27;æœåŠ¡æœªå®ç°(501)&#x27;; break;</span><br><span class="line">            case 502: err.message = &#x27;ç½‘ç»œé”™è¯¯(502)&#x27;; break;</span><br><span class="line">            case 503: err.message = &#x27;æœåŠ¡ä¸å¯ç”¨(503)&#x27;; break;</span><br><span class="line">            case 504: err.message = &#x27;ç½‘ç»œè¶…æ—¶(504)&#x27;; break;</span><br><span class="line">            case 505: err.message = &#x27;HTTPç‰ˆæœ¬ä¸å—æ”¯æŒ(505)&#x27;; break;</span><br><span class="line">            default: err.message = `è¿æ¥å‡ºé”™($&#123;err.response.status&#125;)!`;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        err.message = &#x27;è¿æ¥æœåŠ¡å™¨å¤±è´¥!&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">  Message.err( &#123;message: err.message &#125; )</span><br><span class="line">  return Promise.resolve(err);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¯·æ±‚å‡ºé”™çš„æ—¶å€™æ‰§è¡Œçš„æ˜¯ï¼š<code>Promise.resolve(err)</code>;ï¼Œè€Œä¸æ˜¯<code>Promise.reject(err)</code>;ï¼Œè¿™æ ·æ— è®ºè¯·æ±‚æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œåœ¨æˆåŠŸçš„å›è°ƒä¸­éƒ½èƒ½æ”¶åˆ°é€šçŸ¥</p>
</blockquote>
<h3 id="8-3-vue-é¡¹ç›®ä¸­ä½¿ç”¨è¯¥æ–¹æ³•"><a href="#8-3-vue-é¡¹ç›®ä¸­ä½¿ç”¨è¯¥æ–¹æ³•" class="headerlink" title="8.3 vue é¡¹ç›®ä¸­ä½¿ç”¨è¯¥æ–¹æ³•"></a>8.3 vue é¡¹ç›®ä¸­ä½¿ç”¨è¯¥æ–¹æ³•</h3><blockquote>
<p>åœ¨main.jsä¸­å¯¼å…¥æ‰€æœ‰è¯·æ±‚æ–¹æ³•</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//  å¯¼å…¥æ‰€æœ‰è¯·æ±‚æ–¹æ³•</span><br><span class="line">import &#123;getRequest,postRequest,deleteRequest,putRequest&#125; from &#x27;./utils/api&#x27;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å°†è¯·æ±‚æ–¹æ³•æ·»åŠ è‡³ <code>Vue.prototype</code> ä¸Š</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//  å‘VUEçš„åŸå‹ä¸Šæ·»åŠ è¯·æ±‚æ–¹æ³•</span><br><span class="line">Vue.prototype.getRequest = getRequest;</span><br><span class="line">Vue.prototype.postRequest = postRequest;</span><br><span class="line">Vue.prototype.deleteRequest = deleteRequest;</span><br><span class="line">Vue.prototype.putRequest = putRequest;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å‘é€è¯·æ±‚ï¼ˆè¯·æ±‚æ–¹æ³•çš„è°ƒç”¨ï¼‰</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//  å‘é€ç½‘ç»œè¯·æ±‚</span><br><span class="line">this.postRequest(&#x27;/login&#x27;, &#123;userNameï¼Œpassword&#125;).then(resp=&gt; &#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="ä¹ã€æ¥å£å°è£…å¤„ç†"><a href="#ä¹ã€æ¥å£å°è£…å¤„ç†" class="headerlink" title="ä¹ã€æ¥å£å°è£…å¤„ç†"></a>ä¹ã€æ¥å£å°è£…å¤„ç†</h2><blockquote>
<p><code>vue</code>ä¸­<code>Axios</code>çš„å°è£…ä¸<code>API</code>æ¥å£çš„ç®¡ç†è¯¦è§£</p>
</blockquote>
<h3 id="9-1-axiosçš„å°è£…"><a href="#9-1-axiosçš„å°è£…" class="headerlink" title="9.1 axiosçš„å°è£…"></a>9.1 axiosçš„å°è£…</h3><blockquote>
<p>åœ¨<code>vue</code>é¡¹ç›®ä¸­ï¼Œå’Œåå°äº¤äº’è·å–æ•°æ®è¿™å—ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨çš„æ˜¯<code>axios</code>åº“ï¼Œå®ƒæ˜¯åŸºäº<code>promise</code>çš„<code>http</code>åº“ï¼Œå¯è¿è¡Œåœ¨æµè§ˆå™¨ç«¯å’Œ<code>node.js</code>ä¸­ã€‚ä»–æœ‰å¾ˆå¤šä¼˜ç§€çš„ç‰¹æ€§ï¼Œä¾‹å¦‚æ‹¦æˆªè¯·æ±‚å’Œå“åº”ã€å–æ¶ˆè¯·æ±‚ã€è½¬æ¢<code>json</code>ã€å®¢æˆ·ç«¯é˜²å¾¡<code>XSRF</code>ç­‰</p>
</blockquote>
<ul>
<li>ä¸€èˆ¬æˆ‘ä¼šåœ¨é¡¹ç›®çš„<code>src</code>ç›®å½•ä¸­ï¼Œæ–°å»ºä¸€ä¸ª<code>request</code>æ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨é‡Œé¢æ–°å»ºä¸€ä¸ª<code>http.js</code>å’Œä¸€ä¸ª<code>api.js</code>æ–‡ä»¶ã€‚<code>http.js</code>æ–‡ä»¶ç”¨æ¥å°è£…æˆ‘ä»¬çš„<code>axios</code>ï¼Œ<code>api.js</code>ç”¨æ¥ç»Ÿä¸€ç®¡ç†æˆ‘ä»¬çš„æ¥å£</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// åœ¨http.jsä¸­å¼•å…¥axios</span><br><span class="line">import axios from &#x27;axios&#x27;; // å¼•å…¥axios</span><br><span class="line">import QS from &#x27;qs&#x27;; // å¼•å…¥qsæ¨¡å—ï¼Œç”¨æ¥åºåˆ—åŒ–postç±»å‹çš„æ•°æ®ï¼Œåé¢ä¼šæåˆ°</span><br><span class="line">// vantçš„toastæç¤ºæ¡†ç»„ä»¶ï¼Œå¤§å®¶å¯æ ¹æ®è‡ªå·±çš„uiç»„ä»¶æ›´æ”¹ã€‚</span><br><span class="line">import &#123; Toast &#125; from &#x27;vant&#x27;;</span><br></pre></td></tr></table></figure>

<h3 id="9-2-ç¯å¢ƒçš„åˆ‡æ¢"><a href="#9-2-ç¯å¢ƒçš„åˆ‡æ¢" class="headerlink" title="9.2 ç¯å¢ƒçš„åˆ‡æ¢"></a>9.2 ç¯å¢ƒçš„åˆ‡æ¢</h3><blockquote>
<p>æˆ‘ä»¬çš„é¡¹ç›®ç¯å¢ƒå¯èƒ½æœ‰å¼€å‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒã€‚æˆ‘ä»¬é€šè¿‡<code>node</code>çš„ç¯å¢ƒå˜é‡æ¥åŒ¹é…æˆ‘ä»¬çš„é»˜è®¤çš„æ¥å£<code>url</code>å‰ç¼€ã€‚<code>axios.defaults.baseURL</code>å¯ä»¥è®¾ç½®<code>axios</code>çš„é»˜è®¤è¯·æ±‚åœ°å€å°±ä¸å¤šè¯´äº†</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// ç¯å¢ƒçš„åˆ‡æ¢</span><br><span class="line">if (process.env.NODE_ENV == &#x27;development&#x27;) &#123; </span><br><span class="line"> axios.defaults.baseURL = &#x27;https://www.baidu.com&#x27;;&#125; </span><br><span class="line">else if (process.env.NODE_ENV == &#x27;debug&#x27;) &#123; </span><br><span class="line"> axios.defaults.baseURL = &#x27;https://www.ceshi.com&#x27;;</span><br><span class="line">&#125; </span><br><span class="line">else if (process.env.NODE_ENV == &#x27;production&#x27;) &#123; </span><br><span class="line"> axios.defaults.baseURL = &#x27;https://www.production.com&#x27;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-3-è®¾ç½®è¯·æ±‚è¶…æ—¶"><a href="#9-3-è®¾ç½®è¯·æ±‚è¶…æ—¶" class="headerlink" title="9.3 è®¾ç½®è¯·æ±‚è¶…æ—¶"></a>9.3 è®¾ç½®è¯·æ±‚è¶…æ—¶</h3><blockquote>
<p>é€šè¿‡<code>axios.defaults.timeout</code>è®¾ç½®é»˜è®¤çš„è¯·æ±‚è¶…æ—¶æ—¶é—´ã€‚ä¾‹å¦‚è¶…è¿‡äº†10sï¼Œå°±ä¼šå‘ŠçŸ¥ç”¨æˆ·å½“å‰è¯·æ±‚è¶…æ—¶ï¼Œè¯·åˆ·æ–°ç­‰</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">axios.defaults.timeout = 10000;</span><br></pre></td></tr></table></figure>

<blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post`è¯·æ±‚å¤´çš„è®¾ç½®`post`è¯·æ±‚çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åŠ ä¸Šä¸€ä¸ªè¯·æ±‚å¤´ï¼Œæ‰€ä»¥å¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œä¸€ä¸ªé»˜è®¤çš„è®¾ç½®ï¼Œå³è®¾ç½®`post`çš„è¯·æ±‚å¤´ä¸º`application/x-www-form-urlencoded;charset=UTF-8</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">axios.defaults.headers.post[&#x27;Content-Type&#x27;] = &#x27;application/x-www-form-urlencode</span><br></pre></td></tr></table></figure>

<h3 id="9-4-è¯·æ±‚æ‹¦æˆª"><a href="#9-4-è¯·æ±‚æ‹¦æˆª" class="headerlink" title="9.4 è¯·æ±‚æ‹¦æˆª"></a>9.4 è¯·æ±‚æ‹¦æˆª</h3><blockquote>
<p>æˆ‘ä»¬åœ¨å‘é€è¯·æ±‚å‰å¯ä»¥è¿›è¡Œä¸€ä¸ªè¯·æ±‚çš„æ‹¦æˆªï¼Œä¸ºä»€ä¹ˆè¦æ‹¦æˆªå‘¢ï¼Œæˆ‘ä»¬æ‹¦æˆªè¯·æ±‚æ˜¯ç”¨æ¥åšä»€ä¹ˆçš„å‘¢ï¼Ÿæ¯”å¦‚ï¼Œæœ‰äº›è¯·æ±‚æ˜¯éœ€è¦ç”¨æˆ·ç™»å½•ä¹‹åæ‰èƒ½è®¿é—®çš„ï¼Œæˆ–è€…postè¯·æ±‚çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åºåˆ—åŒ–æˆ‘ä»¬æäº¤çš„æ•°æ®ã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¯·æ±‚è¢«å‘é€ä¹‹å‰è¿›è¡Œä¸€ä¸ªæ‹¦æˆªï¼Œä»è€Œè¿›è¡Œæˆ‘ä»¬æƒ³è¦çš„æ“ä½œ</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// å…ˆå¯¼å…¥vuex,å› ä¸ºæˆ‘ä»¬è¦ä½¿ç”¨åˆ°é‡Œé¢çš„çŠ¶æ€å¯¹è±¡</span><br><span class="line">// vuexçš„è·¯å¾„æ ¹æ®è‡ªå·±çš„è·¯å¾„å»å†™</span><br><span class="line">import store from &#x27;@/store/index&#x27;;</span><br><span class="line"></span><br><span class="line">// è¯·æ±‚æ‹¦æˆªå™¨axios.interceptors.request.use( </span><br><span class="line"> config =&gt; &#123; </span><br><span class="line"> // æ¯æ¬¡å‘é€è¯·æ±‚ä¹‹å‰åˆ¤æ–­vuexä¸­æ˜¯å¦å­˜åœ¨token </span><br><span class="line"> // å¦‚æœå­˜åœ¨ï¼Œåˆ™ç»Ÿä¸€åœ¨httpè¯·æ±‚çš„headeréƒ½åŠ ä¸Štokenï¼Œè¿™æ ·åå°æ ¹æ®tokenåˆ¤æ–­ä½ çš„ç™»å½•æƒ…å†µ</span><br><span class="line"> // å³ä½¿æœ¬åœ°å­˜åœ¨tokenï¼Œä¹Ÿæœ‰å¯èƒ½tokenæ˜¯è¿‡æœŸçš„ï¼Œæ‰€ä»¥åœ¨å“åº”æ‹¦æˆªå™¨ä¸­è¦å¯¹è¿”å›çŠ¶æ€è¿›è¡Œåˆ¤æ–­ </span><br><span class="line"> const token = store.state.token; </span><br><span class="line"> token &amp;&amp; (config.headers.Authorization = token); </span><br><span class="line"> return config; </span><br><span class="line"> &#125;, </span><br><span class="line"> error =&gt; &#123; </span><br><span class="line"> return Promise.error(error); </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¸€èˆ¬æ˜¯åœ¨ç™»å½•å®Œæˆä¹‹åï¼Œå°†ç”¨æˆ·çš„<code>token</code>é€šè¿‡<code>localStorage</code>æˆ–è€…<code>cookie</code>å­˜åœ¨æœ¬åœ°ï¼Œç„¶åç”¨æˆ·æ¯æ¬¡åœ¨è¿›å…¥é¡µé¢çš„æ—¶å€™ï¼ˆå³åœ¨<code>main.js</code>ä¸­ï¼‰ï¼Œä¼šé¦–å…ˆä»æœ¬åœ°å­˜å‚¨ä¸­è¯»å–<code>token</code>ï¼Œå¦‚æœ<code>token</code>å­˜åœ¨è¯´æ˜ç”¨æˆ·å·²ç»ç™»é™†è¿‡ï¼Œåˆ™æ›´æ–°vuexä¸­çš„tokençŠ¶æ€ã€‚ç„¶åï¼Œåœ¨æ¯æ¬¡è¯·æ±‚æ¥å£çš„æ—¶å€™ï¼Œéƒ½ä¼šåœ¨è¯·æ±‚çš„<code>header</code>ä¸­æºå¸¦<code>token</code>ï¼Œåå°äººå‘˜å°±å¯ä»¥æ ¹æ®ä½ æºå¸¦çš„<code>token</code>æ¥åˆ¤æ–­ä½ çš„ç™»å½•æ˜¯å¦è¿‡æœŸï¼Œå¦‚æœæ²¡æœ‰æºå¸¦ï¼Œåˆ™è¯´æ˜æ²¡æœ‰ç™»å½•è¿‡ã€‚è¿™æ—¶å€™æˆ–è®¸æœ‰äº›å°ä¼™ä¼´ä¼šæœ‰ç–‘é—®äº†ï¼Œå°±æ˜¯æ¯ä¸ªè¯·æ±‚éƒ½æºå¸¦<code>token</code>ï¼Œé‚£ä¹ˆè¦æ˜¯ä¸€ä¸ªé¡µé¢ä¸éœ€è¦ç”¨æˆ·ç™»å½•å°±å¯ä»¥è®¿é—®çš„æ€ä¹ˆåŠå‘¢ï¼Ÿå…¶å®ï¼Œä½ å‰ç«¯çš„è¯·æ±‚å¯ä»¥æºå¸¦<code>token</code>ï¼Œä½†æ˜¯åå°å¯ä»¥é€‰æ‹©ä¸æ¥æ”¶å•Šï¼</p>
</blockquote>
<h3 id="9-5-å“åº”çš„æ‹¦æˆª"><a href="#9-5-å“åº”çš„æ‹¦æˆª" class="headerlink" title="9.5 å“åº”çš„æ‹¦æˆª"></a>9.5 å“åº”çš„æ‹¦æˆª</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">// å“åº”æ‹¦æˆªå™¨</span><br><span class="line">axios.interceptors.response.use( </span><br><span class="line"> response =&gt; &#123; </span><br><span class="line"> // å¦‚æœè¿”å›çš„çŠ¶æ€ç ä¸º200ï¼Œè¯´æ˜æ¥å£è¯·æ±‚æˆåŠŸï¼Œå¯ä»¥æ­£å¸¸æ‹¿åˆ°æ•°æ® </span><br><span class="line"> // å¦åˆ™çš„è¯æŠ›å‡ºé”™è¯¯</span><br><span class="line"> if (response.status === 200) &#123;  </span><br><span class="line">  return Promise.resolve(response); </span><br><span class="line"> &#125; else &#123;  </span><br><span class="line">  return Promise.reject(response); </span><br><span class="line"> &#125; </span><br><span class="line"> &#125;, </span><br><span class="line"> // æœåŠ¡å™¨çŠ¶æ€ç ä¸æ˜¯2å¼€å¤´çš„çš„æƒ…å†µ</span><br><span class="line"> // è¿™é‡Œå¯ä»¥è·Ÿä½ ä»¬çš„åå°å¼€å‘äººå‘˜åå•†å¥½ç»Ÿä¸€çš„é”™è¯¯çŠ¶æ€ç  </span><br><span class="line"> // ç„¶åæ ¹æ®è¿”å›çš„çŠ¶æ€ç è¿›è¡Œä¸€äº›æ“ä½œï¼Œä¾‹å¦‚ç™»å½•è¿‡æœŸæç¤ºï¼Œé”™è¯¯æç¤ºç­‰ç­‰</span><br><span class="line"> // ä¸‹é¢åˆ—ä¸¾å‡ ä¸ªå¸¸è§çš„æ“ä½œï¼Œå…¶ä»–éœ€æ±‚å¯è‡ªè¡Œæ‰©å±•</span><br><span class="line"> error =&gt; &#123;  </span><br><span class="line"> if (error.response.status) &#123;  </span><br><span class="line">  switch (error.response.status) &#123;  </span><br><span class="line">  // 401: æœªç™»å½•</span><br><span class="line">  // æœªç™»å½•åˆ™è·³è½¬ç™»å½•é¡µé¢ï¼Œå¹¶æºå¸¦å½“å‰é¡µé¢çš„è·¯å¾„</span><br><span class="line">  // åœ¨ç™»å½•æˆåŠŸåè¿”å›å½“å‰é¡µé¢ï¼Œè¿™ä¸€æ­¥éœ€è¦åœ¨ç™»å½•é¡µæ“ä½œã€‚  </span><br><span class="line">  case 401:   </span><br><span class="line">   router.replace(&#123;   </span><br><span class="line">   path: &#x27;/login&#x27;,   </span><br><span class="line">   query: &#123; </span><br><span class="line">    redirect: router.currentRoute.fullPath </span><br><span class="line">   &#125;</span><br><span class="line">   &#125;);</span><br><span class="line">   break;</span><br><span class="line"></span><br><span class="line">  // 403 tokenè¿‡æœŸ</span><br><span class="line">  // ç™»å½•è¿‡æœŸå¯¹ç”¨æˆ·è¿›è¡Œæç¤º</span><br><span class="line">  // æ¸…é™¤æœ¬åœ°tokenå’Œæ¸…ç©ºvuexä¸­tokenå¯¹è±¡</span><br><span class="line">  // è·³è½¬ç™»å½•é¡µé¢  </span><br><span class="line">  case 403:</span><br><span class="line">   Toast(&#123;</span><br><span class="line">   message: &#x27;ç™»å½•è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•&#x27;,</span><br><span class="line">   duration: 1000,</span><br><span class="line">   forbidClick: true</span><br><span class="line">   &#125;);</span><br><span class="line">   // æ¸…é™¤token</span><br><span class="line">   localStorage.removeItem(&#x27;token&#x27;);</span><br><span class="line">   store.commit(&#x27;loginSuccess&#x27;, null);</span><br><span class="line">   // è·³è½¬ç™»å½•é¡µé¢ï¼Œå¹¶å°†è¦æµè§ˆçš„é¡µé¢fullPathä¼ è¿‡å»ï¼Œç™»å½•æˆåŠŸåè·³è½¬éœ€è¦è®¿é—®çš„é¡µé¢ </span><br><span class="line">   setTimeout(() =&gt; &#123;   </span><br><span class="line">   router.replace(&#123;    </span><br><span class="line">    path: &#x27;/login&#x27;,    </span><br><span class="line">    query: &#123; </span><br><span class="line">    redirect: router.currentRoute.fullPath </span><br><span class="line">    &#125;   </span><br><span class="line">   &#125;);   </span><br><span class="line">   &#125;, 1000);   </span><br><span class="line">   break;</span><br><span class="line"></span><br><span class="line">  // 404è¯·æ±‚ä¸å­˜åœ¨</span><br><span class="line">  case 404:</span><br><span class="line">   Toast(&#123;</span><br><span class="line">   message: &#x27;ç½‘ç»œè¯·æ±‚ä¸å­˜åœ¨&#x27;,</span><br><span class="line">   duration: 1500,</span><br><span class="line">   forbidClick: true</span><br><span class="line">   &#125;);</span><br><span class="line">   break;</span><br><span class="line">  // å…¶ä»–é”™è¯¯ï¼Œç›´æ¥æŠ›å‡ºé”™è¯¯æç¤º</span><br><span class="line">  default:</span><br><span class="line">   Toast(&#123;</span><br><span class="line">   message: error.response.data.message,</span><br><span class="line">   duration: 1500,</span><br><span class="line">   forbidClick: true</span><br><span class="line">   &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  return Promise.reject(error.response);</span><br><span class="line"> &#125;</span><br><span class="line"> &#125; </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å“åº”æ‹¦æˆªå™¨å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯æœåŠ¡å™¨è¿”å›ç»™æˆ‘ä»¬çš„æ•°æ®ï¼Œæˆ‘ä»¬åœ¨æ‹¿åˆ°ä¹‹å‰å¯ä»¥å¯¹ä»–è¿›è¡Œä¸€äº›å¤„ç†ã€‚ä¾‹å¦‚ä¸Šé¢çš„æ€æƒ³ï¼šå¦‚æœåå°è¿”å›çš„çŠ¶æ€ç æ˜¯200ï¼Œåˆ™æ­£å¸¸è¿”å›æ•°æ®ï¼Œå¦åˆ™çš„æ ¹æ®é”™è¯¯çš„çŠ¶æ€ç ç±»å‹è¿›è¡Œä¸€äº›æˆ‘ä»¬éœ€è¦çš„é”™è¯¯ï¼Œå…¶å®è¿™é‡Œä¸»è¦å°±æ˜¯è¿›è¡Œäº†é”™è¯¯çš„ç»Ÿä¸€å¤„ç†å’Œæ²¡ç™»å½•æˆ–ç™»å½•è¿‡æœŸåè°ƒæ•´ç™»å½•é¡µçš„ä¸€ä¸ªæ“ä½œ</p>
</blockquote>
<ul>
<li>è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šé¢çš„<code>Toast()</code>æ–¹æ³•ï¼Œæ˜¯æˆ‘å¼•å…¥çš„<code>vant</code>åº“ä¸­çš„<code>toast</code>è½»æç¤ºç»„ä»¶ï¼Œä½ æ ¹æ®ä½ çš„<code>ui</code>åº“ï¼Œå¯¹åº”ä½¿ç”¨ä½ çš„ä¸€ä¸ªæç¤ºç»„ä»¶</li>
</ul>
<h3 id="9-6-å°è£…getæ–¹æ³•å’Œpostæ–¹æ³•"><a href="#9-6-å°è£…getæ–¹æ³•å’Œpostæ–¹æ³•" class="headerlink" title="9.6 å°è£…getæ–¹æ³•å’Œpostæ–¹æ³•"></a>9.6 å°è£…getæ–¹æ³•å’Œpostæ–¹æ³•</h3><blockquote>
<p>æˆ‘ä»¬å¸¸ç”¨çš„<code>ajax</code>è¯·æ±‚æ–¹æ³•æœ‰<code>get</code>ã€<code>post</code>ã€<code>put</code>ç­‰æ–¹æ³•ã€‚<code>axios</code>å¯¹åº”çš„ä¹Ÿæœ‰å¾ˆå¤šç±»ä¼¼çš„æ–¹æ³•ï¼Œä¸æ¸…æ¥šçš„å¯ä»¥çœ‹ä¸‹æ–‡æ¡£ã€‚ä½†æ˜¯ä¸ºäº†ç®€åŒ–æˆ‘ä»¬çš„ä»£ç ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦å¯¹å…¶è¿›è¡Œä¸€ä¸ªç®€å•çš„å°è£…ã€‚ä¸‹é¢æˆ‘ä»¬ä¸»è¦å°è£…ä¸¤ä¸ªæ–¹æ³•ï¼š<code>get</code>å’Œ<code>post</code></p>
</blockquote>
<ul>
<li><code>get</code>æ–¹æ³•ï¼šæˆ‘ä»¬é€šè¿‡å®šä¹‰ä¸€ä¸ª<code>get</code>å‡½æ•°ï¼Œ<code>get</code>å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºæˆ‘ä»¬è¦è¯·æ±‚çš„<code>url</code>åœ°å€ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æˆ‘ä»¬è¦æºå¸¦çš„è¯·æ±‚å‚æ•°ã€‚<code>get</code>å‡½æ•°è¿”å›ä¸€ä¸ª<code>promise</code>å¯¹è±¡ï¼Œå½“<code>axios</code>å…¶è¯·æ±‚æˆåŠŸæ—¶<code>resolve</code>æœåŠ¡å™¨è¿”å›å€¼ï¼Œè¯·æ±‚å¤±è´¥æ—¶<code>reject</code>é”™è¯¯å€¼ã€‚æœ€åé€šè¿‡<code>export</code>æŠ›å‡º<code>get</code>å‡½æ•°</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * getæ–¹æ³•ï¼Œå¯¹åº”getè¯·æ±‚</span><br><span class="line"> * @param &#123;String&#125; url [è¯·æ±‚çš„urlåœ°å€]</span><br><span class="line"> * @param &#123;Object&#125; params [è¯·æ±‚æ—¶æºå¸¦çš„å‚æ•°]</span><br><span class="line"> */</span><br><span class="line">export function get(url, params)&#123; </span><br><span class="line"> return new Promise((resolve, reject) =&gt;&#123; </span><br><span class="line"> axios.get(url, &#123;  </span><br><span class="line">  params: params </span><br><span class="line"> &#125;).then(res =&gt; &#123;</span><br><span class="line">  resolve(res.data);</span><br><span class="line"> &#125;).catch(err =&gt;&#123;</span><br><span class="line">  reject(err.data) </span><br><span class="line"> &#125;) </span><br><span class="line">&#125;);&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>post</code>æ–¹æ³•ï¼šåŸç†åŒ<code>get</code>åŸºæœ¬ä¸€æ ·ï¼Œä½†æ˜¯è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>post</code>æ–¹æ³•å¿…é¡»è¦ä½¿ç”¨å¯¹æäº¤ä»å‚æ•°å¯¹è±¡è¿›è¡Œåºåˆ—åŒ–çš„æ“ä½œï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬é€šè¿‡<code>node</code>çš„<code>qs</code>æ¨¡å—æ¥åºåˆ—åŒ–æˆ‘ä»¬çš„å‚æ•°ã€‚è¿™ä¸ªå¾ˆé‡è¦ï¼Œå¦‚æœæ²¡æœ‰åºåˆ—åŒ–æ“ä½œï¼Œåå°æ˜¯æ‹¿ä¸åˆ°ä½ æäº¤çš„æ•°æ®çš„</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/** </span><br><span class="line"> * postæ–¹æ³•ï¼Œå¯¹åº”postè¯·æ±‚ </span><br><span class="line"> * @param &#123;String&#125; url [è¯·æ±‚çš„urlåœ°å€] </span><br><span class="line"> * @param &#123;Object&#125; params [è¯·æ±‚æ—¶æºå¸¦çš„å‚æ•°] </span><br><span class="line"> */</span><br><span class="line">export function post(url, params) &#123;</span><br><span class="line"> return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">  axios.post(url, QS.stringify(params))</span><br><span class="line"> .then(res =&gt; &#123;</span><br><span class="line">  resolve(res.data);</span><br><span class="line"> &#125;)</span><br><span class="line"> .catch(err =&gt;&#123;</span><br><span class="line">  reject(err.data)</span><br><span class="line"> &#125;)</span><br><span class="line"> &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>axios.get()</code>æ–¹æ³•å’Œ<code>axios.post()</code>åœ¨æäº¤æ•°æ®æ—¶å‚æ•°çš„ä¹¦å†™æ–¹å¼è¿˜æ˜¯æœ‰åŒºåˆ«çš„ã€‚åŒºåˆ«å°±æ˜¯ï¼Œ<code>get</code>çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ª<code>&#123;&#125;</code>ï¼Œç„¶åè¿™ä¸ªå¯¹è±¡çš„<code>params</code>å±æ€§å€¼æ˜¯ä¸€ä¸ªå‚æ•°å¯¹è±¡çš„ã€‚è€Œ<code>post</code>çš„ç¬¬äºŒä¸ªå‚æ•°å°±æ˜¯ä¸€ä¸ªå‚æ•°å¯¹è±¡</p>
</blockquote>
<h3 id="9-7-apiçš„ç»Ÿä¸€ç®¡ç†"><a href="#9-7-apiçš„ç»Ÿä¸€ç®¡ç†" class="headerlink" title="9.7 apiçš„ç»Ÿä¸€ç®¡ç†"></a>9.7 apiçš„ç»Ÿä¸€ç®¡ç†</h3><blockquote>
<p>é¦–å…ˆæˆ‘ä»¬åœ¨<code>api.js</code>ä¸­å¼•å…¥æˆ‘ä»¬å°è£…çš„<code>get</code>å’Œ<code>post</code>æ–¹æ³•</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/** </span><br><span class="line"> * apiæ¥å£ç»Ÿä¸€ç®¡ç†</span><br><span class="line"> */</span><br><span class="line">import &#123; get, post &#125; from &#x27;./http&#x27;</span><br></pre></td></tr></table></figure>

<p>åœ¨<code>api.js</code>ä¸­</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export const apiAddress = param =&gt; post(&#x27;api/v1/users&#x27;,param)</span><br></pre></td></tr></table></figure>

<p>åœ¨æˆ‘ä»¬çš„é¡µé¢ä¸­å¯ä»¥è¿™æ ·è°ƒç”¨æˆ‘ä»¬çš„<code>api</code>æ¥å£</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import &#123; apiAddress &#125; from &#x27;@/request/api&#x27;;// å¯¼å…¥æˆ‘ä»¬çš„apiæ¥å£</span><br><span class="line">export default &#123;  </span><br><span class="line"> name: &#x27;Address&#x27;, </span><br><span class="line"> created () &#123;</span><br><span class="line">  this.onLoad();</span><br><span class="line"> &#125;,</span><br><span class="line"> methods: &#123;   </span><br><span class="line">  // è·å–æ•°æ®   </span><br><span class="line">  onLoad() &#123;</span><br><span class="line">   // è°ƒç”¨apiæ¥å£ï¼Œå¹¶ä¸”æä¾›äº†ä¸¤ä¸ªå‚æ•°    </span><br><span class="line">   apiAddress(&#123;     </span><br><span class="line">    type: 0,     </span><br><span class="line">    sort: 1    </span><br><span class="line">   &#125;).then(res =&gt; &#123;</span><br><span class="line">    // è·å–æ•°æ®æˆåŠŸåçš„å…¶ä»–æ“ä½œ</span><br><span class="line">    â€¦â€¦â€¦â€¦â€¦â€¦    </span><br><span class="line">   &#125;)   </span><br><span class="line">  &#125;  </span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9-8-å®Œæ•´å°è£…ä»£ç "><a href="#9-8-å®Œæ•´å°è£…ä»£ç " class="headerlink" title="9.8 å®Œæ•´å°è£…ä»£ç "></a>9.8 å®Œæ•´å°è£…ä»£ç </h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line">/**axioså°è£…</span><br><span class="line"> * è¯·æ±‚æ‹¦æˆªã€ç›¸åº”æ‹¦æˆªã€é”™è¯¯ç»Ÿä¸€å¤„ç†</span><br><span class="line"> */</span><br><span class="line">import axios from &#x27;axios&#x27;;</span><br><span class="line">import QS from &#x27;qs&#x27;;</span><br><span class="line">import &#123;</span><br><span class="line">	Toast</span><br><span class="line">&#125;</span><br><span class="line">from &#x27;vant&#x27;;</span><br><span class="line">import store from &#x27;../store/index&#x27;</span><br><span class="line"></span><br><span class="line">// ç¯å¢ƒçš„åˆ‡æ¢</span><br><span class="line">if (process.env.NODE_ENV == &#x27;development&#x27;) &#123;</span><br><span class="line">	axios.defaults.baseURL = &#x27;/api&#x27;;</span><br><span class="line">&#125; else if (process.env.NODE_ENV == &#x27;debug&#x27;) &#123;</span><br><span class="line">	axios.defaults.baseURL = &#x27;&#x27;;</span><br><span class="line">&#125; else if (process.env.NODE_ENV == &#x27;production&#x27;) &#123;</span><br><span class="line">	axios.defaults.baseURL = &#x27;http://api.123dailu.com/&#x27;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// è¯·æ±‚è¶…æ—¶æ—¶é—´</span><br><span class="line">axios.defaults.timeout = 10000;</span><br><span class="line"></span><br><span class="line">// postè¯·æ±‚å¤´</span><br><span class="line">axios.defaults.headers.post[&#x27;Content-Type&#x27;] = &#x27;application/x-www-form-urlencoded;charset=UTF-8&#x27;;</span><br><span class="line"></span><br><span class="line">// è¯·æ±‚æ‹¦æˆªå™¨</span><br><span class="line">axios.interceptors.request.use(</span><br><span class="line">config = &gt; &#123;</span><br><span class="line">	// æ¯æ¬¡å‘é€è¯·æ±‚ä¹‹å‰åˆ¤æ–­æ˜¯å¦å­˜åœ¨tokenï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™ç»Ÿä¸€åœ¨httpè¯·æ±‚çš„headeréƒ½åŠ ä¸Štokenï¼Œä¸ç”¨æ¯æ¬¡è¯·æ±‚éƒ½æ‰‹åŠ¨æ·»åŠ äº†</span><br><span class="line">	// å³ä½¿æœ¬åœ°å­˜åœ¨tokenï¼Œä¹Ÿæœ‰å¯èƒ½tokenæ˜¯è¿‡æœŸçš„ï¼Œæ‰€ä»¥åœ¨å“åº”æ‹¦æˆªå™¨ä¸­è¦å¯¹è¿”å›çŠ¶æ€è¿›è¡Œåˆ¤æ–­</span><br><span class="line">	const token = store.state.token;</span><br><span class="line">	token &amp;&amp; (config.headers.Authorization = token);</span><br><span class="line">	return config;</span><br><span class="line">&#125;, error = &gt; &#123;</span><br><span class="line">	return Promise.error(error);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// å“åº”æ‹¦æˆªå™¨</span><br><span class="line">axios.interceptors.response.use(</span><br><span class="line">response = &gt; &#123;</span><br><span class="line">	if (response.status === 200) &#123;</span><br><span class="line">		return Promise.resolve(response);</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		return Promise.reject(response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;,</span><br><span class="line">// æœåŠ¡å™¨çŠ¶æ€ç ä¸æ˜¯200çš„æƒ…å†µ </span><br><span class="line">error = &gt; &#123;</span><br><span class="line">	if (error.response.status) &#123;</span><br><span class="line">		switch (error.response.status) &#123;</span><br><span class="line">			// 401: æœªç™»å½•    </span><br><span class="line">			// æœªç™»å½•åˆ™è·³è½¬ç™»å½•é¡µé¢ï¼Œå¹¶æºå¸¦å½“å‰é¡µé¢çš„è·¯å¾„    </span><br><span class="line">			// åœ¨ç™»å½•æˆåŠŸåè¿”å›å½“å‰é¡µé¢ï¼Œè¿™ä¸€æ­¥éœ€è¦åœ¨ç™»å½•é¡µæ“ä½œã€‚    </span><br><span class="line">		case 401:</span><br><span class="line">			router.replace(&#123;</span><br><span class="line">				path: &#x27;/login&#x27;,</span><br><span class="line">				query: &#123;</span><br><span class="line">					redirect: router.currentRoute.fullPath</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;);</span><br><span class="line">			break;</span><br><span class="line">			// 403 tokenè¿‡æœŸ    </span><br><span class="line">			// ç™»å½•è¿‡æœŸå¯¹ç”¨æˆ·è¿›è¡Œæç¤º    </span><br><span class="line">			// æ¸…é™¤æœ¬åœ°tokenå’Œæ¸…ç©ºvuexä¸­tokenå¯¹è±¡    </span><br><span class="line">			// è·³è½¬ç™»å½•é¡µé¢    </span><br><span class="line">		case 403:</span><br><span class="line">			Toast(&#123;</span><br><span class="line">				message: &#x27;ç™»å½•è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•&#x27;,</span><br><span class="line">				duration: 1000,</span><br><span class="line">				forbidClick: true</span><br><span class="line">			&#125;);</span><br><span class="line">			// æ¸…é™¤token     </span><br><span class="line">			localStorage.removeItem(&#x27;token&#x27;);</span><br><span class="line">			store.commit(&#x27;loginSuccess&#x27;, null);</span><br><span class="line">			// è·³è½¬ç™»å½•é¡µé¢ï¼Œå¹¶å°†è¦æµè§ˆçš„é¡µé¢fullPathä¼ è¿‡å»ï¼Œç™»å½•æˆåŠŸåè·³è½¬éœ€è¦è®¿é—®çš„é¡µé¢</span><br><span class="line">			setTimeout(() = &gt; &#123;</span><br><span class="line">				router.replace(&#123;</span><br><span class="line">					path: &#x27;/login&#x27;,</span><br><span class="line">					query: &#123;</span><br><span class="line">						redirect: router.currentRoute.fullPath</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;);</span><br><span class="line">			&#125;, 1000);</span><br><span class="line">			break;</span><br><span class="line">			// 404è¯·æ±‚ä¸å­˜åœ¨    </span><br><span class="line">		case 404:</span><br><span class="line">			Toast(&#123;</span><br><span class="line">				message: &#x27;ç½‘ç»œè¯·æ±‚ä¸å­˜åœ¨&#x27;,</span><br><span class="line">				duration: 1500,</span><br><span class="line">				forbidClick: true</span><br><span class="line">			&#125;);</span><br><span class="line">			break;</span><br><span class="line">			// å…¶ä»–é”™è¯¯ï¼Œç›´æ¥æŠ›å‡ºé”™è¯¯æç¤º    </span><br><span class="line">		default:</span><br><span class="line">			Toast(&#123;</span><br><span class="line">				message: error.response.data.message,</span><br><span class="line">				duration: 1500,</span><br><span class="line">				forbidClick: true</span><br><span class="line">			&#125;);</span><br><span class="line">		&#125;</span><br><span class="line">		return Promise.reject(error.response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br><span class="line">/** </span><br><span class="line"> * getæ–¹æ³•ï¼Œå¯¹åº”getè¯·æ±‚</span><br><span class="line"> * @param &#123;String&#125; url [è¯·æ±‚çš„urlåœ°å€]</span><br><span class="line"> * @param &#123;Object&#125; params [è¯·æ±‚æ—¶æºå¸¦çš„å‚æ•°]</span><br><span class="line"> */</span><br><span class="line">export</span><br><span class="line">function get(url, params) &#123;</span><br><span class="line">	return new Promise((resolve, reject) = &gt; &#123;</span><br><span class="line">		axios.get(url, &#123;</span><br><span class="line">			params: params</span><br><span class="line">		&#125;).then(res = &gt; &#123;</span><br><span class="line">			resolve(res.data);</span><br><span class="line">		&#125;).</span><br><span class="line">		catch (err = &gt; &#123;</span><br><span class="line">			reject(err.data)</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;</span><br><span class="line">/** </span><br><span class="line"> * postæ–¹æ³•ï¼Œå¯¹åº”postè¯·æ±‚</span><br><span class="line"> * @param &#123;String&#125; url [è¯·æ±‚çš„urlåœ°å€]</span><br><span class="line"> * @param &#123;Object&#125; params [è¯·æ±‚æ—¶æºå¸¦çš„å‚æ•°]</span><br><span class="line"> */</span><br><span class="line">export</span><br><span class="line">function post(url, params) &#123;</span><br><span class="line">	return new Promise((resolve, reject) = &gt; &#123;</span><br><span class="line">		axios.post(url, QS.stringify(params)).then(res = &gt; &#123;</span><br><span class="line">			resolve(res.data);</span><br><span class="line">		&#125;).</span><br><span class="line">		catch (err = &gt; &#123;</span><br><span class="line">			reject(err.data)</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
    </div>
</div>

<div class="cube-article-nav">
    <ul>
        
        <li class="prev">
            <a href="/2018/05/31/Vue/diff%E7%AE%97%E6%B3%95/">
                <i class="cube-icon cube-prev" aria-hidden="true"></i>
                vue-diffç®—æ³•
            </a>
        </li>
        
        
        <li class="next">
            <a href="/2018/05/13/http/TCP%E5%92%8CUDP%E7%9A%84%E5%8C%BA%E5%88%AB/">
                TCPå’ŒUDPçš„åŒºåˆ«
                <i class="cube-icon cube-next" aria-hidden="true"></i>
            </a>
        </li>
        
    </ul>
</div>


<!-- TODO æ ¹æ®theme.commentçš„å†…å®¹è¿›è¡Œå…¥å£é€‰æ‹© -->



        </div>
        <div class="cube-right">
            

<div class="cube-search cube-sidebar" id="cube-search">
    <div class="search-container">
        <input type="text" placeholder="Search" class="cube-search-input" id="cube-search-input">
        <i class="cube-icon cube-icon-search cube-search-submit" aria-hidden="true"></i>
    </div>
    <!-- TODO é€šè¿‡ç»™windowèµ‹ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œé€šè¿‡è„šæœ¬èµ‹å€¼ -->
</div>
<script>
    (function (window) {
        'use strict';
        window.searchModule = {}
        window.searchModule.JSONUrl = '/content.json'
        window.searchModule.rootUrl = '/'
    })(window)
</script>
<div class="cube-search-form">
    <div class="cube-search-control">
        <input type="text" placeholder="Search" class="search-input">
        <a class="close-button">
            <i class="cube-icon cube-close" aria-hidden="true"></i>
        </a>
    </div>
    <div class="cube-search-result"></div>
</div>


<div class="cube-author cube-sidebar" id="cube-author">
    
    
    <span>John Doe</span>
    
    
    <div class="count">
        <a class="count articles"><span>186</span>Article</a>
        <a class="count tags"><span>35</span>Tags</a>
        <a class="count categories"><span>23</span>Categories</a>
    </div>
</div>



<div class="cube-music cube-sidebar" id="cube-music">
    <div class="cube-player aplayer" id="cube-player"></div>
</div>
<script>
    (function (window) {
        window.musicModule = {}
        window.musicModule.musicConfig = '{"narrow":false,"autoplay":false,"showlrc":3,"theme":"#b7daff","mutex":true,"mode":"circulation","preload":"auto","listmaxheight":"513px","music":[{"title":"Dear friends","author":"TRIPLANE","url":"http://cube-1252774894.cosgz.myqcloud.com/music/source/TRIPLANE - Dear friends.mp3","lrc":"http://cube-1252774894.cosgz.myqcloud.com/music/lrc/Dear friends - TRIPLANE.lrc","pic":"http://cube-1252774894.cosgz.myqcloud.com/music/image/TRIPLANE - Dear friends.jpg"},{"title":"Butter-Fly","author":"å’Œç”°å…‰å¸","url":"http://cube-1252774894.cosgz.myqcloud.com/music/source/å’Œç”°å…‰å¸ - Butter-Fly (ãƒ”ã‚¢ãƒãƒ´ã‚¡ãƒ¼ã‚¸ãƒ§ãƒ³).mp3","lrc":"http://cube-1252774894.cosgz.myqcloud.com/music/lrc/Butter-Fly (ãƒ”ã‚¢ãƒãƒ´ã‚¡ãƒ¼ã‚¸ãƒ§ãƒ³) - å’Œç”°å…‰å¸.lrc","pic":"http://cube-1252774894.cosgz.myqcloud.com/music/image/å’Œç”°å…‰å¸ - Butter-Fly (ãƒ”ã‚¢ãƒãƒ´ã‚¡ãƒ¼ã‚¸ãƒ§ãƒ³).jpg"},{"title":"å®µé—‡èŠ±ç«","author":"è‘‰æœˆã‚†ã‚‰","url":"http://cube-1252774894.cosgz.myqcloud.com/music/source/è‘‰æœˆã‚†ã‚‰ - å®µé—‡èŠ±ç«.mp3","lrc":"http://cube-1252774894.cosgz.myqcloud.com/music/lrc/å®µé—‡èŠ±ç« - è‘‰æœˆã‚†ã‚‰.lrc","pic":"http://cube-1252774894.cosgz.myqcloud.com/music/image/è‘‰æœˆã‚†ã‚‰ - å®µé—‡èŠ±ç«.jpg"}]}'
        window.musicModule.lrcConfig = {
            open: 'Open Lyrics',
            close: 'Close Lyrics'
        }
    })(window)
</script>



<div class="cube-recent-posts cube-sidebar" id="cube-recent-posts">
    <div class="title">
        <a>Recent Posts</a>
    </div>
    <ul class="list">
        
        
        <li>
            <!-- TODO å¦‚æœæ–‡ç« è¦æ˜¾ç¤ºå›¾ç‰‡ï¼Œé‚£ä¹ˆåœ¨front-matterä¸Šæ·»åŠ previewå±æ€§(url or path) -->
            
            <div class="normal">
                <p class="index first">
                    <span>1</span>
                </p>
                <p class="title">
                    <a href="/2022/08/25/Js%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" title="å˜é‡ç±»å‹">å˜é‡ç±»å‹</a>
                </p>
            </div>
            
        </li>
        
        
        
        <li>
            <div class="normal">
                <p class="index">
                    <span>2</span>
                </p>
                <p class="title">
                    <a href="/2022/06/09/html+css+js+ts/3-js%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E6%93%8D%E4%BD%9C%E5%AE%9E%E4%BE%8B/" title="js-å¸¸ç”¨ä»£ç æ“ä½œå®ä¾‹">js-å¸¸ç”¨ä»£ç æ“ä½œå®ä¾‹</a>
                </p>
            </div>
        </li>
        
        
        
        <li>
            <div class="normal">
                <p class="index">
                    <span>3</span>
                </p>
                <p class="title">
                    <a href="/2022/05/28/html+css+js+ts/1-%E9%9F%B3%E8%A7%86%E9%A2%91/" title="html-åŸç”ŸéŸ³è§†é¢‘">html-åŸç”ŸéŸ³è§†é¢‘</a>
                </p>
            </div>
        </li>
        
        
        
        <li>
            <div class="normal">
                <p class="index">
                    <span>4</span>
                </p>
                <p class="title">
                    <a href="/2022/04/25/http/DNS%E5%8D%8F%E8%AE%AE/" title="DNSåè®®">DNSåè®®</a>
                </p>
            </div>
        </li>
        
        
        
        <li>
            <div class="normal">
                <p class="index">
                    <span>5</span>
                </p>
                <p class="title">
                    <a href="/2022/04/17/html+css+js+ts/4-%E8%A3%85%E9%A5%B0%E5%99%A8/" title="ES6 è£…é¥°å™¨">ES6 è£…é¥°å™¨</a>
                </p>
            </div>
        </li>
        
        
    </ul>
</div>



<div class="cube-categories cube-sidebar" id="cube-categories">
    <div class="title">
        <a href="/categories">Categories</a>
    </div>
    <div class="cube-boxs">
        
        
        <div class="cube-box ">
            <a href="/categories/http/">#http</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/categories/%E6%A1%86%E6%9E%B6/">#æ¡†æ¶</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/React/">#React</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/">#æ•°æ®å¯è§†åŒ–</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/categories/%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%BC%8F/">#æ¶æ„æ¨¡å¼</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/categories/%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%BC%8F/%E6%A1%86%E6%9E%B6/">#æ¡†æ¶</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E5%89%8D%E7%AB%AF/">#å‰ç«¯</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E5%89%8D%E7%AB%AF/%E7%A7%BB%E5%8A%A8%E7%AB%AF/">#ç§»åŠ¨ç«¯</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E5%89%8D%E7%AB%AF/%E9%9F%B3%E8%A7%86%E9%A2%91/">#éŸ³è§†é¢‘</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/javascript/">#javascript</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E5%89%8D%E7%AB%AF/%E9%97%AE%E9%A2%98/">#é—®é¢˜</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E5%90%8E%E7%AB%AF/">#åç«¯</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E5%B0%8F%E7%A8%8B%E5%BA%8F/">#å°ç¨‹åº</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E5%90%8E%E7%AB%AF/%E6%A1%86%E6%9E%B6/">#æ¡†æ¶</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E5%90%8E%E7%AB%AF/%E7%AE%97%E6%B3%95/">#ç®—æ³•</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/categories/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/">#å‰ç«¯å·¥ç¨‹åŒ–</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/categories/%E5%B7%A5%E5%85%B7/">#å·¥å…·</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/categories/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">#æ­£åˆ™è¡¨è¾¾å¼</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">#å‰ç«¯æ€§èƒ½ä¼˜åŒ–</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">#æ•°æ®åº“</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E7%AE%97%E6%B3%95/">#ç®—æ³•</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/liunx/">#liunx</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">#è®¾è®¡æ¨¡å¼</a>
        </div>
        
    </div>
</div>



<div class="cube-tagcloud cube-sidebar" id="cube-tagcloud">
    <div class="title">
        <a href="/tags">Tagcloud</a>
    </div>
    <div class="cube-boxs">
        
        
        <div class="cube-box-bg ">
            <a href="/tags/http/">#http</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/vue/">#vue</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/tags/React/">#React</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/Redux/">#Redux</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/echart/">#echart</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/vue3/">#vue3</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/react/">#react</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/html/">#html</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/tags/xml/">#xml</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/">#ç§»åŠ¨ç«¯</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/tags/css/">#css</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/javascript/">#javascript</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/tags/Promise/">#Promise</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/es6/">#es6</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/typescript/">#typescript</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/async-await/">#async/await</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/nodejs/">#nodejs</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/">#å°ç¨‹åº</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/python/">#python</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/glup/">#glup</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/tags/webpack/">#webpack</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/tags/%E5%89%8D%E7%AB%AF/">#å‰ç«¯</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/git/">#git</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/Mock/">#Mock</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/eslint/">#eslint</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/RESTful/">#RESTful</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/hexo/">#hexo</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/vs-code/">#vs code</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">#æ­£åˆ™è¡¨è¾¾å¼</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/%E4%BC%98%E5%8C%96/">#ä¼˜åŒ–</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/tags/mongodb/">#mongodb</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/mysql/">#mysql</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/%E7%AE%97%E6%B3%95/">#ç®—æ³•</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/nginx/">#nginx</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">#è®¾è®¡æ¨¡å¼</a>
        </div>
        
    </div>
</div>



<div class="cube-links cube-sidebar" id="cube-links">
    <div class="title">
        <a>Links</a>
    </div>
    <ul class="list">
        
        <li>
            
            
            <img src="http://cube-1252774894.cosgz.myqcloud.com/links/GitHub.png">
            
            <a href="https://github.com/ZEROKISEKI" target="_blank">GitHub</a>
        </li>
        
        <li>
            
            
            <img src="http://cube-1252774894.cosgz.myqcloud.com/links/Coding.png">
            
            <a href="https://coding.net/u/SORA1" target="_blank">Coding</a>
        </li>
        
        <li>
            
            
            <img src="http://cube-1252774894.cosgz.myqcloud.com/links/SF.png">
            
            <a href="https://segmentfault.com/u/aonosora" target="_blank">SFç¤¾åŒº</a>
        </li>
        
        <li>
            
            
            <img src="http://cube-1252774894.cosgz.myqcloud.com/links/å¼€å‘è€…å¤´æ¡.png">
            
            <a href="https://toutiao.io/u/148070" target="_blank">å¼€å‘è€…å¤´æ¡</a>
        </li>
        
    </ul>
</div>



<div class="cube-friend-links cube-sidebar" id="cube-friend-links">
    <div class="title">
        <a>Friend Links</a>
    </div>
    <ul class="list">
        
        <li>
            <!-- TODO change avatar.png to friend.png-->
            <img src="http://cube-1252774894.cosgz.myqcloud.com/friend_links/micblo.png">
            <a href="https://blog.micblo.com/" target="_blank">ç½—å¤§ä½¬</a>
        </li>
        
        <li>
            <!-- TODO change avatar.png to friend.png-->
            <img src="http://cube-1252774894.cosgz.myqcloud.com/friend_links/DIYgod.jpg">
            <a href="https://www.anotherhome.net/" target="_blank">DIYgod</a>
        </li>
        
        <li>
            <!-- TODO change avatar.png to friend.png-->
            <img src="/images/friend_links.jpg ">
            <a href="https://aonosora.com/" target="_blank">å’ªè¥¿è¥¿ã®éƒ¨è½æ ¼</a>
        </li>
        
    </ul>
</div>


        </div>
    </div>
</div>
<footer class="cube-footer">
    
Â© 2017 John Doe

<br>
Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>.&nbsp;Theme by <a href="https://github.com/ZEROKISEKI" target="_blank">AONOSORA</a>
</footer>
<!-- inject:script -->
<script src="/js/script.js"></script>
<!-- endinject -->
<div class="cube-loading out"></div>
</body>
</html>