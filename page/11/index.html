<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="author" content="John Doe">
    
    
    
    
    
    
    <title>Hexo</title>
    <!-- inject:style -->
    <link href="/css/style.css" rel="stylesheet" type="text/css">
    <!-- endinject -->
    <style>
        .cube-loading {
            top: 0;
            position: fixed;
            width: 100%;
            height: 100%;
            background: url('/images/lg/loading.gif') no-repeat center center;
            background-color: rgba(0,0,0,.7);
        }

        .cube-loading.out {
            display: none;
        }

        .cube-loading:before {
            display: block;
            content: 'Loading';
            position: relative;
            width: 100%;
            top: 50%;
            right: -50%;
            color: #fff;
        }

        @media(max-width: 768px) {
            .cube-loading:before {
                font-size: 1.2em;
                transform: translate(-24px,20px);
                -webkit-transform: translate(-24px,20px);
                -o-transform: translate(-24px,20px);
                -ms-transform: translate(-24px,20px);
            }
        }

        @media(min-width: 768px) {
            .cube-loading:before {

            }
        }
    </style>
    
<meta name="generator" content="Hexo 6.2.0"></head>
<body>
<div class="cube-body">
    <nav id="cube-top-memu" class="cube-menu">
    <ul class="cube-menu-collapse">
        
        <li>
            <i class="cube-icon cube-icon-home" aria-hidden="true"></i>
            <a href="/">é¦–é¡µ</a>
        </li>
        
        <li>
            <i class="cube-icon cube-icon-archive" aria-hidden="true"></i>
            <a href="/archives">å½’æ¡£</a>
        </li>
        
        <li>
            <i class="cube-icon cube-icon-categories" aria-hidden="true"></i>
            <a href="/categories">åˆ†ç±»</a>
        </li>
        
        <li>
            <i class="cube-icon cube-icon-tags" aria-hidden="true"></i>
            <a href="/tags">æ ‡ç­¾</a>
        </li>
        
        <li>
            <i class="cube-icon cube-icon-about" aria-hidden="true"></i>
            <a href="/about-me">å…³äºæˆ‘</a>
        </li>
        
    </ul>
</nav>
<nav class="cube-side-menu" id="cube-side-menu">
    <ul class="cube-menu-list">
        
        <li>
            <a class="lrc-control">Open Lyrics</a>
        </li>
        
        <li>
            <a class="scroll-to-top">Top</a>
        </li>
    </ul>
</nav>
    <header class="cube-header" id="cube-header">
    <img src=" https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201502%2F28%2F20150228220759_zaP3N.png&amp;refer=http%3A%2F%2Fb-ssl.duitang.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1664943562&amp;t=f546331d7d5aee27ceb7af09c60899f2 " alt="å¤´éƒ¨èƒŒæ™¯å›¾ç‰‡">
    
    <div class="cube-type">
        <span class="cube-typed-title">ğŸçš„ä¸ªäººåšå®¢ ^_^</span>
        <span class="cube-typed-cursor">|</span>
    </div>
    
</header>

    <style>
        nav.cube-menu:before {
            content: '';
            visibility: hidden;
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 44px;
        
            filter: blur(5px);
            -webkit-filter: blur(5px);
        
            z-index: -1;
            background-image: url('https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201502%2F28%2F20150228220759_zaP3N.png&amp;refer=http%3A%2F%2Fb-ssl.duitang.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1664943562&amp;t=f546331d7d5aee27ceb7af09c60899f2');
            background-repeat: no-repeat;
            background-position: center -356px;
            background-size: cover;
            background-color: transparent;
        }

        header.cube-background.cube-header-background {
            visibility: hidden;
            background-image: url('https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201502%2F28%2F20150228220759_zaP3N.png&amp;refer=http%3A%2F%2Fb-ssl.duitang.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1664943562&amp;t=f546331d7d5aee27ceb7af09c60899f2');
            background-position: center -400px;
        }
    </style>
    <header class="cube-background cube-header-background">
        
        <div class="cube-type">
            <span class="cube-typed-title">ğŸçš„ä¸ªäººåšå®¢ ^_^</span>
            <span class="cube-typed-cursor">|</span>
        </div>
        
    </header>
    <div class="load-header-background"></div>
    <script>
        (function (window) {

            window.headerModule = {}
            window.headerModule.image = {
                width: '2000',
                height: '1414'
            }

        })(window)
    </script>
    
    <div class="cube-content">
        <div class="cube-left">
            
<div class="cube-excerpt" id="cube-excerpt-node-åŸºç¡€æ€»ç»“">
    <header class="cube-excerpt-header">
        <h1><a href="/2019/05/14/nodejs/node-%E5%9F%BA%E7%A1%80%E7%AF%87/">node-åŸºç¡€æ€»ç»“</a></h1>
        <div class="cube-excerpt-header-msg">
            <div class="cube-excerpt-date">
                <i class="cube-icon cube-icon-date" aria-hidden="true"></i>
                2019-05-14
            </div>
            <div class="cube-excerpt-tags">
                <i class="cube-icon cube-icon-tag" aria-hidden="true"></i>
                
                <a href="/tags/nodejs/" class="cube-excerpt-tag-link">#nodejs</a>
                
            </div>
        </div>
    </header>
    <article class="cube-excerpt-entry cube-markdown">
        
        
           <h1 id="ä¸€ã€nodejsä»‹ç»"><a href="#ä¸€ã€nodejsä»‹ç»" class="headerlink" title="ä¸€ã€nodejsä»‹ç»"></a>ä¸€ã€nodejsä»‹ç»</h1><h2 id="1-1-ç®€ä»‹"><a href="#1-1-ç®€ä»‹" class="headerlink" title="1.1 ç®€ä»‹"></a>1.1 ç®€ä»‹</h2><ul>
<li><code>nodejs</code>æ˜¯ä¸€ä¸ª<code>JavaScript</code>è¿è¡Œç¯å¢ƒã€‚å®ƒè®© <code>JavaScript</code> å¯ä»¥å¼€å‘åç«¯ç¨‹åºï¼Œå®ç°å‡ ä¹å…¶ä»–åç«¯è¯­è¨€å®ç°çš„æ‰€æœ‰åŠŸèƒ½</li>
<li><code>Nodejs</code> æ˜¯åŸºäº <code>V8</code> å¼•æ“ï¼Œ<code>V8</code> æ˜¯ <code>Google</code> å‘å¸ƒçš„å¼€æº <code>JavaScript</code> å¼•æ“ï¼Œæœ¬èº«å°±æ˜¯ç”¨äº <code>Chrome</code> æµè§ˆå™¨ çš„ <code>JS</code> è§£é‡Šéƒ¨åˆ†ï¼Œ <code>V8</code> æ¬åˆ°äº†æœåŠ¡å™¨ä¸Šï¼Œç”¨äºåšæœåŠ¡å™¨çš„è½¯ä»¶</li>
<li>çŸ­çŸ­å‡ å¹´çš„æ—¶é—´ï¼ŒNode å–å¾—äº†å·¨å¤§çš„æˆåŠŸã€‚åœ¨ä¼ä¸šç•Œï¼ŒNode çš„åº”ç”¨ä¹Ÿè¶Šæ¥è¶Šå¹¿æ³›ï¼Œ2016 å¹´ nodeJS å®˜æ–¹çš„è°ƒæŸ¥æŠ¥å‘Šã€‚2016 å¹´å…¨çƒæœ‰ 350 ä¸‡å¼€å‘è€…ä½¿ç”¨ nodeJS,ç›¸æ¯”å»å¹´ä¿æŒäº† 100%çš„å¢é•¿ç‡ã€‚åƒ Yahooã€ Microsoft è¿™æ ·çš„å¤§å…¬å¸ï¼Œæœ‰å¥½å¤šåº”ç”¨å·²ç»è¿ç§»åˆ° Node äº†ã€‚å›½å†…çš„é˜¿é‡Œå·´å·´ã€ç½‘æ˜“ã€è…¾è®¯ã€æ–°æµªã€ç™¾åº¦ç­‰ å…¬å¸çš„å¾ˆå¤šçº¿ä¸Šäº§å“ä¹Ÿçº·çº·æ”¹ç”¨ Node å¼€å‘ï¼Œå¹¶å–å¾—äº†å¾ˆå¥½çš„æ•ˆæœã€‚æ®ç»Ÿè®¡å¾ˆå¤š A è½®ã€ B è½®çš„åˆ›ä¸šå…¬å¸æ›´ å–œæ¬¢ä½¿ç”¨ NodeJs å¼€å‘ã€‚</li>
</ul>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://nodejs.org/static/documents/2016-survey-report.pdf">https://nodejs.org/static/documents/2016-survey-report.pdf</a></p>
</blockquote>
<h2 id="1-2-NodeJs-çš„ä¼˜åŠ¿"><a href="#1-2-NodeJs-çš„ä¼˜åŠ¿" class="headerlink" title="1.2 NodeJs çš„ä¼˜åŠ¿"></a>1.2 NodeJs çš„ä¼˜åŠ¿</h2><p><strong>1. NodeJs è¯­æ³•å®Œå…¨æ˜¯ js è¯­æ³•ï¼Œåªè¦ä½ æ‡‚ JS åŸºç¡€å°±å¯ä»¥å­¦ä¼š Nodejs åç«¯å¼€å‘</strong></p>
<blockquote>
<p>Node æ‰“ç ´äº†è¿‡å» JavaScript åªèƒ½åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„å±€é¢ã€‚å‰åç«¯ç¼–ç¨‹ç¯å¢ƒç»Ÿä¸€ï¼Œå¯ä»¥å¤§å¤§é™ä½å¼€å‘æˆæœ¬</p>
</blockquote>
<p><strong>2. NodeJs è¶…å¼ºçš„é«˜å¹¶å‘èƒ½åŠ›</strong></p>
<ul>
<li><code>Node.js</code> çš„é¦–è¦ç›®æ ‡æ˜¯æä¾›ä¸€ç§ç®€å•çš„ã€ç”¨äºåˆ›å»ºé«˜æ€§èƒ½æœåŠ¡å™¨åŠå¯åœ¨è¯¥æœåŠ¡å™¨ä¸­è¿è¡Œçš„å„ç§åº”ç”¨ç¨‹ åºçš„å¼€å‘å·¥å…·</li>
<li>é¦–å…ˆè®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ç°åœ¨çš„æœåŠ¡å™¨ç«¯è¯­è¨€ä¸­å­˜åœ¨ç€ä»€ä¹ˆé—®é¢˜ã€‚<br>åœ¨ <code>Java</code>ã€<code>PHP</code> æˆ–è€…<code>.net</code> ç­‰æœåŠ¡å™¨ç«¯è¯­è¨€ä¸­ï¼Œä¼šä¸ºæ¯ä¸€ä¸ªå®¢æˆ·ç«¯è¿æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ã€‚è€Œæ¯ä¸ªçº¿ç¨‹éœ€è¦è€—è´¹å¤§çº¦ <code>2MB</code> å†…å­˜<br>ç†è®ºä¸Šï¼Œä¸€ä¸ª <code>8GB</code> å†…å­˜çš„æœåŠ¡å™¨å¯ä»¥åŒæ—¶è¿æ¥çš„æœ€å¤§ç”¨æˆ·æ•°ä¸º <code>4000</code> ä¸ªå·¦å³<br>ã€‚è¦è®© <code>Web</code> åº”ç”¨ç¨‹åºæ”¯æŒæ›´å¤šçš„ç”¨æˆ·ï¼Œå°± éœ€è¦å¢åŠ æœåŠ¡å™¨çš„æ•°é‡ï¼Œè€Œ <code>Web</code> åº”ç”¨ç¨‹åºçš„ç¡¬ä»¶æˆæœ¬å½“ç„¶å°±ä¸Šå‡äº†</li>
<li><code>Node.js</code> ä¸ä¸ºæ¯ä¸ªå®¢æˆ·è¿æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œè€Œä»…ä»…ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹ã€‚å½“æœ‰ç”¨æˆ·è¿æ¥äº†ï¼Œå°±è§¦å‘ä¸€ä¸ª å†…éƒ¨äº‹ä»¶ï¼Œé€šè¿‡éé˜»å¡ <code>I/O</code>ã€äº‹ä»¶é©±åŠ¨æœºåˆ¶ï¼Œè®© <code>Node.js</code> ç¨‹åºå®è§‚ä¸Šä¹Ÿæ˜¯å¹¶è¡Œçš„ã€‚ä½¿ç”¨ <code>Node.js</code>ï¼Œä¸€ä¸ª <code>8GB</code> å†…å­˜çš„æœåŠ¡å™¨ï¼Œå¯ä»¥åŒæ—¶å¤„ç†è¶…è¿‡ <code>4 ä¸‡</code>ç”¨æˆ·çš„è¿æ¥</li>
</ul>
<p><strong>3. å®ç°é«˜æ€§èƒ½æœåŠ¡å™¨</strong></p>
<ul>
<li>ä¸¥æ ¼åœ°è¯´ï¼Œ<code>Node.js</code> æ˜¯ä¸€ä¸ªç”¨äºå¼€å‘å„ç§ Web æœåŠ¡å™¨çš„å¼€å‘å·¥å…·ã€‚åœ¨ <code>Node.js</code> æœåŠ¡å™¨ä¸­ï¼Œè¿è¡Œçš„æ˜¯é«˜æ€§èƒ½ <code>V8 JavaScript</code> è„šæœ¬è¯­è¨€ï¼Œè¯¥è¯­è¨€æ˜¯ä¸€ç§å¯ä»¥è¿è¡Œåœ¨æœåŠ¡å™¨ç«¯çš„ <code>JavaScript</code> è„šæœ¬è¯­è¨€</li>
<li>é‚£ä¹ˆï¼Œä»€ä¹ˆæ˜¯ <code>V8 JavaScript</code> è„šæœ¬è¯­è¨€å‘¢?è¯¥è¯­è¨€æ˜¯ä¸€ç§è¢« <code>V8 JavaScript</code> å¼•æ“æ‰€è§£æå¹¶æ‰§è¡Œçš„è„šæœ¬è¯­è¨€ã€‚<code>V8 JavaScript</code> å¼•æ“æ˜¯ç”± <code>Google</code> å…¬å¸ä½¿ç”¨ C++è¯­è¨€å¼€å‘çš„ä¸€ç§é«˜æ€§èƒ½ <code>JavaScript</code> å¼•æ“ï¼Œè¯¥å¼•æ“å¹¶ä¸å±€é™äºåœ¨æµè§ˆ å™¨ä¸­è¿è¡Œã€‚<code>Node.js</code> å°†å…¶è½¬ç”¨åœ¨äº†æœåŠ¡å™¨ä¸­ï¼Œå¹¶ä¸”ä¸ºå…¶æä¾›äº†è®¸å¤šé™„åŠ çš„å…·æœ‰å„ç§ä¸åŒç”¨é€”çš„ <code>API</code>ã€‚ä¾‹å¦‚ï¼Œ åœ¨ä¸€ä¸ªæœåŠ¡å™¨ä¸­ï¼Œç»å¸¸éœ€è¦å¤„ç†å„ç§äºŒè¿›åˆ¶æ•°æ®ã€‚åœ¨ <code>JavaScript</code> è„šæœ¬è¯­è¨€ä¸­ï¼Œåªå…·æœ‰éå¸¸æœ‰é™çš„å¯¹äºŒè¿›åˆ¶æ•° æ®çš„å¤„ç†èƒ½åŠ›ï¼Œè€Œ <code>Node.js</code> æ‰€æä¾›çš„ <code>Buffer</code> ç±»åˆ™æä¾›äº†ä¸°å¯Œçš„å¯¹äºŒè¿›åˆ¶æ•°æ®çš„å¤„ç†èƒ½åŠ›</li>
<li>å¦å¤–ï¼Œåœ¨ <code>V8 JavaScript</code>å¼•æ“å†…éƒ¨ä½¿ç”¨ä¸€ç§å…¨æ–°çš„ç¼–è¯‘æŠ€æœ¯ã€‚è¿™æ„å‘³ç€å¼€å‘è€…ç¼–å†™çš„é«˜ç«¯çš„ <code>JavaScript</code> è„šæœ¬ä»£ç ä¸å¼€å‘è€…ç¼–å†™çš„ä½ç«¯çš„Cè¯­è¨€å…·æœ‰éå¸¸ç›¸è¿‘çš„æ‰§è¡Œæ•ˆç‡ï¼Œè¿™ä¹Ÿæ˜¯<code>Node.js</code>æœåŠ¡å™¨å¯ä»¥æä¾›çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§</li>
</ul>
<p><strong>4. å¼€å‘å‘¨æœŸçŸ­ã€å¼€å‘æˆæœ¬ä½ã€å­¦ä¹ æˆæœ¬ä½ã€‚</strong></p>
<ul>
<li><code>Node.js</code> è‡ªèº«å“²å­¦ï¼Œæ˜¯èŠ±æœ€å°çš„ç¡¬ä»¶æˆæœ¬ï¼Œè¿½æ±‚æ›´é«˜çš„å¹¶å‘ï¼Œæ›´é«˜çš„å¤„ç†æ€§èƒ½ã€‚</li>
<li>ç‰¹ç‚¹:<code>Node.js uses an event-driven, non-blocking I/O model that makes it lightweight and efficient.</code></li>
</ul>
<h2 id="1-3-NodeJs-é€‚åˆåšä»€ä¹ˆ"><a href="#1-3-NodeJs-é€‚åˆåšä»€ä¹ˆ" class="headerlink" title="1.3 NodeJs é€‚åˆåšä»€ä¹ˆ"></a>1.3 NodeJs é€‚åˆåšä»€ä¹ˆ</h2><blockquote>
<p>åœ¨çŸ­çŸ­å‡ å¹´å¤šçš„æ—¶é—´é‡Œï¼Œ<code>Node</code> å˜å¾—éå¸¸çƒ­é—¨ï¼Œä½¿ç”¨è€…ä¹Ÿéå¸¸å¤šã€‚è¿™äº›ä½¿ç”¨è€…å¯¹äº <code>Node</code> çš„å„è‡ªå€šé‡ç‚¹ä¹Ÿå„éƒ¨ç›¸åŒï¼Œç»è¿‡æ•´ç†,ä¸»è¦æœ‰ä¸‹å‡ ç±»</p>
</blockquote>
<p><strong>1. å‰åç«¯ç¼–ç¨‹è¯­è¨€ç¯å¢ƒç»Ÿä¸€</strong></p>
<blockquote>
<p>è¿™ç±»é‡ç‚¹çš„ä»£è¡¨æ˜¯é›…è™ã€‚é›…è™å¼€æ”¾äº† <code>Cocktai</code> æ¡†æ¶ï¼Œåˆ©ç”¨ è‡ªå·±æ·±åšçš„å‰ç«¯æ²‰æ·€ï¼Œå°† <code>YUI3</code> è¿™ä¸ªå‰ç«¯æ¡†æ¶çš„èƒ½åŠ›å€ŸåŠ© <code>Node</code> å»¶ä¼¸åˆ°æœåŠ¡å™¨ç«¯ï¼Œä½¿å¾—ä½¿ç”¨ è€…æ‘†è„±äº†æ—¥å¸¸å·¥ä½œä¸­ä¸€è¾¹å†™ <code>JavaScript</code> â€”è¾¹å†™ <code>PHP</code> æ‰€å¸¯æ¥çš„ä¸Šä¸‹æ–‡äº¤æ¢è´Ÿæ‹…</p>
</blockquote>
<p><strong>2. Node å¸¦æ¥çš„é«˜æ€§èƒ½ I&#x2F;0 ç”¨äºå®æ—¶åº”ç”¨</strong></p>
<blockquote>
<p><code>Voxer</code> å°† <code>Node</code> åº”ç”¨åœ¨å®æ—¶è¯­éŸ³ä¸Šã€‚å›½å†…è…¾è®¯çš„ æœ‹å‹ç½‘å°† Node åº”ç”¨åœ¨é•¿è¿æ¥ä¸­ï¼Œä»¥æä¾›å®æ—¶åŠŸèƒ½ï¼ŒèŠ±ç“£ç½‘ã€è˜‘è‡è¡—ç­‰å…¬å¸é€šè¿‡ <code>socket.io</code> å® ç°å®æ—¶é€šçŸ¥çš„åŠŸèƒ½ã€‚</p>
</blockquote>
<p><strong>3. å¹¶è¡Œ I&#x2F;0 ä½¿å¾—ä½¿ç”¨è€…å¯ä»¥æ›´é«˜æ•ˆåœ°åˆ©ç”¨åˆ†å¸ƒå¼ç¯å¢ƒ</strong></p>
<blockquote>
<p>é˜¿é‡Œå·´å·´ eBay æ˜¯è¿™æ–¹é¢çš„å…¸å‹ã€‚ é˜¿é‡Œå·´å·´çš„ NodeFox å’Œ eBay çš„ ql.io éƒ½æ˜¯å€Ÿç”¨ Node å¹¶è¡Œ I&#x2F;O çš„èƒ½åŠ›ï¼Œæ›´é«˜æ•ˆåœ°ä½¿ç”¨å·²æœ‰çš„ æ•°æ®</p>
</blockquote>
<p><strong>4. å¹¶è¡Œ I&#x2F;O â€¢æœ‰æ•ˆåˆ©ç”¨ç¨³å®šæ¥å£æå‡ Web æ¸²æŸ“èƒ½åŠ›</strong></p>
<blockquote>
<p>é›ªçƒè´¢ç»å’Œ Linkedln çš„ç§»åŠ¨ç‰ˆç½‘ç«™å‡ æ˜¯è¿™ç§æ¡ˆä¾‹ï¼Œæ’‡å¼ƒ åŒæ­¥ç­‰å¾…å¼çš„é¡ºåºè¯·æ±‚ï¼Œå¤§èƒ†é‡‡ç”¨å¹¶è¡Œä¸¨&#x2F;ã€‡ï¼ŒåŠ é€Ÿæ•°æ®çš„è·å–è¿›è€Œæå‡ Web çš„æ¸²æŸ“é€Ÿåº¦</p>
</blockquote>
<p><strong>5. äº‘è®¡ç®—å¹³å°æä¾› Node æ”¯æŒ</strong></p>
<blockquote>
<p>å¾®è½¯å°† Node å¼•å…¥ Azure çš„å¼€å‘ä¸­ï¼Œé˜¿é‡Œäº‘ã€ç™¾åº¦å‡çº·çº· åœ¨äº‘æœåŠ¡å™¨ä¸Šæä¾› Node åº”ç”¨æ‰˜ç®¡æœåŠ¡ï¼ŒJoyent æ›´æ˜¯äº‘è®¡ç®—ä¸­æä¾› Node æ”¯æŒçš„ä»£è¡¨ã€‚è¿™ç±» å¹³å°çœ‹é‡ JavaScript å¸¦æ¥çš„å¼€å‘ä¸Šçš„ä¼˜åŠ¿ï¼Œä»¥åŠä½èµ„æºå ç”¨ã€é«˜æ€§èƒ½çš„ç‰¹ç‚¹</p>
</blockquote>
<p><strong>6. æ¸¸æˆå¼€å‘é¢†åŸŸ</strong></p>
<blockquote>
<p>æ¸¸æˆé¢†åŸŸå¯¹å®æ—¶å’Œå¹¶å‘æœ‰å¾ˆé«˜çš„è¦æ±‚ï¼Œç½‘æ˜“å¼€æºäº† pomelo å®æ—¶æ¡†æ¶ï¼Œ å¯ä»¥åº”ç”¨åœ¨æ¸¸æˆå’Œé«˜å®æ—¶åº”ç”¨ä¸­</p>
</blockquote>
<p><strong>7. å·¥å…·ç±»åº”ç”¨</strong></p>
<blockquote>
<p>è¿‡å»ä¾èµ– <code>java</code> æˆ–å…¶ä»–è¯­è¨€æ„å»ºçš„å‰ç«¯å·¥å…·ç±»åº”ç”¨ï¼Œçº·çº·è¢«ä¸€äº›å‰ç«¯å·¥ç¨‹ å¸ˆç”¨ <code>Node</code> é‡å†™ï¼Œç”¨å‰ç«¯ç†Ÿæ‚‰çš„è¯­è¨€ä¸ºå‰ç«¯æ„å»ºç†Ÿæ‚‰çš„å·¥å…·</p>
</blockquote>
<h1 id="äºŒã€HTTPæ¨¡å—ã€URLæ¨¡å—-supervisorå·¥å…·"><a href="#äºŒã€HTTPæ¨¡å—ã€URLæ¨¡å—-supervisorå·¥å…·" class="headerlink" title="äºŒã€HTTPæ¨¡å—ã€URLæ¨¡å— supervisorå·¥å…·"></a>äºŒã€HTTPæ¨¡å—ã€URLæ¨¡å— supervisorå·¥å…·</h1><blockquote>
<p>ç”¨ <code>Node.js</code> æ—¶ï¼Œæˆ‘ä»¬ä¸ä»…ä»…åœ¨å®ç°ä¸€ä¸ªåº”ç”¨ï¼ŒåŒæ—¶è¿˜å®ç°äº†æ•´ä¸ª <code>HTTP</code> æœåŠ¡å™¨</p>
</blockquote>
<h2 id="2-1-åˆ›å»ºä¸€ä¸ªç®€å•çš„ç¨‹åº"><a href="#2-1-åˆ›å»ºä¸€ä¸ªç®€å•çš„ç¨‹åº" class="headerlink" title="2.1 åˆ›å»ºä¸€ä¸ªç®€å•çš„ç¨‹åº"></a>2.1 åˆ›å»ºä¸€ä¸ªç®€å•çš„ç¨‹åº</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var http = require(&#x27;http&#x27;);</span><br><span class="line"></span><br><span class="line">http.createServer(function(request, response) &#123;</span><br><span class="line">    // å‘é€ HTTP å¤´éƒ¨</span><br><span class="line">    // HTTP çŠ¶æ€å€¼: 200 : OK</span><br><span class="line">    //è®¾ç½® HTTP å¤´éƒ¨ï¼ŒçŠ¶æ€ç æ˜¯ 200ï¼Œæ–‡ä»¶ç±»å‹æ˜¯ htmlï¼Œå­—ç¬¦é›†æ˜¯ utf8 response.writeHead(200,&#123;&quot;Content-Type&quot;:&quot;text/html;charset=UTF-8&quot;&#125;);</span><br><span class="line">    // å‘é€å“åº”æ•°æ® &quot;Hello World&quot;</span><br><span class="line">    res.end(&quot;å“ˆå“ˆå“ˆå“ˆï¼Œæˆ‘ä¹°äº†ä¸€ä¸ª iPhone&quot; + (1 + 2 + 3) + &quot;s&quot;);</span><br><span class="line">&#125;).listen(8888);</span><br><span class="line">// ç»ˆç«¯æ‰“å°å¦‚ä¸‹ä¿¡æ¯</span><br><span class="line">console.log(&#x27;Server running at http://127.0.0.1:8888/&#x27;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä½ ä¼šå‘ç°ï¼Œæˆ‘ä»¬æœ¬åœ°å†™ä¸€ä¸ª <code>js</code>ï¼Œæ‰“æ­»éƒ½ä¸èƒ½ç›´æ¥æ‹–å…¥æµè§ˆå™¨è¿è¡Œï¼Œä½†æ˜¯æœ‰äº† <code>node</code>ï¼Œæˆ‘ ä»¬ä»»ä½•ä¸€ä¸ª <code>js</code> æ–‡ä»¶ï¼Œéƒ½å¯ä»¥é€šè¿‡ <code>node</code> æ¥è¿è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>node</code> å°±æ˜¯ä¸€ä¸ª <code>js</code> çš„æ‰§è¡Œç¯å¢ƒ</p>
</blockquote>
<h2 id="2-2-HTTP-æ¨¡å—ã€URLæ¨¡å—"><a href="#2-2-HTTP-æ¨¡å—ã€URLæ¨¡å—" class="headerlink" title="2.2 HTTP æ¨¡å—ã€URLæ¨¡å—"></a>2.2 HTTP æ¨¡å—ã€URLæ¨¡å—</h2><blockquote>
<p><code>Node.js</code> ä¸­ï¼Œå°†å¾ˆå¤šçš„åŠŸèƒ½ï¼Œåˆ’åˆ†ä¸ºäº†ä¸€ä¸ªä¸ª <code>module</code>(æ¨¡å—)ã€‚ <code>Node.js</code> ä¸­çš„å¾ˆå¤šåŠŸèƒ½éƒ½ æ˜¯é€šè¿‡æ¨¡å—å®ç°</p>
</blockquote>
<h3 id="2-2-1ã€HTTP-æ¨¡å—çš„ä½¿ç”¨"><a href="#2-2-1ã€HTTP-æ¨¡å—çš„ä½¿ç”¨" class="headerlink" title="2.2.1ã€HTTP æ¨¡å—çš„ä½¿ç”¨"></a>2.2.1ã€HTTP æ¨¡å—çš„ä½¿ç”¨</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//å¼•ç”¨æ¨¡å—</span><br><span class="line">var http = require(&quot;http&quot;);</span><br><span class="line">//åˆ›å»ºä¸€ä¸ªæœåŠ¡å™¨ï¼Œå›è°ƒå‡½æ•°è¡¨ç¤ºæ¥æ”¶åˆ°è¯·æ±‚ä¹‹ååšçš„äº‹æƒ…</span><br><span class="line">var server = http.createServer(function(req, res) &#123; //req å‚æ•°è¡¨ç¤ºè¯·æ±‚ï¼Œres è¡¨ç¤ºå“åº”</span><br><span class="line">    console.log(&quot;æœåŠ¡å™¨æ¥æ”¶åˆ°äº†è¯·æ±‚&quot; + req.url);</span><br><span class="line">    res.end(); // End æ–¹æ³•ä½¿ Web æœåŠ¡å™¨åœæ­¢å¤„ç†è„šæœ¬å¹¶è¿”å›å½“å‰ç»“æœ</span><br><span class="line">&#125;);</span><br><span class="line">//ç›‘å¬ç«¯å£</span><br><span class="line">server.listen(3000, &quot;127.0.0.1&quot;);</span><br></pre></td></tr></table></figure>

<p><strong>è®¾ç½®ä¸€ä¸ªå“åº”å¤´</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res.writeHead(200,&#123;&quot;Content-Type&quot;:&quot;text/html;charset=UTF8&quot;&#125;);</span><br></pre></td></tr></table></figure>

<p><img src="https://poetries1.gitee.io/img-repo/2019/10/356.png" alt="img"></p>
<ul>
<li>æˆ‘ä»¬ç°åœ¨æ¥çœ‹ä¸€ä¸‹ <code>req</code> é‡Œé¢èƒ½å¤Ÿä½¿ç”¨çš„ä¸œè¥¿</li>
<li>æœ€å…³é”®çš„å°±æ˜¯ <code>req.url</code> å±æ€§ï¼Œè¡¨ç¤ºç”¨æˆ·çš„è¯·æ±‚ <code>URL</code> åœ°å€ã€‚æ‰€æœ‰çš„è·¯ç”±è®¾è®¡ï¼Œéƒ½æ˜¯é€šè¿‡ <code>req.url</code> æ¥å®ç°çš„ã€‚</li>
<li>æˆ‘ä»¬æ¯”è¾ƒå…³å¿ƒçš„ä¸æ˜¯æ‹¿åˆ° <code>URL</code>ï¼Œè€Œæ˜¯è¯†åˆ«è¿™ä¸ª <code>URL</code></li>
<li>è¯†åˆ« <code>URL</code>ï¼Œç”¨åˆ°äº†ä¸‹é¢çš„ <code>URL</code> æ¨¡å—</li>
</ul>
<h3 id="2-2-2ã€URL-æ¨¡å—çš„ä½¿ç”¨"><a href="#2-2-2ã€URL-æ¨¡å—çš„ä½¿ç”¨" class="headerlink" title="2.2.2ã€URL æ¨¡å—çš„ä½¿ç”¨"></a>2.2.2ã€URL æ¨¡å—çš„ä½¿ç”¨</h3><ul>
<li><code>url.parse()</code> è§£æ<code>URL</code></li>
<li><code>url.format(urlObject)</code> æ˜¯ä¸Šé¢ <code>url.parse()</code> æ“ä½œçš„é€†å‘æ“ä½œ</li>
<li><code>url.resolve(from, to)</code> æ·»åŠ æˆ–è€…æ›¿æ¢åœ°å€</li>
</ul>
<p><strong>1. url.parse()</strong></p>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/357.png" alt="img"></p>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/358.png" alt="img"></p>
<p><strong>2. url.format()</strong></p>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/359.png" alt="img"></p>
<p><strong>3. url.resolve()</strong></p>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/360.png" alt="img"></p>
<h2 id="2-3-Nodejs-è‡ªå¯åŠ¨å·¥å…·-supervisor"><a href="#2-3-Nodejs-è‡ªå¯åŠ¨å·¥å…·-supervisor" class="headerlink" title="2.3 Nodejs è‡ªå¯åŠ¨å·¥å…· supervisor"></a>2.3 Nodejs è‡ªå¯åŠ¨å·¥å…· supervisor</h2><blockquote>
<p><code>supervisor</code> ä¼šä¸åœçš„ <code>watch</code> ä½ åº”ç”¨ä¸‹é¢çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå‘ç°æœ‰æ–‡ä»¶è¢«ä¿®æ”¹ï¼Œå°±é‡æ–°è½½å…¥ç¨‹åºæ–‡ä»¶è¿™æ ·å°±å®ç°äº†éƒ¨ç½²ï¼Œä¿®æ”¹äº†ç¨‹åºæ–‡ä»¶åé©¬ä¸Šå°±èƒ½çœ‹åˆ°å˜æ›´åçš„ç»“æœã€‚éº»éº»å†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘çš„é‡å¯ <code>nodejs</code> äº†</p>
</blockquote>
<p><strong>é¦–å…ˆå®‰è£… supervisor</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g supervisor</span><br></pre></td></tr></table></figure>

<p><strong>ä½¿ç”¨ supervisor ä»£æ›¿ node å‘½ä»¤å¯åŠ¨åº”ç”¨</strong></p>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/361.png" alt="img"></p>
<h1 id="ä¸‰ã€CommonJs-å’Œ-Nodejs-æ¨¡å—"><a href="#ä¸‰ã€CommonJs-å’Œ-Nodejs-æ¨¡å—" class="headerlink" title="ä¸‰ã€CommonJs å’Œ Nodejs æ¨¡å—"></a>ä¸‰ã€CommonJs å’Œ Nodejs æ¨¡å—</h1><h2 id="3-1-ä»€ä¹ˆæ˜¯-CommonJs"><a href="#3-1-ä»€ä¹ˆæ˜¯-CommonJs" class="headerlink" title="3.1 ä»€ä¹ˆæ˜¯ CommonJs"></a>3.1 ä»€ä¹ˆæ˜¯ CommonJs</h2><blockquote>
<p><code>JavaScript</code> æ˜¯ä¸€ä¸ªå¼ºå¤§é¢å‘å¯¹è±¡è¯­è¨€ï¼Œå®ƒæœ‰å¾ˆå¤šå¿«é€Ÿé«˜æ•ˆçš„è§£é‡Šå™¨ã€‚ç„¶è€Œï¼Œ <code>JavaScript</code> æ ‡å‡†å®šä¹‰çš„ <code>API</code> æ˜¯ä¸ºäº†æ„å»ºåŸºäºæµè§ˆå™¨çš„åº”ç”¨ç¨‹åºã€‚å¹¶æ²¡æœ‰åˆ¶å®šä¸€ä¸ªç”¨äºæ›´å¹¿æ³›çš„åº”ç”¨ç¨‹åº çš„æ ‡å‡†åº“ã€‚<br>,è€Œä¸åªæ˜¯åœç•™åœ¨å°è„šæœ¬ç¨‹åº çš„é˜¶æ®µã€‚ç”¨ <code>CommonJS API</code> ç¼–å†™å‡ºçš„åº”ç”¨ï¼Œä¸ä»…å¯ä»¥åˆ©ç”¨ <code>JavaScript</code>å¼€å‘å®¢æˆ·ç«¯åº”ç”¨ï¼Œè€Œä¸”è¿˜å¯ä»¥ç¼–å†™ä»¥ä¸‹åº” ç”¨</p>
</blockquote>
<ul>
<li>æœåŠ¡å™¨ç«¯ <code>JavaScript</code> åº”ç”¨ç¨‹åºã€‚(<code>nodejs</code>)</li>
<li>å‘½ä»¤è¡Œå·¥å…·</li>
<li>æ¡Œé¢å›¾å½¢ç•Œé¢åº”ç”¨ç¨‹åº</li>
</ul>
<blockquote>
<p><code>CommonJS</code> å°±æ˜¯æ¨¡å—åŒ–çš„æ ‡å‡†ï¼Œ<code>nodejs</code> å°±æ˜¯ <code>CommonJS</code>(æ¨¡å—åŒ–)çš„å®ç°</p>
</blockquote>
<h2 id="3-2-Nodejs-ä¸­çš„æ¨¡å—åŒ–"><a href="#3-2-Nodejs-ä¸­çš„æ¨¡å—åŒ–" class="headerlink" title="3.2 Nodejs ä¸­çš„æ¨¡å—åŒ–"></a>3.2 Nodejs ä¸­çš„æ¨¡å—åŒ–</h2><blockquote>
<p><code>Node</code> åº”ç”¨ç”±æ¨¡å—ç»„æˆï¼Œé‡‡ç”¨ <code>CommonJS</code> æ¨¡å—è§„èŒƒ</p>
</blockquote>
<h3 id="3-2-1-åœ¨-Node-ä¸­ï¼Œæ¨¡å—åˆ†ä¸ºä¸¤ç±»"><a href="#3-2-1-åœ¨-Node-ä¸­ï¼Œæ¨¡å—åˆ†ä¸ºä¸¤ç±»" class="headerlink" title="3.2.1 åœ¨ Node ä¸­ï¼Œæ¨¡å—åˆ†ä¸ºä¸¤ç±»"></a>3.2.1 åœ¨ Node ä¸­ï¼Œæ¨¡å—åˆ†ä¸ºä¸¤ç±»</h3><ul>
<li>ä¸€ç±»æ˜¯ <code>Node</code> æä¾›çš„æ¨¡å—,ç§°ä¸ºæ ¸å¿ƒæ¨¡å—;å¦ä¸€ç±»æ˜¯ç”¨æˆ·ç¼–å†™çš„æ¨¡å—ï¼Œç§°ä¸ºæ–‡ä»¶æ¨¡å—</li>
</ul>
<blockquote>
<ul>
<li>æ ¸å¿ƒæ¨¡å—éƒ¨åˆ†åœ¨ <code>Node</code> æºä»£ç çš„ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œç¼–è¯‘è¿›äº†äºŒè¿›åˆ¶æ‰§è¡Œæ–‡ä»¶ã€‚åœ¨ <code>Node</code> è¿›ç¨‹å¯åŠ¨æ—¶ï¼Œéƒ¨åˆ†æ ¸å¿ƒæ¨¡å—å°±è¢«ç›´æ¥åŠ è½½è¿›å†…å­˜ä¸­ï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†æ ¸å¿ƒæ¨¡å—å¼•å…¥æ—¶ï¼Œæ–‡ä»¶å®šä½å’Œ ç¼–è¯‘æ‰§è¡Œè¿™ä¸¤ä¸ªæ­¥éª¤å¯ä»¥çœç•¥æ‰ï¼Œå¹¶ä¸”åœ¨è·¯å¾„åˆ†æä¸­ä¼˜å…ˆåˆ¤æ–­ï¼Œæ‰€ä»¥å®ƒçš„åŠ è½½é€Ÿåº¦æ˜¯æœ€å¿«çš„ã€‚ å¦‚:<code>HTTP</code> æ¨¡å— ã€<code>URL</code> æ¨¡å—ã€<code>Fs</code> æ¨¡å—éƒ½æ˜¯ <code>nodejs</code> å†…ç½®çš„æ ¸å¿ƒæ¨¡å—ï¼Œå¯ä»¥ç›´æ¥å¼•å…¥ä½¿ç”¨</li>
<li>æ–‡ä»¶æ¨¡å—åˆ™æ˜¯åœ¨è¿è¡Œæ—¶åŠ¨æ€åŠ è½½ï¼Œéœ€è¦å®Œæ•´çš„è·¯å¾„åˆ†æã€æ–‡ä»¶å®šä½ã€ç¼–è¯‘æ‰§è¡Œè¿‡ç¨‹ã€é€Ÿåº¦ç›¸æ¯”æ ¸å¿ƒæ¨¡å—ç¨å¾®æ…¢ä¸€äº›ï¼Œä½†æ˜¯ç”¨çš„éå¸¸å¤šã€‚è¿™äº›æ¨¡å—éœ€è¦æˆ‘ä»¬è‡ªå·±å®šä¹‰ã€‚æ¥ä¸‹æ¥æˆ‘ ä»¬çœ‹ä¸€ä¸‹ <code>nodejs</code> ä¸­çš„è‡ªå®šä¹‰æ¨¡å—ã€‚</li>
</ul>
</blockquote>
<h3 id="3-2-2-CommonJS-Nodejs-ä¸­è‡ªå®šä¹‰æ¨¡å—çš„è§„å®š"><a href="#3-2-2-CommonJS-Nodejs-ä¸­è‡ªå®šä¹‰æ¨¡å—çš„è§„å®š" class="headerlink" title="3.2.2 CommonJS(Nodejs)ä¸­è‡ªå®šä¹‰æ¨¡å—çš„è§„å®š"></a>3.2.2 CommonJS(Nodejs)ä¸­è‡ªå®šä¹‰æ¨¡å—çš„è§„å®š</h3><ol>
<li>æˆ‘ä»¬å¯ä»¥æŠŠå…¬å…±çš„åŠŸèƒ½æŠ½ç¦»æˆä¸ºä¸€ä¸ªå•ç‹¬çš„ <code>js</code> æ–‡ä»¶ä½œä¸ºä¸€ä¸ªæ¨¡å—ï¼Œé»˜è®¤æƒ…å†µä¸‹é¢è¿™ ä¸ªæ¨¡å—é‡Œé¢çš„æ–¹æ³•æˆ–è€…å±æ€§ï¼Œå¤–é¢æ˜¯æ²¡æ³•è®¿é—®çš„ã€‚å¦‚æœè¦è®©å¤–éƒ¨å¯ä»¥è®¿é—®æ¨¡å—é‡Œé¢çš„æ–¹æ³•æˆ– è€…å±æ€§ï¼Œå°±å¿…é¡»åœ¨æ¨¡å—é‡Œé¢é€šè¿‡ <code>exports</code> æˆ–è€… <code>module.exports</code> æš´éœ²å±æ€§æˆ–è€…æ–¹æ³•</li>
<li>åœ¨éœ€è¦ä½¿ç”¨è¿™äº›æ¨¡å—çš„æ–‡ä»¶ä¸­ï¼Œé€šè¿‡ <code>require</code> çš„æ–¹å¼å¼•å…¥è¿™ä¸ªæ¨¡å—ã€‚è¿™ä¸ªæ—¶å€™å°±å¯ä»¥ ä½¿ç”¨æ¨¡å—é‡Œé¢æš´éœ²çš„å±æ€§å’Œæ–¹æ³•</li>
</ol>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/362.png" alt="img"></p>
<h3 id="3-2-3-å®šä¹‰ä½¿ç”¨æ¨¡å—"><a href="#3-2-3-å®šä¹‰ä½¿ç”¨æ¨¡å—" class="headerlink" title="3.2.3 å®šä¹‰ä½¿ç”¨æ¨¡å—"></a>3.2.3 å®šä¹‰ä½¿ç”¨æ¨¡å—</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// å®šä¹‰ä¸€ä¸ª tools.js çš„æ¨¡å— //æ¨¡å—å®šä¹‰</span><br><span class="line">var tools = &#123;</span><br><span class="line">    sayHello: function() &#123;</span><br><span class="line">        return &#x27;hello NodeJS&#x27;;</span><br><span class="line">    &#125;,</span><br><span class="line">    add: function(x, y) &#123;</span><br><span class="line">        return x + y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">// æ¨¡å—æ¥å£çš„æš´éœ²</span><br><span class="line">// module.exports = tools; exports.sayHello = tools.sayHello; exports.add = tools.add;</span><br><span class="line">var http = require(&#x27;http&#x27;);</span><br><span class="line">// å¼•å…¥è‡ªå®šä¹‰çš„ tools.js æ¨¡å—</span><br><span class="line">var tools = require(&#x27;./tools&#x27;);</span><br><span class="line"></span><br><span class="line">tools.sa yHello(); //ä½¿ç”¨æ¨¡å—</span><br></pre></td></tr></table></figure>

<h1 id="å››ã€NPMç¬¬ä¸‰æ–¹æ¨¡å—å’Œpackage"><a href="#å››ã€NPMç¬¬ä¸‰æ–¹æ¨¡å—å’Œpackage" class="headerlink" title="å››ã€NPMç¬¬ä¸‰æ–¹æ¨¡å—å’Œpackage"></a>å››ã€NPMç¬¬ä¸‰æ–¹æ¨¡å—å’Œpackage</h1><h2 id="4-1-åŒ…ä¸-NPM"><a href="#4-1-åŒ…ä¸-NPM" class="headerlink" title="4.1 åŒ…ä¸ NPM"></a>4.1 åŒ…ä¸ NPM</h2><h3 id="4-1-1-åŒ…"><a href="#4-1-1-åŒ…" class="headerlink" title="4.1.1 åŒ…"></a>4.1.1 åŒ…</h3><blockquote>
<p><code>Nodejs</code> ä¸­é™¤äº†å®ƒè‡ªå·±æä¾›çš„æ ¸å¿ƒæ¨¡å—å¤–ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰æ¨¡å—ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ ç¬¬ä¸‰æ–¹çš„æ¨¡å—ã€‚<code>Nodejs</code>ä¸­ç¬¬ä¸‰æ–¹æ¨¡å—ç”±åŒ…ç»„æˆï¼Œå¯ä»¥é€šè¿‡åŒ…æ¥å¯¹ä¸€ç»„å…·æœ‰ç›¸äº’ä¾ èµ–å…³ç³»çš„æ¨¡å—è¿›è¡Œç»Ÿä¸€ç®¡ç†</p>
</blockquote>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/363.png" alt="img"></p>
<p><strong>å®Œå…¨ç¬¦åˆ CommonJs è§„èŒƒçš„åŒ…ç›®å½•ä¸€èˆ¬åŒ…å«å¦‚ä¸‹è¿™äº›æ–‡ä»¶</strong></p>
<ul>
<li><code>package.json</code> :åŒ…æè¿°æ–‡ä»¶</li>
<li><code>bin</code> :ç”¨äºå­˜æ”¾å¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶çš„ç›®å½•</li>
<li><code>lib</code> :ç”¨äºå­˜æ”¾ <code>JavaScript</code> ä»£ç çš„ç›®å½•</li>
<li><code>doc</code> :ç”¨äºå­˜æ”¾æ–‡æ¡£çš„ç›®å½•</li>
</ul>
<blockquote>
<p>åœ¨ <code>NodeJs</code> ä¸­é€šè¿‡ <code>NPM</code> å‘½ä»¤æ¥ä¸‹è½½ç¬¬ä¸‰æ–¹çš„æ¨¡å—(åŒ…)</p>
</blockquote>
<h3 id="4-1-2-NPM-ä»‹ç»"><a href="#4-1-2-NPM-ä»‹ç»" class="headerlink" title="4.1.2 NPM ä»‹ç»"></a>4.1.2 NPM ä»‹ç»</h3><ul>
<li>npm æ˜¯ä¸–ç•Œä¸Šæœ€å¤§çš„å¼€æ”¾æºä»£ç çš„ç”Ÿæ€ç³»ç»Ÿã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ npm ä¸‹è½½å„ç§å„æ ·çš„åŒ…ï¼Œ<br>è¿™äº›æºä»£ç (åŒ…)æˆ‘ä»¬å¯ä»¥åœ¨ <a target="_blank" rel="noopener" href="https://www.npmjs.com/">https://www.npmjs.com</a> æ‰¾åˆ°</li>
</ul>
<blockquote>
<p><code>npm</code> æ˜¯éšåŒ <code>NodeJS</code> ä¸€èµ·å®‰è£…çš„åŒ…ç®¡ç†å·¥å…·ï¼Œèƒ½è§£å†³ <code>NodeJS</code> ä»£ç éƒ¨ç½²ä¸Šçš„å¾ˆå¤šé—®é¢˜ï¼Œå¸¸è§çš„ä½¿ç”¨åœºæ™¯æœ‰ ä»¥ä¸‹å‡ ç§</p>
</blockquote>
<ul>
<li>å…è®¸ç”¨æˆ·ä» <code>NPM</code> æœåŠ¡å™¨ä¸‹è½½åˆ«äººç¼–å†™çš„ç¬¬ä¸‰æ–¹åŒ…åˆ°æœ¬åœ°ä½¿ç”¨</li>
<li>å…è®¸ç”¨æˆ·ä» <code>NPM</code> æœåŠ¡å™¨ä¸‹è½½å¹¶å®‰è£…åˆ«äººç¼–å†™çš„å‘½ä»¤è¡Œç¨‹åº(å·¥å…·)åˆ°æœ¬åœ°ä½¿ç”¨</li>
<li>å…è®¸ç”¨æˆ·å°†è‡ªå·±ç¼–å†™çš„åŒ…æˆ–å‘½ä»¤è¡Œç¨‹åºä¸Šä¼ åˆ° <code>NPM</code> æœåŠ¡å™¨ä¾›åˆ«äººä½¿ç”¨</li>
</ul>
<p><strong>NPM å‘½ä»¤è¯¦è§£</strong></p>
<ul>
<li><code>npm -v</code> æŸ¥çœ‹ <code>npm</code> ç‰ˆæœ¬</li>
<li><code>npm install</code> ä½¿ç”¨ <code>npm</code> å‘½ä»¤å®‰è£…æ¨¡å—</li>
<li><code>npm uninstall moudleName</code> å¸è½½æ¨¡å—</li>
<li><code>npm list</code> æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹å·²å®‰è£…çš„ <code>node</code> åŒ…</li>
<li><code>npm info jquery</code> æŸ¥çœ‹ <code>jquery</code> çš„ç‰ˆæœ¬</li>
<li>æŒ‡å®šç‰ˆæœ¬å®‰è£… <code>npm install jquery@1.8.0</code></li>
</ul>
<h2 id="4-2-package-json"><a href="#4-2-package-json" class="headerlink" title="4.2 package.json"></a>4.2 package.json</h2><blockquote>
<p><code>package.json</code> å®šä¹‰äº†è¿™ä¸ªé¡¹ç›®æ‰€éœ€è¦çš„å„ç§æ¨¡å—,ä»¥åŠé¡¹ç›®çš„é…ç½®ä¿¡æ¯(æ¯”å¦‚åç§°ã€<br>ç‰ˆæœ¬ã€è®¸å¯è¯ç­‰å…ƒæ•°æ®)</p>
</blockquote>
<p><strong>1. åˆ›å»º package.json</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br><span class="line">npm init â€“yes</span><br></pre></td></tr></table></figure>

<p><strong>2. å®‰è£…æ¨¡å—å¹¶æŠŠæ¨¡å—å†™å…¥ package.json(ä¾èµ–)</strong></p>
<ul>
<li><code>npm install babel-cli --save-dev</code></li>
<li><code>npm install æ¨¡å— --save</code></li>
</ul>
<p><strong>3. dependencies ä¸ devDependencies ä¹‹é—´çš„åŒºåˆ«</strong></p>
<ul>
<li>ä½¿ç”¨ <code>npm install node_module â€“save</code> è‡ªåŠ¨æ›´æ–° <code>dependencies</code> å­—æ®µå€¼;</li>
<li>ä½¿ç”¨ <code>npm install node_module â€“save-dev</code> è‡ªåŠ¨æ›´æ–° <code>devDependencies</code> å­—æ®µå€¼</li>
<li><code>dependencies</code> é…ç½®å½“å‰ç¨‹åºæ‰€ä¾èµ–çš„å…¶ä»–</li>
<li><code>devDependencies</code> é…ç½®å½“å‰ç¨‹åºæ‰€ä¾èµ–çš„å…¶ä»–åŒ…ï¼Œåªä¼šä¸‹è½½æ¨¡å—ï¼Œè€Œä¸ä¸‹è½½è¿™äº›æ¨¡å—çš„æµ‹è¯• å’Œæ–‡æ¡£æ¡†æ¶</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;ejs&quot;: &quot;^2.3.4&quot;,</span><br><span class="line">    &quot;express&quot;: &quot;^4.13.3&quot;,</span><br><span class="line">    &quot;formidable&quot;: &quot;^1.0.17&quot;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>^</code>è¡¨ç¤ºç¬¬ä¸€ä½ç‰ˆæœ¬å·ä¸å˜ï¼Œåé¢ä¸¤ä½å–æœ€æ–°çš„</li>
<li><code>~</code>è¡¨ç¤ºå‰ä¸¤ä½ä¸å˜ï¼Œæœ€åä¸€ä¸ªå–æœ€æ–°</li>
<li><code>*</code>è¡¨ç¤ºå…¨éƒ¨å–æœ€æ–°</li>
</ul>
<h2 id="4-3-å®‰è£…æ·˜å®é•œåƒ"><a href="#4-3-å®‰è£…æ·˜å®é•œåƒ" class="headerlink" title="4.3 å®‰è£…æ·˜å®é•œåƒ"></a>4.3 å®‰è£…æ·˜å®é•œåƒ</h2><ul>
<li><a target="_blank" rel="noopener" href="http://www.npmjs.org/">http://www.npmjs.org</a> npm åŒ…å®˜ç½‘</li>
<li><a target="_blank" rel="noopener" href="https://npm.taobao.org/">https://npm.taobao.org/</a> æ·˜å® npm é•œåƒå®˜ç½‘</li>
</ul>
<blockquote>
<p>æ·˜å® <code>NPM</code> é•œåƒæ˜¯ä¸€ä¸ªå®Œæ•´ <code>npmjs.org</code> é•œåƒï¼Œä½ å¯ä»¥ç”¨æ­¤ä»£æ›¿å®˜æ–¹ç‰ˆæœ¬(åªè¯»)ï¼ŒåŒæ­¥é¢‘ ç‡ç›®å‰ä¸º 10 åˆ†é’Ÿ ä¸€æ¬¡ä»¥ä¿è¯å°½é‡ä¸å®˜æ–¹æœåŠ¡åŒæ­¥</p>
</blockquote>
<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æˆ‘ä»¬å®šåˆ¶çš„ <code>cnpm</code> (<code>gzip</code> å‹ç¼©æ”¯æŒ) å‘½ä»¤è¡Œå·¥å…·ä»£æ›¿é»˜è®¤çš„ <code>npm</code>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>

<h1 id="äº”ã€fsæ¨¡å—"><a href="#äº”ã€fsæ¨¡å—" class="headerlink" title="äº”ã€fsæ¨¡å—"></a>äº”ã€fsæ¨¡å—</h1><h2 id="5-1-fs-stat-æ£€æµ‹æ˜¯æ–‡ä»¶è¿˜æ˜¯ç›®å½•"><a href="#5-1-fs-stat-æ£€æµ‹æ˜¯æ–‡ä»¶è¿˜æ˜¯ç›®å½•" class="headerlink" title="5.1 fs.stat æ£€æµ‹æ˜¯æ–‡ä»¶è¿˜æ˜¯ç›®å½•"></a>5.1 fs.stat æ£€æµ‹æ˜¯æ–‡ä»¶è¿˜æ˜¯ç›®å½•</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">const fs = require(&#x27;fs&#x27;)</span><br><span class="line"></span><br><span class="line">fs.stat(&#x27;hello.js&#x27;, (error, stats) = &gt;&#123;</span><br><span class="line">    if (error) &#123;</span><br><span class="line">        console.log(error)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        console.log(stats) </span><br><span class="line">        </span><br><span class="line">        console.log(`æ–‡ä»¶: $ &#123;</span><br><span class="line">            stats.isFile()</span><br><span class="line">        &#125;`) </span><br><span class="line">        </span><br><span class="line">        console.log(`ç›®å½•: $ &#123;</span><br><span class="line">            stats.isDirectory()</span><br><span class="line">        &#125;`)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="5-2-fs-mkdir-åˆ›å»ºç›®å½•"><a href="#5-2-fs-mkdir-åˆ›å»ºç›®å½•" class="headerlink" title="5.2 fs.mkdir åˆ›å»ºç›®å½•"></a>5.2 fs.mkdir åˆ›å»ºç›®å½•</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const fs = require(&#x27;fs&#x27;) </span><br><span class="line"></span><br><span class="line">fs.mkdir(&#x27;logs&#x27;, (error) = &gt;&#123;</span><br><span class="line">    if (error) &#123;</span><br><span class="line">        console.log(error)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        console.log(&#x27;æˆåŠŸåˆ› å»ºç›®å½•:logs&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="5-3-fs-writeFile-åˆ›å»ºå†™å…¥æ–‡ä»¶"><a href="#5-3-fs-writeFile-åˆ›å»ºå†™å…¥æ–‡ä»¶" class="headerlink" title="5.3 fs.writeFile åˆ›å»ºå†™å…¥æ–‡ä»¶"></a>5.3 fs.writeFile åˆ›å»ºå†™å…¥æ–‡ä»¶</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fs.writeFile(&#x27;logs/hello.log&#x27;, &#x27;æ‚¨å¥½ ~ \n&#x27;, (error) = &gt;&#123;</span><br><span class="line">    if (error) &#123;</span><br><span class="line">        console.log(error)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        console.log(&#x27;æˆåŠŸå†™ å…¥æ–‡ä»¶&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="5-4-fs-appendFile-è¿½åŠ æ–‡ä»¶"><a href="#5-4-fs-appendFile-è¿½åŠ æ–‡ä»¶" class="headerlink" title="5.4 fs.appendFile è¿½åŠ æ–‡ä»¶"></a>5.4 fs.appendFile è¿½åŠ æ–‡ä»¶</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fs.appendFile(&#x27;logs/hello.log&#x27;, &#x27;hello ~ \n&#x27;, (error) = &gt;&#123;</span><br><span class="line">    if (error) &#123;</span><br><span class="line">        console.log(error)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        console.log(&#x27;æˆåŠŸå†™ å…¥æ–‡ä»¶&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="5-5-fs-readFile-è¯»å–æ–‡ä»¶"><a href="#5-5-fs-readFile-è¯»å–æ–‡ä»¶" class="headerlink" title="5.5 fs.readFile è¯»å–æ–‡ä»¶"></a>5.5 fs.readFile è¯»å–æ–‡ä»¶</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const fs = require(&#x27;fs&#x27;) </span><br><span class="line"></span><br><span class="line">fs.readFile(&#x27;logs/hello.log&#x27;, &#x27;utf8&#x27;, (error, data) = &gt;&#123;</span><br><span class="line">    if (error) &#123;</span><br><span class="line">        console.log(error)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        console.log(data)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="5-6-fs-readdir-è¯»å–ç›®å½•"><a href="#5-6-fs-readdir-è¯»å–ç›®å½•" class="headerlink" title="5.6 fs.readdir è¯»å–ç›®å½•"></a>5.6 fs.readdir è¯»å–ç›®å½•</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const fs = require(&#x27;fs&#x27;) </span><br><span class="line"></span><br><span class="line">fs.readdir(&#x27;logs&#x27;, (error, files) = &gt;&#123;</span><br><span class="line">    if (error) &#123;</span><br><span class="line">        console.log(error)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        console.log(files)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="5-7-fs-rename-é‡å‘½å"><a href="#5-7-fs-rename-é‡å‘½å" class="headerlink" title="5.7 fs.rename é‡å‘½å"></a>5.7 fs.rename é‡å‘½å</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const fs = require(&#x27;fs&#x27;) </span><br><span class="line"></span><br><span class="line">fs.rename(&#x27;js/hello.log&#x27;, &#x27;js/greeting.log&#x27;, (error) = &gt;&#123;</span><br><span class="line">    if (error) &#123;</span><br><span class="line">        console.log(error)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        console.log(&#x27; é‡å‘½åæˆåŠŸ&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="5-8-fs-rmdir-åˆ é™¤ç›®å½•"><a href="#5-8-fs-rmdir-åˆ é™¤ç›®å½•" class="headerlink" title="5.8 fs.rmdir åˆ é™¤ç›®å½•"></a>5.8 fs.rmdir åˆ é™¤ç›®å½•</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fs.rmdir(&#x27;logs&#x27;, (error) = &gt;&#123;</span><br><span class="line">    if (error) &#123;</span><br><span class="line">        console.log(error)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        console.log(&#x27;æˆåŠŸçš„åˆ é™¤äº†ç›®å½•:logs&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="5-9-fs-unlink-åˆ é™¤æ–‡ä»¶"><a href="#5-9-fs-unlink-åˆ é™¤æ–‡ä»¶" class="headerlink" title="5.9 fs.unlink åˆ é™¤æ–‡ä»¶"></a>5.9 fs.unlink åˆ é™¤æ–‡ä»¶</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fs.unlink(`logs / $ &#123;</span><br><span class="line">    file</span><br><span class="line">&#125;`, (error) = &gt;&#123;</span><br><span class="line">    if (error) &#123;</span><br><span class="line">        console.log(error)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        console.log(`æˆåŠŸçš„åˆ é™¤äº†æ–‡ä»¶: $ &#123;</span><br><span class="line">            file</span><br><span class="line">        &#125;`)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="5-10-fs-createReadStream-ä»æ–‡ä»¶æµä¸­è¯»å–æ•°æ®"><a href="#5-10-fs-createReadStream-ä»æ–‡ä»¶æµä¸­è¯»å–æ•°æ®" class="headerlink" title="5.10 fs.createReadStream ä»æ–‡ä»¶æµä¸­è¯»å–æ•°æ®"></a>5.10 fs.createReadStream ä»æ–‡ä»¶æµä¸­è¯»å–æ•°æ®</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">const fs = require(&#x27;fs&#x27;) </span><br><span class="line"></span><br><span class="line">var fileReadStream = fs.createReadStream(&#x27;data.json&#x27;) </span><br><span class="line">let count = 0;</span><br><span class="line">var str = &#x27;&#x27;;</span><br><span class="line"></span><br><span class="line">fileReadStream.on(&#x27;data&#x27;, (chunk) = &gt;&#123;</span><br><span class="line">    console.log(`$ &#123;++count</span><br><span class="line">    &#125;æ¥æ”¶åˆ°: $ &#123;</span><br><span class="line">        chunk.length</span><br><span class="line">    &#125;`);</span><br><span class="line">    str += chunk</span><br><span class="line">&#125;) </span><br><span class="line"></span><br><span class="line">fileReadStream.on(&#x27;end&#x27;, () = &gt;&#123;</span><br><span class="line">    console.log(&#x27;--- ç»“æŸ ---&#x27;);</span><br><span class="line">    console.log(coun t);</span><br><span class="line">    console.log(str);</span><br><span class="line">&#125;) </span><br><span class="line"></span><br><span class="line">fileReadStream.on(&#x27;error&#x27;, (error) = &gt;&#123;</span><br><span class="line">    console.log(error)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="5-11-fs-createWriteStream-å†™å…¥æ–‡ä»¶"><a href="#5-11-fs-createWriteStream-å†™å…¥æ–‡ä»¶" class="headerlink" title="5.11 fs.createWriteStream å†™å…¥æ–‡ä»¶"></a>5.11 fs.createWriteStream å†™å…¥æ–‡ä»¶</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">var fs = require(&quot;fs&quot;);</span><br><span class="line">var data = &#x27;æˆ‘æ˜¯ä»æ•°æ®åº“è·å–çš„æ•°æ®ï¼Œæˆ‘è¦ä¿å­˜èµ·æ¥&#x27;;</span><br><span class="line">// åˆ›å»ºä¸€ä¸ªå¯ä»¥å†™å…¥çš„æµï¼Œå†™å…¥åˆ°æ–‡ä»¶ output.txt ä¸­</span><br><span class="line">var writerStream = fs.createWriteStream(&#x27;output.txt&#x27;); // ä½¿ç”¨ utf8 ç¼–ç å†™å…¥æ•°æ®</span><br><span class="line"></span><br><span class="line">writerStream.write(data, &#x27;UTF8&#x27;); // æ ‡è®°æ–‡ä»¶æœ«å°¾</span><br><span class="line">writerStream.end();</span><br><span class="line">// å¤„ç†æµäº‹ä»¶ --&gt; finish äº‹ä»¶</span><br><span class="line">writerStream.on(&#x27;finish&#x27;,</span><br><span class="line">function() &#123;</span><br><span class="line">    /*finish - æ‰€æœ‰æ•°æ®å·²è¢«å†™å…¥åˆ°åº•å±‚ç³»ç»Ÿæ—¶è§¦å‘ã€‚*/</span><br><span class="line">    console.log(&quot;å†™å…¥å®Œ æˆã€‚&quot;);</span><br><span class="line">&#125;);</span><br><span class="line">writerStream.on(&#x27;error&#x27;,</span><br><span class="line">function(err) &#123;</span><br><span class="line">    console.log(err.stack);</span><br><span class="line">&#125;);</span><br><span class="line">console.log(&quot;ç¨‹åºæ‰§ è¡Œå®Œæ¯•&quot;);</span><br></pre></td></tr></table></figure>

<h2 id="5-12-ç®¡é“æµ"><a href="#5-12-ç®¡é“æµ" class="headerlink" title="5.12 ç®¡é“æµ"></a>5.12 ç®¡é“æµ</h2><blockquote>
<p>ç®¡é“æä¾›äº†ä¸€ä¸ªè¾“å‡ºæµåˆ°è¾“å…¥æµçš„æœºåˆ¶ã€‚é€šå¸¸æˆ‘ä»¬ç”¨äºä»ä¸€ä¸ªæµä¸­è·å–æ•°æ®å¹¶å°†æ•°æ®ä¼ é€’åˆ°å¦å¤–ä¸€ä¸ªæµä¸­ã€‚</p>
</blockquote>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/364.png" alt="img"></p>
<blockquote>
<p>å¦‚ä¸Šé¢çš„å›¾ç‰‡æ‰€ç¤ºï¼Œæˆ‘ä»¬æŠŠæ–‡ä»¶æ¯”ä½œè£…æ°´çš„æ¡¶ï¼Œè€Œæ°´å°±æ˜¯æ–‡ä»¶é‡Œçš„å†…å®¹ ï¼Œæˆ‘ä»¬ç”¨ä¸€æ ¹ç®¡å­(pipe )è¿æ¥ä¸¤ä¸ªæ¡¶ä½¿å¾—æ°´ä»ä¸€ä¸ªæ¡¶æµå…¥å¦ä¸€ä¸ªæ¡¶ï¼Œè¿™æ ·å°±æ…¢æ…¢çš„å®ç°äº†å¤§æ–‡ä»¶çš„å¤åˆ¶è¿‡ç¨‹ã€‚</p>
</blockquote>
<p>ä»¥ä¸‹å®ä¾‹æˆ‘ä»¬é€šè¿‡è¯»å–ä¸€ä¸ªæ–‡ä»¶å†…å®¹å¹¶å°†å†…å®¹å†™å…¥åˆ°å¦å¤–ä¸€ä¸ªæ–‡ä»¶ä¸­</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var fs = require(&quot;fs&quot;);</span><br><span class="line">// åˆ›å»ºä¸€ä¸ªå¯è¯»æµ</span><br><span class="line">var readerStream = fs.createReadStream(&#x27;input.txt&#x27;); // åˆ›å»ºä¸€ä¸ªå¯å†™æµ</span><br><span class="line">var writerStream = fs.createWriteStream(&#x27;output.txt&#x27;);</span><br><span class="line"></span><br><span class="line">// ç®¡é“è¯»å†™æ“ä½œ</span><br><span class="line">// è¯»å– input.txt æ–‡ä»¶å†…å®¹ï¼Œå¹¶å°†å†…å®¹å†™å…¥åˆ° output.txt æ–‡ä»¶ä¸­ </span><br><span class="line">readerStream.pipe(writerStream);</span><br><span class="line">console.log(&quot;ç¨‹ åºæ‰§è¡Œå®Œæ¯•&quot;);</span><br></pre></td></tr></table></figure>

<h1 id="å…­ã€åˆ›å»ºä¸€ä¸ª-WEB-æœåŠ¡å™¨"><a href="#å…­ã€åˆ›å»ºä¸€ä¸ª-WEB-æœåŠ¡å™¨" class="headerlink" title="å…­ã€åˆ›å»ºä¸€ä¸ª WEB æœåŠ¡å™¨"></a>å…­ã€åˆ›å»ºä¸€ä¸ª WEB æœåŠ¡å™¨</h1><blockquote>
<p>åˆ©ç”¨HTTPæ¨¡å— URlæ¨¡å— PATHæ¨¡å— FS æ¨¡å—åˆ›å»ºä¸€ä¸ª WEB æœåŠ¡å™¨</p>
</blockquote>
<p><strong>1. Node.js åˆ›å»ºçš„ç¬¬ä¸€ä¸ªåº”ç”¨</strong></p>
<blockquote>
<p>å¼•å…¥ http æ¨¡å—</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var http = require(&quot;http&quot;);</span><br></pre></td></tr></table></figure>

<p><strong>2. åˆ›å»ºæœåŠ¡å™¨</strong></p>
<blockquote>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨ <code>http.createServer()</code> æ–¹æ³•åˆ›å»ºæœåŠ¡å™¨ï¼Œå¹¶ä½¿ç”¨ <code>listen</code> æ–¹æ³•ç»‘å®š <code>8888</code> ç«¯å£ã€‚ å‡½æ•°é€šè¿‡ <code>request</code>, <code>response</code> å‚æ•°æ¥æ¥æ”¶å’Œå“åº”æ•°æ®</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//1.å¼•å…¥ http æ¨¡å—</span><br><span class="line">var http=require(&#x27;http&#x27;);</span><br><span class="line"></span><br><span class="line">//2.ç”¨ http æ¨¡å—åˆ›å»ºæœåŠ¡</span><br><span class="line">http.createServer(fun ction(req, res) &#123;</span><br><span class="line">    // å‘é€ HTTP å¤´éƒ¨</span><br><span class="line">    // HTTP çŠ¶æ€å€¼: 200 : OK</span><br><span class="line">    //è®¾ç½® HTTP å¤´éƒ¨ï¼ŒçŠ¶æ€ç æ˜¯ 200ï¼Œæ–‡ä»¶ç±»å‹æ˜¯ htmlï¼Œå­—ç¬¦é›†æ˜¯ utf-8</span><br><span class="line">    res.writeHead(200, &#123;</span><br><span class="line">        &quot;Content-Type&quot;: &quot;text/html;charset=&#x27;utf-8&#x27;&quot;</span><br><span class="line">    &#125;);</span><br><span class="line">    res.write(&#x27;ä½ å¥½ nodejs&#x27;);</span><br><span class="line">    res.write(&#x27;æˆ‘æ˜¯ç¬¬ä¸€ä¸ª nodejs ç¨‹åº&#x27;);</span><br><span class="line">    res.end();</span><br><span class="line">    /*ç»“æŸå“åº”*/</span><br><span class="line">&#125;).listen(8001);</span><br></pre></td></tr></table></figure>

<p><strong>3. WEB æœåŠ¡å™¨ä»‹ç»</strong></p>
<blockquote>
<p>Web æœåŠ¡å™¨ä¸€èˆ¬æŒ‡ç½‘ç«™æœåŠ¡å™¨ï¼Œæ˜¯æŒ‡é©»ç•™äºå› ç‰¹ç½‘ä¸ŠæŸç§ç±»å‹è®¡ç®—æœºçš„ç¨‹åºï¼Œå¯ä»¥å‘æµè§ˆ å™¨ç­‰ Web å®¢æˆ·ç«¯æä¾›æ–‡æ¡£ï¼Œä¹Ÿå¯ä»¥æ”¾ç½®ç½‘ç«™æ–‡ä»¶ï¼Œè®©å…¨ä¸–ç•Œæµè§ˆ;å¯ä»¥æ”¾ç½®æ•°æ®æ–‡ä»¶ï¼Œè®© å…¨ä¸–ç•Œä¸‹è½½ã€‚ç›®å‰æœ€ä¸»æµçš„ä¸‰ä¸ª Web æœåŠ¡å™¨æ˜¯ Apache Nginx IISã€‚</p>
</blockquote>
<h1 id="ä¸ƒã€Nodejs-çš„éé˜»å¡-I-x2F-Oã€å¼‚æ­¥ã€äº‹ä»¶é©±åŠ¨"><a href="#ä¸ƒã€Nodejs-çš„éé˜»å¡-I-x2F-Oã€å¼‚æ­¥ã€äº‹ä»¶é©±åŠ¨" class="headerlink" title="ä¸ƒã€Nodejs çš„éé˜»å¡ I&#x2F;Oã€å¼‚æ­¥ã€äº‹ä»¶é©±åŠ¨"></a>ä¸ƒã€Nodejs çš„éé˜»å¡ I&#x2F;Oã€å¼‚æ­¥ã€äº‹ä»¶é©±åŠ¨</h1><h2 id="7-1-Nodejsçš„å•çº¿ç¨‹-éé˜»å¡I-x2F-Oäº‹ä»¶é©±åŠ¨"><a href="#7-1-Nodejsçš„å•çº¿ç¨‹-éé˜»å¡I-x2F-Oäº‹ä»¶é©±åŠ¨" class="headerlink" title="7.1 Nodejsçš„å•çº¿ç¨‹ éé˜»å¡I&#x2F;Oäº‹ä»¶é©±åŠ¨"></a>7.1 Nodejsçš„å•çº¿ç¨‹ éé˜»å¡I&#x2F;Oäº‹ä»¶é©±åŠ¨</h2><ul>
<li>åœ¨ Javaã€PHP æˆ–è€….net ç­‰æœåŠ¡å™¨ç«¯è¯­è¨€ä¸­ï¼Œä¼šä¸ºæ¯ä¸€ä¸ªå®¢æˆ·ç«¯è¿æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ã€‚ è€Œæ¯ä¸ªçº¿ç¨‹éœ€è¦è€—è´¹å¤§çº¦ 2MB å†…å­˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç†è®ºä¸Šï¼Œä¸€ä¸ª 8GB å†…å­˜çš„æœåŠ¡å™¨å¯ä»¥åŒæ—¶ è¿æ¥çš„æœ€å¤§ç”¨æˆ·æ•°ä¸º 4000 ä¸ªå·¦å³ã€‚è¦è®© Web åº”ç”¨ç¨‹åºæ”¯æŒæ›´å¤šçš„ç”¨æˆ·ï¼Œå°±éœ€è¦å¢åŠ æœåŠ¡å™¨ çš„æ•°é‡ï¼Œè€Œ Web åº”ç”¨ç¨‹åºçš„ç¡¬ä»¶æˆæœ¬å½“ç„¶å°±ä¸Šå‡äº†</li>
<li>Node.js ä¸ä¸ºæ¯ä¸ªå®¢æˆ·è¿æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œè€Œä»…ä»…ä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹ã€‚å½“æœ‰ç”¨æˆ·è¿æ¥äº†ï¼Œ å°±è§¦å‘ä¸€ä¸ªå†…éƒ¨äº‹ä»¶ï¼Œé€šè¿‡éé˜»å¡ I&#x2F;Oã€äº‹ä»¶é©±åŠ¨æœºåˆ¶ï¼Œè®© Node.js ç¨‹åºå®è§‚ä¸Šä¹Ÿæ˜¯å¹¶è¡Œçš„ã€‚ ä½¿ç”¨ Node.jsï¼Œä¸€ä¸ª 8GB å†…å­˜çš„æœåŠ¡å™¨ï¼Œå¯ä»¥åŒæ—¶å¤„ç†è¶…è¿‡ 4 ä¸‡ç”¨æˆ·çš„è¿æ¥ã€‚</li>
</ul>
<h2 id="7-2-Nodejs-å›è°ƒå¤„ç†å¼‚æ­¥"><a href="#7-2-Nodejs-å›è°ƒå¤„ç†å¼‚æ­¥" class="headerlink" title="7.2 Nodejs å›è°ƒå¤„ç†å¼‚æ­¥"></a>7.2 Nodejs å›è°ƒå¤„ç†å¼‚æ­¥</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">//é”™è¯¯çš„å†™æ³•:</span><br><span class="line">function getData()&#123; </span><br><span class="line">    //æ¨¡æ‹Ÿè¯·æ±‚æ•°æ® </span><br><span class="line">    var result=&#x27;&#x27;;</span><br><span class="line">    setTimeout(functio n ()&#123; </span><br><span class="line">        result=&#x27;è¿™æ˜¯è¯·æ±‚åˆ°çš„ æ•°æ®&#x27;</span><br><span class="line">    &#125;,200);</span><br><span class="line">    </span><br><span class="line">    return result; </span><br><span class="line">&#125;</span><br><span class="line">console .log(getData());/*å¼‚æ­¥å¯¼è‡´è¯·æ±‚ä¸åˆ°æ•°æ®*/</span><br><span class="line">//æ­£ç¡®çš„å¤„ç†å¼‚æ­¥:</span><br><span class="line">function getData(callback) &#123; //æ¨¡æ‹Ÿè¯·æ±‚æ•°æ®</span><br><span class="line">    var result = &#x27;&#x27;;</span><br><span class="line">    setTimeout(function() &#123;</span><br><span class="line">        result = &#x27;è¿™æ˜¯è¯·æ±‚åˆ°çš„ æ•°æ®&#x27;;</span><br><span class="line">        callback(result);</span><br><span class="line">    &#125;,</span><br><span class="line">    200);</span><br><span class="line">&#125;</span><br><span class="line">getData(function(data) &#123;</span><br><span class="line">    console.log(data);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="7-3-Nodejs-events-æ¨¡å—å¤„ç†å¼‚æ­¥"><a href="#7-3-Nodejs-events-æ¨¡å—å¤„ç†å¼‚æ­¥" class="headerlink" title="7.3 Nodejs events æ¨¡å—å¤„ç†å¼‚æ­¥"></a>7.3 Nodejs events æ¨¡å—å¤„ç†å¼‚æ­¥</h2><blockquote>
<p><code>Node.js</code> æœ‰å¤šä¸ªå†…ç½®çš„äº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¼•å…¥ <code>events</code> æ¨¡å—ï¼Œå¹¶é€šè¿‡å®ä¾‹åŒ– <code>EventEmitter</code> ç±»æ¥ç»‘å®šå’Œç›‘å¬äº‹ä»¶ã€‚</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// å¼•å…¥ events æ¨¡å—</span><br><span class="line">var events = require(&#x27;events&#x27;);</span><br><span class="line">var Even tEmitter =new event s .EventEmitter() ; /*å®ä¾‹åŒ–äº‹ä»¶å¯¹è±¡*/</span><br><span class="line">EventEmitter.on(&#x27;toparent&#x27;,function()&#123; console.log(&#x27;æ¥æ”¶åˆ°äº†å¹¿æ’­äº‹ä»¶&#x27;);</span><br><span class="line">&#125;)</span><br><span class="line">setTimeout(function ()&#123;</span><br><span class="line">    console.log(&#x27;å¹¿æ’­&#x27;);</span><br><span class="line">    EventEmitter.emit(&#x27;toparent&#x27; ); /*å‘é€å¹¿æ’­*/ </span><br><span class="line">&#125;,1000)</span><br></pre></td></tr></table></figure>

<h1 id="å…«ã€é™æ€æ–‡ä»¶æ‰˜ç®¡-GET-POSTè·¯ç”±EJSæ¨¡æ¿å¼•æ“"><a href="#å…«ã€é™æ€æ–‡ä»¶æ‰˜ç®¡-GET-POSTè·¯ç”±EJSæ¨¡æ¿å¼•æ“" class="headerlink" title="å…«ã€é™æ€æ–‡ä»¶æ‰˜ç®¡ GET POSTè·¯ç”±EJSæ¨¡æ¿å¼•æ“"></a>å…«ã€é™æ€æ–‡ä»¶æ‰˜ç®¡ GET POSTè·¯ç”±EJSæ¨¡æ¿å¼•æ“</h1><h2 id="8-1-è·¯ç”±"><a href="#8-1-è·¯ç”±" class="headerlink" title="8.1 è·¯ç”±"></a>8.1 è·¯ç”±</h2><blockquote>
<p>è·¯ç”±æŒ‡çš„å°±æ˜¯é’ˆå¯¹ä¸åŒè¯·æ±‚çš„ URLï¼Œå¤„ç†ä¸åŒçš„ä¸šåŠ¡é€»è¾‘ã€‚</p>
</blockquote>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/365.png" alt="img"></p>
<h2 id="8-2-åˆè¯†-EJS-æ¨¡å—å¼•æ“"><a href="#8-2-åˆè¯†-EJS-æ¨¡å—å¼•æ“" class="headerlink" title="8.2 åˆè¯† EJS æ¨¡å—å¼•æ“"></a>8.2 åˆè¯† EJS æ¨¡å—å¼•æ“</h2><blockquote>
<p>æˆ‘ä»¬å­¦çš„ EJS æ˜¯åå°æ¨¡æ¿ï¼Œå¯ä»¥æŠŠæˆ‘ä»¬æ•°æ®åº“å’Œæ–‡ä»¶è¯»å–çš„æ•°æ®æ˜¾ç¤ºåˆ° Html é¡µé¢ä¸Šé¢ã€‚å®ƒ æ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œéœ€è¦é€šè¿‡ npm å®‰è£…</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install ejs â€“save / cnpm install ejs --save</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Nodejs ä¸­ä½¿ç”¨:</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ejs.renderFile(filename, data, options, function(err, str)&#123;</span><br><span class="line">// str =&gt; Rendered HTML string</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>EJS å¸¸ç”¨æ ‡ç­¾</strong></p>
<ul>
<li><code>&lt;%%&gt;</code>æµç¨‹æ§åˆ¶æ ‡ç­¾</li>
<li><code>&lt;%=%&gt;</code>è¾“å‡ºæ ‡ç­¾(åŸæ–‡è¾“å‡ºHTMLæ ‡ç­¾)</li>
<li><code>&lt;%-%&gt;</code>è¾“å‡ºæ ‡ç­¾(HTMLä¼šè¢«æµè§ˆå™¨è§£æ)</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&quot;&lt;%= url %&gt;&quot;&gt;&lt;img src=&quot;&lt;%= imageURL %&gt;&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;ul&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"> &lt;head&gt;&lt;/head&gt;</span><br><span class="line"> &lt;body&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &amp;lt;% for(var i = 0 ; i &amp;lt; news.length ; i++)&#123; %&amp;gt; </span><br><span class="line">   &lt;li&gt;&amp;lt;%= news[i] %&amp;gt;&lt;/li&gt; &amp;lt;% &#125; %&amp;gt; </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line"> &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="8-3-Getã€Post"><a href="#8-3-Getã€Post" class="headerlink" title="8.3 Getã€Post"></a>8.3 Getã€Post</h2><ul>
<li>è¶…æ–‡æœ¬ä¼ è¾“åè®®(HTTP)çš„è®¾è®¡ç›®çš„æ˜¯ä¿è¯å®¢æˆ·ç«¯æœºå™¨ä¸æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡</li>
<li>åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´è¿›è¡Œè¯·æ±‚-å“åº”æ—¶ï¼Œä¸¤ç§æœ€å¸¸è¢«ç”¨åˆ°çš„æ–¹æ³•æ˜¯:GET å’Œ POST<ul>
<li>GET - ä»æŒ‡å®šçš„èµ„æºè¯·æ±‚æ•°æ®ã€‚(ä¸€èˆ¬ç”¨äºè·å–æ•°æ®)</li>
<li>POST - å‘æŒ‡å®šçš„èµ„æºæäº¤è¦è¢«å¤„ç†çš„æ•°æ®ã€‚(ä¸€èˆ¬ç”¨äºæäº¤æ•°æ®)</li>
</ul>
</li>
</ul>
<p><strong>è·å– GET ä¼ å€¼:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var urlinfo=url.parse(req.url,true); </span><br><span class="line">urlinfo.query();</span><br></pre></td></tr></table></figure>

<p><strong>è·å– POST ä¼ å€¼:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">var postData = &#x27;&#x27;; </span><br><span class="line"></span><br><span class="line">// æ•°æ®å—æ¥æ”¶ä¸­</span><br><span class="line">req.on(&#x27;data&#x27;,</span><br><span class="line">function(postDataChunk) &#123;</span><br><span class="line">    postData += postDataChunk;</span><br><span class="line">&#125;);</span><br><span class="line">// æ•°æ®æ¥æ”¶å®Œæ¯•ï¼Œæ‰§è¡Œå›è°ƒå‡½æ•°</span><br><span class="line">req.on(&#x27;end&#x27;,</span><br><span class="line">function() &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">        postData = JSON.parse(postData);</span><br><span class="line">    &#125; catch(e) &#123;&#125;</span><br><span class="line">    req.query = postData;</span><br><span class="line">    console.log(q uerystring.parse(postData));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h1 id="ä¹ã€MongoDb-æ•°æ®åº“ä»‹ç»ã€å®‰è£…ã€ä½¿ç”¨"><a href="#ä¹ã€MongoDb-æ•°æ®åº“ä»‹ç»ã€å®‰è£…ã€ä½¿ç”¨" class="headerlink" title="ä¹ã€MongoDb æ•°æ®åº“ä»‹ç»ã€å®‰è£…ã€ä½¿ç”¨"></a>ä¹ã€MongoDb æ•°æ®åº“ä»‹ç»ã€å®‰è£…ã€ä½¿ç”¨</h1><h2 id="9-1-æ•°æ®åº“å’Œæ–‡ä»¶çš„ä¸»è¦åŒºåˆ«"><a href="#9-1-æ•°æ®åº“å’Œæ–‡ä»¶çš„ä¸»è¦åŒºåˆ«" class="headerlink" title="9.1 æ•°æ®åº“å’Œæ–‡ä»¶çš„ä¸»è¦åŒºåˆ«"></a>9.1 æ•°æ®åº“å’Œæ–‡ä»¶çš„ä¸»è¦åŒºåˆ«</h2><ul>
<li>æ•°æ®åº“æœ‰æ•°æ®åº“è¡¨ã€è¡Œå’Œåˆ—çš„æ¦‚å¿µï¼Œè®©æˆ‘ä»¬å­˜å‚¨æ“ä½œæ•°æ®æ›´æ–¹ä¾¿</li>
<li>æ•°æ®åº“æä¾›äº†éå¸¸æ–¹ä¾¿çš„æ¥å£ï¼Œå¯ä»¥è®© <code>nodejs</code>ã€<code>php</code> <code>java</code> <code>.net</code> å¾ˆæ–¹ä¾¿çš„å®ç°å¢åŠ ä¿®æ”¹åˆ é™¤åŠŸèƒ½</li>
</ul>
<h2 id="9-2-NoSql-ä»‹ç»"><a href="#9-2-NoSql-ä»‹ç»" class="headerlink" title="9.2 NoSql ä»‹ç»"></a>9.2 NoSql ä»‹ç»</h2><h3 id="9-2-1-NoSQL-ä»‹ç»"><a href="#9-2-1-NoSQL-ä»‹ç»" class="headerlink" title="9.2.1 NoSQL ä»‹ç»"></a>9.2.1 NoSQL ä»‹ç»</h3><ul>
<li>ç”±äºäº’è”ç½‘çš„è¿…é€Ÿå‘å±•ï¼Œäº‘è®¡ç®—ä¸ Web2.0ã€‚è¿™æ ·å¤§é‡çš„äº¤äº’ç»™æ•°æ®åº“æå‡ºäº†æ›´é«˜çš„æ€§èƒ½è¦<br>æ±‚ï¼Œä¼ ç»Ÿçš„æ•°æ®åº“(æœ¬æ–‡æ³›æŒ‡ SQL æ•°æ®åº“)ï¼Œå³å…³ç³»æ•°æ®åº“è™½ç„¶å…·å¤‡è‰¯å¥½çš„äº‹ç‰©ç®¡ç†ï¼Œ<br>ä½†åœ¨ å¤„ç†å¤§é‡æ•°æ® çš„åº”ç”¨ æ—¶å¾ˆéš¾ åœ¨æ€§èƒ½ ä¸Šæ»¡è¶³ è®¾è®¡è¦ æ±‚ã€‚NoSQL å°±æ˜¯ä¸»è¦ä¸ºäº†è§£å†³å½“ä¸‹å¤§é‡é«˜å¹¶å‘é«˜è¦æ±‚çš„æ•°æ® åº“åº”ç”¨ éœ€æ±‚ï¼Œå…³ç³»æ•° æ®åº“ å…·æœ‰ä¸¥ æ ¼çš„å‚ ç…§æ€§ï¼Œä¸€è‡´æ€§ ï¼Œå¯ç”¨ æ€§ï¼ŒåŸå­æ€§ ï¼Œéš”ç¦» æ€§ç­‰ç‰¹ ç‚¹</li>
<li>å› æ­¤ä¼šäº§ç”Ÿä¸€äº›ä¾‹å¦‚è¡¨è¿æ¥ç­‰æ“ä½œï¼Œè¿™æ ·ä¼šå¤§å¤§é™ä½ç³»ç»Ÿçš„æ€§èƒ½ã€‚è€Œåœ¨å½“å‰å¾ˆå¤šåº”ç”¨åœºæ™¯ä¸‹å¯¹æ€§èƒ½çš„è¦æ±‚ è¿œè¿œå¼º äºä¼ ç»Ÿ æ•°æ®åº“ å…³æ³¨çš„ ç‚¹ï¼Œ<code>NoSQL</code>å°±æ˜¯ä¸ºäº†è§£å†³å¤§è§„æ¨¡æ•°æ®ä¸å¤šæ ·æ•° æ®ç§ç±» ç­‰é—®é¢˜ï¼Œå°¤å…¶æ˜¯å…¶ä¸­å¤§æ•°æ®çš„ç›¸å…³é—®é¢˜ã€‚</li>
<li><code>NoSQL</code>(<code>NoSQL = Not Only SQL</code> )ï¼Œæ„å³â€œä¸ä»…ä»…æ˜¯ SQLâ€ï¼Œå®ƒæŒ‡çš„æ˜¯éå…³ç³»å‹çš„æ•°æ®åº“ï¼Œæ˜¯ä»¥ <code>key-value</code><br>å½¢å¼å­˜å‚¨ï¼Œå’Œä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“ä¸ä¸€æ ·ï¼Œä¸ä¸€å®šéµå¾ªä¼ ç»Ÿæ•°æ®åº“çš„ä¸€äº›åŸºæœ¬è¦æ±‚ï¼Œæ¯”å¦‚è¯´éµå¾ªSQL æ ‡å‡†ACID å±æ€§ã€è¡¨ç»“æ„ç­‰ç­‰ã€‚<code>NoSQL</code> æœ€æ—©è¢«æå‡ºæ˜¯åœ¨ 20 ä¸–çºª 80 å¹´ä»£ï¼Œåœ¨å½“æ—¶æ›´å¤šæ˜¯å¼ºè°ƒçš„æ˜¯ä¸å…³ç³»æ•°æ®åº“åŒº åˆ«å¯¹å¾… ï¼Œæœ€è¿‘è¿™äº›å¹´è¢«æåŠçš„æ›´å¤šæ˜¯å¼ºè°ƒååŠ©è§£å†³å¤§æ•°æ®ç­‰ç›¸å…³é—®é¢˜ã€‚<code>NoSQL</code> åœ¨å¤§æ•°æ®æ—¶ä»£æœ‰è‡ªå·±çš„æ„ä¹‰</li>
</ul>
<h3 id="9-2-2-NoSQL-åº”ç”¨æƒ…å†µä»‹ç»"><a href="#9-2-2-NoSQL-åº”ç”¨æƒ…å†µä»‹ç»" class="headerlink" title="9.2.2 NoSQL åº”ç”¨æƒ…å†µä»‹ç»"></a>9.2.2 NoSQL åº”ç”¨æƒ…å†µä»‹ç»</h3><blockquote>
<p>å›½å†…çš„äº’è”ç½‘è“¬å‹ƒå‘å±•ï¼Œä¸ä»…æ¶Œç°å‡º BAT(ç™¾åº¦ï¼Œé˜¿é‡Œå·´å·´ï¼Œè…¾è®¯)ä¹‹ç±»çš„å·¨å¤´ï¼Œä¹Ÿå¸¦åŠ¨äº†æ•´ä¸ªäº’è” ç½‘è¡Œä¸šçš„å‘å±•ï¼Œå¤§é‡çš„åˆ›ä¸šå‹å…¬å¸å¦‚æ˜¥ç¬‹èˆ¬çš„æ¶Œå‡ºï¼Œåœ¨å›½å®¶å±‚é¢ä¹Ÿæå‡ºäº†â€œäº’è”ç½‘+â€å’Œâ€œä¸‡ä¼—åˆ›ä¸šâ€çš„å£ å·ã€‚æ›´å¤šä¼ ç»Ÿçš„è¡Œä¸šä¹Ÿå¼€å§‹æ‹¥æŠ±äº’è”ç½‘ã€‚ä½†æ˜¯æ— è®ºæ˜¯åšæ‰€è°“çš„ç”Ÿæ€å¹³å°è¿˜æ˜¯ ä¼ ç»Ÿä¸šåŠ¡çš„è½¬å‹ï¼Œæ¶‰åŠåˆ°çš„ä¸šåŠ¡æ˜¯å¤šç§å¤šæ ·çš„ã€‚è¿™ä¸ªæ—¶å€™ä¼ä¸šæ¶æ„å¸ˆå¯¹äºåº”ç”¨ç³»ç»Ÿçš„æ ¸å¿ƒâ€”â€”æ•°æ®åº“ç®¡ç† ä¸ä»…æœ‰ä¼ ç»Ÿçš„ SQL é€‰é¡¹ä¹Ÿæœ‰äº† NoSQLè¿™ç§é€‚åˆç‰¹å®šåœºæ™¯éœ€æ±‚çš„é€‰é¡¹</p>
</blockquote>
<p><strong>NoSQL æ•°æ®åº“åœ¨ä»¥ä¸‹çš„è¿™å‡ ç§æƒ…å†µä¸‹æ¯”è¾ƒé€‚ç”¨</strong></p>
<ul>
<li>æ•°æ®æ¨¡å‹æ¯”è¾ƒç®€å•</li>
<li>éœ€è¦çµæ´»æ€§æ›´å¼ºçš„ IT ç³»ç»Ÿ</li>
<li>å¯¹æ•°æ®åº“æ€§èƒ½è¦æ±‚è¾ƒé«˜</li>
<li>ä¸éœ€è¦é«˜åº¦çš„æ•°æ®ä¸€è‡´æ€§</li>
<li>å¯¹äºç»™å®š keyï¼Œæ¯”è¾ƒå®¹æ˜“æ˜ å°„å¤æ‚å€¼çš„ç¯å¢ƒ</li>
</ul>
<p><strong>NoSQL å‘å±•ç°çŠ¶</strong></p>
<ul>
<li>å›½å¤–: Google çš„ BigTable å’Œ Amazon çš„ Dynamo ä½¿ç”¨çš„å°±æ˜¯ NoSQL å‹æ•°æ®åº“ã€‚</li>
<li>å›½å†…:ç™¾åº¦ã€é˜¿é‡Œã€è…¾è®¯ã€æ–°æµªå¾®åšã€è§†è§‰ä¸­å›½ã€ä¼˜é…·è¿è¥æ•°æ®åˆ†æã€é£ä¿¡ç©ºé—´ã€è±†ç“£ç¤¾åŒºç­‰</li>
</ul>
<h2 id="9-3-ä»€ä¹ˆæ—¶å€™å»ºè®®ä½¿ç”¨-NoSql"><a href="#9-3-ä»€ä¹ˆæ—¶å€™å»ºè®®ä½¿ç”¨-NoSql" class="headerlink" title="9.3 ä»€ä¹ˆæ—¶å€™å»ºè®®ä½¿ç”¨ NoSql"></a>9.3 ä»€ä¹ˆæ—¶å€™å»ºè®®ä½¿ç”¨ NoSql</h2><ul>
<li>å¯¹æ•°æ®åº“é«˜å¹¶å‘è¯»å†™çš„éœ€æ±‚</li>
<li>å¯¹æµ·é‡æ•°æ®çš„é«˜æ•ˆç‡å­˜å‚¨å’Œè®¿é—®çš„éœ€æ±‚</li>
<li>å¯¹æ•°æ®åº“çš„é«˜å¯æ‰©å±•æ€§å’Œé«˜å¯ç”¨æ€§çš„éœ€æ±‚</li>
</ul>
<h2 id="9-4-NoSql-å’Œä¼ ç»Ÿæ•°æ®åº“ç®€å•å¯¹æ¯”"><a href="#9-4-NoSql-å’Œä¼ ç»Ÿæ•°æ®åº“ç®€å•å¯¹æ¯”" class="headerlink" title="9.4 NoSql å’Œä¼ ç»Ÿæ•°æ®åº“ç®€å•å¯¹æ¯”"></a>9.4 NoSql å’Œä¼ ç»Ÿæ•°æ®åº“ç®€å•å¯¹æ¯”</h2><ul>
<li>éç»“æ„å‹æ•°æ®åº“ã€‚æ²¡æœ‰è¡Œã€åˆ—çš„æ¦‚å¿µã€‚ç”¨ JSON æ¥å­˜å‚¨æ•°æ®ã€‚</li>
<li>é›†åˆå°±ç›¸å½“äºâ€œè¡¨ â€ï¼Œæ–‡æ¡£å°±ç›¸å½“äºâ€œè¡Œâ€ã€‚</li>
</ul>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/366.png" alt="img"></p>
<h2 id="9-5-NoSql-ç§ç±»"><a href="#9-5-NoSql-ç§ç±»" class="headerlink" title="9.5 NoSql ç§ç±»"></a>9.5 NoSql ç§ç±»</h2><p><img src="https://poetries1.gitee.io/img-repo/2019/10/367.png" alt="img"></p>
<h2 id="9-6-MongoDb-ä»‹ç»"><a href="#9-6-MongoDb-ä»‹ç»" class="headerlink" title="9.6 MongoDb ä»‹ç»"></a>9.6 MongoDb ä»‹ç»</h2><blockquote>
<p>MongoDB æ˜¯ä¸€ä¸ªä»‹äºå…³ç³»æ•°æ®åº“å’Œéå…³ç³»æ•°æ®åº“ä¹‹é—´çš„äº§å“ï¼Œæ˜¯éå…³ç³»æ•°æ®åº“å½“ä¸­åŠŸèƒ½æœ€ä¸°å¯Œï¼Œæœ€åƒ å…³ç³»æ•°æ®åº“çš„ã€‚ä»–æ”¯æŒçš„æ•°æ®ç»“æ„éå¸¸æ¾æ•£ï¼Œæ˜¯ç±»ä¼¼ json çš„ bson æ ¼å¼ï¼Œå› æ­¤å¯ä»¥å­˜å‚¨æ¯”è¾ƒå¤æ‚çš„æ•°æ®ç±» å‹ã€‚Mongo æœ€å¤§çš„ç‰¹ç‚¹æ˜¯ä»–æ”¯æŒçš„æŸ¥è¯¢è¯­è¨€éå¸¸å¼ºå¤§ï¼Œå…¶è¯­æ³•æœ‰ç‚¹ç±»ä¼¼äºé¢å‘å¯¹è±¡çš„æŸ¥è¯¢è¯­è¨€ï¼Œå‡ ä¹å¯ä»¥ å®ç°ç±»ä¼¼å…³ç³»æ•°æ®åº“å•è¡¨æŸ¥è¯¢çš„ç»å¤§éƒ¨åˆ†åŠŸèƒ½ï¼Œè€Œä¸”è¿˜æ”¯æŒå¯¹æ•°æ®å»ºç«‹ç´¢å¼•ã€‚å®ƒçš„ç‰¹ç‚¹æ˜¯é«˜ æ€§èƒ½ ã€æ˜“éƒ¨ç½² ã€ æ˜“ä½¿ç”¨ ï¼Œå­˜å‚¨æ•°æ®éå¸¸ æ–¹ä¾¿</p>
</blockquote>
<h2 id="9-7-MongoDb-å®‰è£…"><a href="#9-7-MongoDb-å®‰è£…" class="headerlink" title="9.7 MongoDb å®‰è£…"></a>9.7 MongoDb å®‰è£…</h2><ul>
<li>å®˜ç½‘:<a target="_blank" rel="noopener" href="https://www.mongodb.com/">https://www.mongodb.com/</a></li>
<li>æ‰‹å†Œ:<a target="_blank" rel="noopener" href="https://docs.mongodb.org/manual/">https://docs.mongodb.org/manual/</a></li>
</ul>
<p><strong>1. åŒå‡» MongoDB è½¯ä»¶ä¸‹ä¸€æ­¥ä¸‹ä¸€æ­¥å®‰è£…</strong></p>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/368.png" alt="img"></p>
<p><strong>2. å®‰è£…å®Œæˆé…ç½®ç¯å¢ƒå˜é‡ C:\Program Files\MongoDB\Server\3.0\bin åŠ å…¥åˆ°ç³»ç»Ÿçš„path ç¯å¢ƒå˜é‡ä¸­</strong></p>
<p><strong>3. æ‰“å¼€ cmd è¾“å…¥ :mongoå‘½ä»¤çœ‹çœ‹æ˜¯å¦æˆåŠŸã€‚å¦‚æœå‡ºæ¥ä¸‹å›¾è¯´æ˜ mongodbé…ç½®æˆåŠŸã€‚</strong></p>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/369.png" alt="img"></p>
<h2 id="9-8-ä½¿ç”¨-MongoDb"><a href="#9-8-ä½¿ç”¨-MongoDb" class="headerlink" title="9.8 ä½¿ç”¨ MongoDb"></a>9.8 ä½¿ç”¨ MongoDb</h2><ol>
<li>æ–°å»ºä¸€ä¸ªå­˜æ”¾æ•°æ®åº“çš„æ–‡ä»¶å¤¹ï¼Œæ³¨æ„:ä¸èƒ½æœ‰ä¸­æ–‡å’Œç©ºæ ¼ï¼Œå»ºè®®ä¸è¦æ”¾åœ¨ C ç›˜</li>
<li>å¯åŠ¨ MongoDb æœåŠ¡</li>
</ol>
<blockquote>
<p>æœåŠ¡ç«¯:<code>mongod</code> å¼€å¯æ•°æ®åº“æœåŠ¡ <code>mongod --dbpath C:\mongodb</code></p>
</blockquote>
<p><strong>å¼€å¯ MongoDb æœåŠ¡å‘½ä»¤:</strong></p>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/370.png" alt="img"></p>
<ul>
<li><code>--dbpath</code> å°±æ˜¯é€‰æ‹©æ•°æ®åº“æ–‡æ¡£æ‰€åœ¨çš„æ–‡ä»¶å¤¹</li>
<li>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>mongoDB</code> ä¸­ï¼ŒçœŸçš„æœ‰ç‰©ç†æ–‡ä»¶ï¼Œå¯¹åº”ä¸€ä¸ªä¸ªæ•°æ®åº“ã€‚U ç›˜å¯ä»¥æ‹·èµ°ã€‚</li>
<li>æ³¨æ„:ä¸€å®šè¦ä¿æŒï¼Œå¼€æœºè¿™ä¸ª CMD ä¸èƒ½åŠ¨äº†ï¼Œä¸èƒ½å…³ï¼Œä¸èƒ½ <code>ctrl+c</code>ã€‚ ä¸€æ—¦è¿™ä¸ª <code>cmd</code> æœ‰é—®é¢˜äº†ï¼Œæ•°æ®åº“å°±è‡ªåŠ¨å…³é—­äº†</li>
</ul>
<ol>
<li>å®¢æˆ·ç«¯è¾“å…¥ <code>mongo</code> å‘½ä»¤è¿æ¥æœåŠ¡ç«¯</li>
</ol>
<blockquote>
<p>å®¢æˆ·ç«¯:<code>mongo</code> ä½¿ç”¨æ•°æ®åº“</p>
</blockquote>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/371.png" alt="img"></p>
<blockquote>
<p>å®¢æˆ·ç«¯:<code>mongo</code> ä½¿ç”¨æ•°æ®åº“ <code>ip</code> åœ°å€:ç«¯å£å·</p>
</blockquote>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/372.png" alt="img"></p>
<h1 id="åã€MongoDB-æ•°æ®åº“åˆ›å»ºåˆ é™¤ã€è¡¨ï¼ˆé›†åˆï¼‰åˆ›å»ºåˆ é™¤ã€æ•°æ®å¢åˆ æ”¹æŸ¥"><a href="#åã€MongoDB-æ•°æ®åº“åˆ›å»ºåˆ é™¤ã€è¡¨ï¼ˆé›†åˆï¼‰åˆ›å»ºåˆ é™¤ã€æ•°æ®å¢åˆ æ”¹æŸ¥" class="headerlink" title="åã€MongoDB æ•°æ®åº“åˆ›å»ºåˆ é™¤ã€è¡¨ï¼ˆé›†åˆï¼‰åˆ›å»ºåˆ é™¤ã€æ•°æ®å¢åˆ æ”¹æŸ¥"></a>åã€MongoDB æ•°æ®åº“åˆ›å»ºåˆ é™¤ã€è¡¨ï¼ˆé›†åˆï¼‰åˆ›å»ºåˆ é™¤ã€æ•°æ®å¢åˆ æ”¹æŸ¥</h1><h2 id="10-1-æ•°æ®åº“ä½¿ç”¨"><a href="#10-1-æ•°æ®åº“ä½¿ç”¨" class="headerlink" title="10.1 æ•°æ®åº“ä½¿ç”¨"></a>10.1 æ•°æ®åº“ä½¿ç”¨</h2><blockquote>
<p>å¼€å¯ <code>mongodb</code> æœåŠ¡:è¦ç®¡ç†æ•°æ®åº“ï¼Œå¿…é¡»å…ˆå¼€å¯æœåŠ¡ï¼Œå¼€å¯æœåŠ¡ä½¿ç”¨ <code>mongod --dbpath c:\mongodb</code></p>
</blockquote>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/373.png" alt="img"></p>
<blockquote>
<p>ç®¡ç† <code>mongodb</code> æ•°æ®åº“:<code>mongo</code> (ä¸€å®šè¦åœ¨æ–°çš„ <code>cmd</code> ä¸­è¾“å…¥)</p>
</blockquote>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/374.png" alt="img"></p>
<blockquote>
<p>æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“åˆ— è¡¨</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show dbs</span><br></pre></td></tr></table></figure>

<h2 id="10-2-åˆ›å»ºæ•°æ®åº“"><a href="#10-2-åˆ›å»ºæ•°æ®åº“" class="headerlink" title="10.2 åˆ›å»ºæ•°æ®åº“"></a>10.2 åˆ›å»ºæ•°æ®åº“</h2><p><img src="https://poetries1.gitee.io/img-repo/2019/10/375.png" alt="img"></p>
<p><strong>ä½¿ç”¨æ•°æ®åº“ã€åˆ›å»º æ•°æ®åº“</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use student</span><br></pre></td></tr></table></figure>

<ul>
<li>å¦‚æœçœŸçš„æƒ³æŠŠè¿™ä¸ªæ•°æ®åº“åˆ›å»ºæˆåŠŸï¼Œé‚£ä¹ˆå¿…é¡»æ’å…¥ä¸€ä¸ªæ•°æ®</li>
<li>æ•°æ®åº“ä¸­ä¸èƒ½ç›´æ¥æ’å…¥æ•°æ®ï¼Œåªèƒ½å¾€é›†åˆ(collectio ns)ä¸­æ’å…¥æ•° æ®ã€‚ä¸éœ€è¦ä¸“é—¨åˆ›å»ºé›†åˆï¼Œåªéœ€è¦å†™ç‚¹è¯­æ³•æ’å…¥æ•°æ®å°±ä¼šåˆ›å»ºé›†åˆ:</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.student.insert(&#123;â€œnameâ€:â€x iaom ingâ€&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>db.student ç³»ç»Ÿå‘ç° student æ˜¯ä¸€ä¸ªé™Œç”Ÿçš„é›†åˆåå­—ï¼Œæ‰€ä»¥å°±è‡ªåŠ¨åˆ›å»ºäº†é›†åˆ</li>
</ul>
<p><strong>æ˜¾ç¤ºå½“å‰çš„æ•°æ®é›†åˆ(mysql ä¸­å«è¡¨)</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show collections</span><br></pre></td></tr></table></figure>

<p><strong>åˆ é™¤æ•°æ®åº“ï¼Œåˆ é™¤å½“å‰æ‰€åœ¨çš„æ•°æ®åº“</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.dropDatabase();</span><br></pre></td></tr></table></figure>

<p><strong>åˆ é™¤é›†åˆï¼Œåˆ é™¤æŒ‡å®šçš„é›†åˆåˆ é™¤è¡¨</strong></p>
<blockquote>
<p>åˆ é™¤é›†åˆ</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">db.COLLECTION_NAME.drop()</span><br><span class="line"></span><br><span class="line">db.user.drop()</span><br></pre></td></tr></table></figure>

<h2 id="10-3-æ’å…¥-å¢åŠ -æ•°æ®"><a href="#10-3-æ’å…¥-å¢åŠ -æ•°æ®" class="headerlink" title="10.3 æ’å…¥(å¢åŠ )æ•°æ®"></a>10.3 æ’å…¥(å¢åŠ )æ•°æ®</h2><blockquote>
<p>æ’å…¥æ•°æ®ï¼Œéšç€æ•°æ®çš„æ’å…¥ï¼Œæ•°æ®åº“åˆ›å»ºæˆåŠŸäº†ï¼Œé›†åˆä¹Ÿåˆ›å»ºæˆåŠŸäº†ã€‚</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">db.è¡¨å.insert(&#123;&quot;name&quot;:&quot;zhangsan&quot;&#125;);</span><br><span class="line"></span><br><span class="line">student é›†åˆåç§°(è¡¨)</span><br></pre></td></tr></table></figure>

<h2 id="10-4-æŸ¥æ‰¾æ•°æ®"><a href="#10-4-æŸ¥æ‰¾æ•°æ®" class="headerlink" title="10.4 æŸ¥æ‰¾æ•°æ®"></a>10.4 æŸ¥æ‰¾æ•°æ®</h2><p><strong>1. æŸ¥è¯¢æ‰€æœ‰è®° å½•</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.userInfo.find();</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç›¸å½“äº:<code>select* from userInfo;</code></p>
</blockquote>
<p><strong>2. æŸ¥è¯¢å»æ‰å çš„å½“å‰èšé›†é›†åˆä¸­çš„æŸåˆ—çš„é‡å¤æ•°æ®</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.userInfo.distinct(&quot;name&quot;);</span><br></pre></td></tr></table></figure>

<ul>
<li>ä¼šè¿‡æ»¤æ‰ <code>name</code> ä¸­çš„ç›¸åŒæ•°æ®</li>
<li>ç›¸å½“äº:<code>select distict name from userInfo;</code></li>
</ul>
<p><strong>3. æŸ¥è¯¢ age &#x3D; 22 çš„è®°å½•</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.userInfo.find(&#123;&quot;age&quot;: 22&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç›¸å½“äº: <code>select * from userInfo where age = 22;</code></p>
</blockquote>
<p><strong>4. æŸ¥è¯¢ age &gt; 22 çš„è®°å½•</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.userInfo.find(&#123;age: &#123;$gt: 22&#125;&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç›¸å½“äº:<code>select * from userInfo where age &gt;22;</code></p>
</blockquote>
<p><strong>5. æŸ¥è¯¢ age &lt; 22 çš„è®°å½•</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.userInfo.find(&#123;age: &#123;$lt: 22&#125;&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç›¸å½“äº:<code>select * from userInfo where age &lt;22;</code></p>
</blockquote>
<p><strong>6. æŸ¥è¯¢ age &gt;&#x3D; 25 çš„è®°å½•</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.userInfo.find(&#123;age: &#123;$gte: 25&#125;&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç›¸å½“äº:<code>select * from userInfo where age &gt;= 25;</code></p>
</blockquote>
<p><strong>7. æŸ¥è¯¢ age &lt;&#x3D; 25 çš„è®°å½•</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.userInfo.find(&#123;age: &#123;$lte: 25&#125;&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>8. æŸ¥è¯¢ age &gt;&#x3D; 23 å¹¶ä¸” age &lt;&#x3D; 26</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.userInfo.find(&#123;age: &#123;$gte: 23, $lte: 26&#125;&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>9. æŸ¥è¯¢nameä¸­åŒ…å« mongoçš„æ•°æ®,æ¨¡ç³ŠæŸ¥è¯¢ç”¨äºæœç´¢</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">db.userInfo.find(&#123;name: /mongo/&#125;);</span><br><span class="line">//ç›¸å½“äº%%</span><br><span class="line">select * from userInfo where name like â€˜%mongo%â€™;</span><br></pre></td></tr></table></figure>

<p><strong>10. æŸ¥è¯¢ name ä¸­ä»¥ mongo å¼€å¤´çš„</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.userInfo.find(&#123;name: /^mongo/&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from userInfo where name like â€˜mongo%â€™;</span><br></pre></td></tr></table></figure>
</blockquote>
<p><strong>11. æŸ¥è¯¢æŒ‡å®šåˆ— nameã€age æ•°æ®</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.userInfo.find(&#123;&#125;, &#123;name: 1, age: 1&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç›¸å½“äº:<code>select name, age from userInfo;</code></p>
</blockquote>
<blockquote>
<p>å½“ç„¶ <code>name</code> ä¹Ÿå¯ä»¥ç”¨ <code>true</code> æˆ– <code>false</code>,å½“ç”¨ <code>ture</code> çš„æƒ…å†µä¸‹æ²³ <code>name:1</code> æ•ˆæœä¸€æ ·ï¼Œå¦‚æœç”¨ <code>false</code> å°± æ˜¯æ’é™¤ <code>name</code>ï¼Œæ˜¾ç¤º <code>name</code> ä»¥å¤–çš„åˆ—ä¿¡æ¯</p>
</blockquote>
<p><strong>12. æŸ¥è¯¢æŒ‡å®šåˆ— nameã€age æ•°æ®, age &gt; 25</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.userInfo.find(&#123;age: &#123;$gt: 25&#125;&#125;, &#123;name: 1, age: 1&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç›¸å½“äº:<code>select name, age from userInfo where age &gt;25;</code></p>
</blockquote>
<p><strong>13. æŒ‰ç…§å¹´é¾„æ’åº 1 å‡åº -1 é™åº</strong></p>
<ul>
<li>å‡åº:<code>db.userInfo.find().sort(&#123;age: 1&#125;);</code></li>
<li>é™åº:<code>db.userInfo.find().sort(&#123;age: -1&#125;);</code></li>
</ul>
<p><strong>14. æŸ¥è¯¢ name &#x3D; zhangsan, age &#x3D; 22 çš„æ•°æ®</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.userInfo.find(&#123;name: &#x27;zhangsan&#x27;, age: 22&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç›¸å½“äº:<code>select * from userInfo where name = â€˜zhangsanâ€™ and age = â€˜22â€™;</code></p>
</blockquote>
<p><strong>15. æŸ¥è¯¢å‰ 5 æ¡æ•°æ®</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.userInfo.find().limit(5 );</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç›¸å½“äº:<code>selecttop 5 * from userInfo;</code></p>
</blockquote>
<p><strong>16. æŸ¥è¯¢ 10 æ¡ä»¥åçš„æ•°æ®</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">db.userInfo.find().skip(10);</span><br><span class="line">// ç›¸å½“äº:</span><br><span class="line">select * from userInfo where id not in ( </span><br><span class="line">    selecttop 10 * from userInfo</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><strong>17. æŸ¥è¯¢åœ¨ 5-10 ä¹‹é—´çš„æ•°æ®</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.userInfo.find().limit (10).skip(5);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¯ç”¨äºåˆ†é¡µï¼Œ<code>limit</code> æ˜¯ <code>pageSize</code>ï¼Œ<code>skip</code> æ˜¯ç¬¬å‡ é¡µ<code>*pageSize</code></p>
</blockquote>
<p><strong>18. orä¸ æŸ¥è¯¢</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.userInfo.find(&#123;$or: [&#123;age: 22&#125;, &#123;age: 25&#125;]&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç›¸å½“äº:<code>select * from userInfo where age = 22 or age = 25;</code></p>
</blockquote>
<p><strong>19. findOne æŸ¥è¯¢ç¬¬ä¸€æ¡æ•°æ®</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.userInfo.findOne( );</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç›¸å½“äº:<code>selecttop 1 * from userInfo;</code></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.userInfo.find().limit(1 );</span><br></pre></td></tr></table></figure>

<p><strong>20. æŸ¥è¯¢æŸ ä¸ªç»“æœé›†çš„è®°å½•æ¡æ•° ç»Ÿè®¡æ•°é‡</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.userInfo.find(&#123;age: &#123;$gte: 25&#125;&#125;).count();</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç›¸å½“äº:<code>select count(*) from userInfo where age &gt;= 20;</code></p>
</blockquote>
<blockquote>
<p>å¦‚æœè¦è¿”å›é™åˆ¶ä¹‹åçš„è®°å½•æ•°é‡ï¼Œè¦ä½¿ç”¨ <code>count(true)</code>æˆ–è€… <code>count</code>(é <code>0</code>)</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.users.find().skip(1 0).limit(5).count(true);</span><br></pre></td></tr></table></figure>

<h2 id="10-5-ä¿®æ”¹æ•°æ®"><a href="#10-5-ä¿®æ”¹æ•°æ®" class="headerlink" title="10.5 ä¿®æ”¹æ•°æ®"></a>10.5 ä¿®æ”¹æ•°æ®</h2><blockquote>
<p>ä¿®æ”¹é‡Œé¢è¿˜æœ‰æŸ¥è¯¢æ¡ä»¶ã€‚ä½ è¦è¯¥è°ï¼Œè¦å‘Šè¯‰ <code>mongo</code></p>
</blockquote>
<p><strong>æŸ¥æ‰¾åå­—å«åšå°æ˜çš„ï¼ŒæŠŠå¹´é¾„æ›´æ”¹ä¸º 16 å²</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.student.update(&#123;&quot;name&quot;:&quot;å°æ˜&quot;&#125;,&#123;$set:&#123;&quot;ag e&quot;:16&#125;&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>æŸ¥æ‰¾æ•°å­¦æˆç»©æ˜¯ 70ï¼ŒæŠŠå¹´é¾„æ›´æ”¹ä¸º 33 å²:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.student.update(&#123;&quot;sc ore.shuxue&quot;:70&#125;,&#123;$set:&#123;&quot;ag e&quot;:33&#125;&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>æ›´æ”¹æ‰€æœ‰åŒ¹é…é¡¹ç›®</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.student.update(&#123;&quot;sex&quot;:&quot;ç”·&quot;&#125;,&#123;$set:&#123;&quot;age&quot;:33&#125;&#125;,&#123;multi: true&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>å®Œæ•´æ›¿æ¢ï¼Œä¸å‡ºç°$set å…³é”®å­—äº†: æ³¨æ„</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.student.update(&#123;&quot;name&quot;:&quot;å°æ˜&quot;&#125;,&#123;&quot;name&quot;:&quot;å¤§æ˜&quot;,&quot;age&quot;:16&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.users.update(&#123;name: &#x27;Lisi&#x27;&#125;, &#123;$inc: &#123;age: 50&#125;&#125;, false, true);` ç›¸å½“äº:`update users set age = age + 50 where name = â€˜Lisiâ€™;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.users.update(&#123;name: &#x27;Lisi&#x27;&#125;, &#123;$inc: &#123;age: 50&#125;, $set: &#123;name: &#x27;hoho&#x27;&#125;&#125;, false, true);` ç›¸å½“äº: `update users set age = age + 50, name = â€˜hohoâ€™ where name = â€˜Lisiâ€™;</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="10-6-åˆ é™¤æ•°æ®"><a href="#10-6-åˆ é™¤æ•°æ®" class="headerlink" title="10.6 åˆ é™¤æ•°æ®"></a>10.6 åˆ é™¤æ•°æ®</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">db.collectionsNames.remove( &#123; &quot;borough&quot;: &quot;Manhattan&quot; &#125; )</span><br><span class="line"></span><br><span class="line">db.users.remove(&#123;age: 132&#125;);</span><br><span class="line"></span><br><span class="line">db.restaurants.remove( &#123; &quot;borough&quot;: &quot;Queens&quot; &#125;, &#123; justOne: true &#125; )</span><br></pre></td></tr></table></figure>

<h1 id="åä¸€ã€MongoDB-ç´¢å¼•-explain-åˆ†ææŸ¥è¯¢é€Ÿåº¦"><a href="#åä¸€ã€MongoDB-ç´¢å¼•-explain-åˆ†ææŸ¥è¯¢é€Ÿåº¦" class="headerlink" title="åä¸€ã€MongoDB ç´¢å¼• explain åˆ†ææŸ¥è¯¢é€Ÿåº¦"></a>åä¸€ã€MongoDB ç´¢å¼• explain åˆ†ææŸ¥è¯¢é€Ÿåº¦</h1><h2 id="11-1-ç´¢å¼•åŸºç¡€"><a href="#11-1-ç´¢å¼•åŸºç¡€" class="headerlink" title="11.1 ç´¢å¼•åŸºç¡€"></a>11.1 ç´¢å¼•åŸºç¡€</h2><blockquote>
<p>ç´¢å¼•æ˜¯å¯¹æ•°æ®åº“è¡¨ä¸­ä¸€åˆ—æˆ–å¤šåˆ—çš„å€¼è¿›è¡Œæ’åºçš„ä¸€ç§ç»“æ„ï¼Œå¯ä»¥è®©æˆ‘ä»¬æŸ¥è¯¢æ•°æ®åº“å˜å¾— æ›´å¿«ã€‚MongoDB çš„ç´¢å¼•å‡ ä¹ä¸ä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“ä¸€æ¨¡ä¸€æ ·ï¼Œè¿™å…¶ä¸­ä¹ŸåŒ…æ‹¬ä¸€äº›åŸºæœ¬çš„æŸ¥ è¯¢ä¼˜åŒ–æŠ€å·§ã€‚</p>
</blockquote>
<p><strong>ä¸‹é¢æ˜¯åˆ›å»ºç´¢å¼•çš„ å‘½ä»¤</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.ensureIndex( &#123;&quot;username&quot;:1&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>è·å–å½“å‰é›†åˆçš„ç´¢ å¼•</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.getIndexes()</span><br></pre></td></tr></table></figure>

<p><strong>åˆ é™¤ç´¢å¼•çš„å‘½ä»¤æ˜¯</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.dropIndex( &#123;&quot;username&quot;:1&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li>åœ¨ MongoDB ä¸­ï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥åˆ›å»ºå¤åˆç´¢å¼•ï¼Œå¦‚:</li>
<li>æ•°å­— <code>1</code> è¡¨ç¤º <code>username</code> é”®çš„ç´¢å¼•æŒ‰å‡åºå­˜å‚¨ï¼Œ<code>-1</code> è¡¨ç¤º <code>age</code> é”®çš„ç´¢å¼•æŒ‰ç…§é™åºæ–¹å¼å­˜å‚¨</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.ensureIndex(&#123;&quot;username&quot;:1, &quot;age&quot;:-1&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¯¥ç´¢å¼•è¢«åˆ›å»ºåï¼ŒåŸºäº username å’Œ age çš„æŸ¥è¯¢å°†ä¼šç”¨åˆ°è¯¥ç´¢å¼•ï¼Œæˆ–è€…æ˜¯åŸºäº username çš„æŸ¥è¯¢ä¹Ÿä¼šç”¨åˆ°è¯¥ç´¢å¼•ï¼Œä½†æ˜¯åªæ˜¯åŸºäº age çš„æŸ¥è¯¢å°†ä¸ä¼šç”¨åˆ°è¯¥å¤åˆç´¢å¼•ã€‚å› æ­¤å¯ä»¥è¯´ï¼Œå¦‚æœæƒ³ç”¨åˆ°å¤åˆç´¢å¼•ï¼Œå¿…é¡»åœ¨æŸ¥è¯¢æ¡ä»¶ä¸­åŒ…å«å¤åˆç´¢å¼•ä¸­çš„å‰ Nä¸ªç´¢å¼•åˆ—ã€‚ç„¶è€Œå¦‚æœæŸ¥è¯¢æ¡ä»¶ä¸­çš„é”®å€¼é¡ºåºå’Œå¤åˆç´¢å¼•ä¸­çš„åˆ›å»ºé¡ºåºä¸ä¸€è‡´çš„è¯ï¼ŒMongoDB å¯ä»¥æ™ºèƒ½çš„å¸®åŠ©æˆ‘ä»¬è°ƒæ•´è¯¥é¡ºåºï¼Œä»¥ä¾¿ä½¿å¤åˆç´¢å¼•å¯ä»¥ä¸ºæŸ¥è¯¢æ‰€ç”¨ã€‚å¦‚:</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.find(&#123;&quot;age&quot;: 30, &quot;username&quot;: &quot;stephen&quot;&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¯¹äºä¸Šé¢ç¤ºä¾‹ä¸­çš„æŸ¥è¯¢æ¡ä»¶ï¼ŒMongoDB åœ¨æ£€ç´¢ä¹‹å‰å°†ä¼šåŠ¨æ€çš„è°ƒæ•´æŸ¥è¯¢æ¡ä»¶æ–‡æ¡£çš„é¡º åºï¼Œä»¥ä½¿è¯¥æŸ¥è¯¢å¯ä»¥ç”¨åˆ°åˆšåˆšåˆ›å»ºçš„å¤åˆç´¢å¼•ã€‚</p>
</blockquote>
<blockquote>
<p>å¯¹äºä¸Šé¢åˆ›å»ºçš„ç´¢å¼•ï¼ŒMongoDB éƒ½ä¼šæ ¹æ®ç´¢å¼•çš„ keyname å’Œç´¢å¼•æ–¹å‘ä¸ºæ–°åˆ›å»ºçš„ç´¢å¼•è‡ªåŠ¨åˆ†é…ä¸€ä¸ªç´¢å¼•åï¼Œä¸‹é¢çš„å‘½ä»¤å¯ä»¥åœ¨åˆ›å»ºç´¢å¼•æ—¶ä¸ºå…¶æŒ‡å®šç´¢å¼•åï¼Œå¦‚:</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.ensureIndex( &#123;&quot;username&quot;:1&#125;,&#123;&quot;name&quot;:&quot;userindex&quot;&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>éšç€é›†åˆçš„å¢é•¿ï¼Œéœ€è¦é’ˆå¯¹æŸ¥è¯¢ä¸­å¤§é‡çš„æ’åºåšç´¢å¼•ã€‚å¦‚æœæ²¡æœ‰å¯¹ç´¢å¼•çš„é”®è°ƒç”¨ <code>sort</code>ï¼Œ <code>MongoDB</code> éœ€è¦å°†æ‰€æœ‰æ•°æ®æå–åˆ°å†…å­˜å¹¶æ’åºã€‚å› æ­¤åœ¨åšæ— ç´¢å¼•æ’åºæ—¶ï¼Œå¦‚æœæ•°æ®é‡è¿‡å¤§ä»¥ è‡´æ— æ³•åœ¨å†…å­˜ä¸­è¿›è¡Œæ’åºï¼Œæ­¤æ—¶ <code>MongoDB</code> å°†ä¼šæŠ¥é”™</p>
</blockquote>
<h2 id="11-2-å”¯ä¸€ç´¢å¼•"><a href="#11-2-å”¯ä¸€ç´¢å¼•" class="headerlink" title="11.2 å”¯ä¸€ç´¢å¼•"></a>11.2 å”¯ä¸€ç´¢å¼•</h2><blockquote>
<p>åœ¨ç¼ºçœæƒ…å†µä¸‹åˆ›å»ºçš„ç´¢å¼•å‡ä¸æ˜¯å”¯ä¸€ç´¢å¼•ã€‚ä¸‹é¢çš„ç¤ºä¾‹å°†åˆ›å»ºå”¯ä¸€ç´¢å¼•ï¼Œå¦‚</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.ensureIndex( &#123;&quot;useri d&quot;:1&#125;,&#123;&quot;uniq ue&quot;:true&#125;)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¦‚æœå†æ¬¡æ’å…¥ userid é‡å¤çš„æ–‡æ¡£æ—¶ï¼ŒMongoDB å°†æŠ¥é”™ï¼Œä»¥æç¤ºæ’å…¥é‡å¤é”®ï¼Œå¦‚:</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">db.user.insert(&#123;&quot;userid&quot;:5&#125;) </span><br><span class="line">db.user.insert(&#123;&quot;userid&quot;:5&#125;)</span><br><span class="line"></span><br><span class="line">// E11000 duplicate key error index: user.user.$userid_1 dup key: &#123; : 5.0 &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¦‚æœæ’å…¥çš„æ–‡æ¡£ä¸­ä¸åŒ…å« userid é”®ï¼Œé‚£ä¹ˆè¯¥æ–‡æ¡£ä¸­è¯¥é”®çš„å€¼ä¸º nullï¼Œå¦‚æœå¤šæ¬¡æ’å…¥ç±»ä¼¼ çš„æ–‡æ¡£ï¼ŒMongoDB å°†ä¼šæŠ¥å‡ºåŒæ ·çš„é”™è¯¯ï¼Œå¦‚:</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">db.user.insert(&#123;&quot;userid1&quot;:5&#125;) </span><br><span class="line">db.user.insert(&#123;&quot;userid1&quot;:5&#125;)</span><br><span class="line"></span><br><span class="line">// E11000 duplicate key error index: user.user.$userid_1 dup key: &#123; : null &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¦‚æœåœ¨åˆ›å»ºå”¯ä¸€ç´¢å¼•æ—¶å·²ç»å­˜åœ¨äº†é‡å¤é¡¹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤å¸®åŠ©æˆ‘ä»¬åœ¨åˆ›å»ºå”¯ ä¸€ç´¢å¼•æ—¶æ¶ˆé™¤é‡å¤æ–‡æ¡£ï¼Œä»…ä¿ç•™å‘ç°çš„ç¬¬ä¸€ä¸ªæ–‡æ¡£ï¼Œå¦‚:</p>
</blockquote>
<p><strong>å…ˆåˆ é™¤åˆšåˆšåˆ›å»ºçš„å”¯ä¸€ç´¢å¼•</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.dropIndex( &#123;&quot; userid&quot; :1&#125; )</span><br></pre></td></tr></table></figure>

<p><strong>æ’å…¥æµ‹è¯•æ•°æ®ï¼Œä»¥ä¿è¯é›†åˆä¸­æœ‰é‡å¤é”®å­˜åœ¨ã€‚</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">db.user.remove() </span><br><span class="line">db.user.insert(&#123;&quot;userid&quot;:5&#125;)</span><br><span class="line">db.user.insert(&#123;&quot;userid&quot;:5&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>é‡æ–°åˆ›å»ºå”¯ä¸€ç´¢å¼•</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.ensureIndex(&#123;&quot;userid&quot;:1&#125;,&#123;&quot;unique&quot;:true &#125;)</span><br></pre></td></tr></table></figure>

<p><strong>æˆ‘ä»¬åŒæ ·å¯ä»¥åˆ›å»º å¤åˆå”¯ä¸€ç´¢å¼•ï¼Œå³ä¿è¯å¤åˆé”®å€¼å”¯ä¸€ å³å¯ã€‚å¦‚:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.ensureIndex( &#123;&quot;useri d&quot;:1,&quot;age&quot;:1&#125;,&#123;&quot;unique&quot;:true&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="11-3-ç´¢å¼•çš„ä¸€äº›å‚æ•°"><a href="#11-3-ç´¢å¼•çš„ä¸€äº›å‚æ•°" class="headerlink" title="11.3 ç´¢å¼•çš„ä¸€äº›å‚æ•°"></a>11.3 ç´¢å¼•çš„ä¸€äº›å‚æ•°</h2><p><img src="https://upload-images.jianshu.io/upload_images/1480597-450216a694af3946.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<blockquote>
<p>å¦‚æœåœ¨ä¸ºå·²æœ‰æ•°æ®çš„æ–‡æ¡£åˆ›å»ºç´¢å¼•æ—¶ï¼Œå¯ä»¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œä»¥ä½¿ MongoDB åœ¨åå°åˆ› å»ºç´¢å¼•ï¼Œè¿™æ ·çš„åˆ›å»ºæ—¶å°±ä¸ä¼šé˜»å¡å…¶ä»–æ“ä½œã€‚ä½†æ˜¯ç›¸æ¯”è€Œè¨€ï¼Œä»¥é˜» å¡æ–¹å¼åˆ›å»ºç´¢å¼•ï¼Œä¼šä½¿æ•´ ä¸ªåˆ›å»ºè¿‡ç¨‹æ•ˆç‡æ›´é«˜ï¼Œä½†æ˜¯åœ¨åˆ›å»ºæ—¶ MongoDB å°†æ— æ³•æ¥æ”¶å…¶ä»–çš„æ“ä½œ</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.user.ensureIndex( &#123;&quot;username&quot;:1&#125;,&#123;&quot;backgroun d&quot;:true&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="11-4-ä½¿ç”¨-explain"><a href="#11-4-ä½¿ç”¨-explain" class="headerlink" title="11.4 ä½¿ç”¨ explain"></a>11.4 ä½¿ç”¨ explain</h2><blockquote>
<p>explain æ˜¯éå¸¸æœ‰ç”¨çš„å·¥å…·ï¼Œä¼šå¸®åŠ©ä½ è·å¾—æŸ¥è¯¢æ–¹é¢è¯¸å¤šæœ‰ç”¨çš„ä¿¡æ¯ã€‚åªè¦å¯¹æ¸¸æ ‡è°ƒç”¨ è¯¥æ–¹æ³•ï¼Œå°±å¯ä»¥å¾—åˆ°æŸ¥è¯¢ç»†èŠ‚ã€‚explain ä¼šè¿”å›ä¸€ä¸ªæ–‡æ¡£ï¼Œè€Œä¸æ˜¯æ¸¸æ ‡æœ¬èº«ã€‚å¦‚</p>
</blockquote>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/376.png" alt="img"></p>
<blockquote>
<p><code>explain</code> ä¼šè¿”å›æŸ¥è¯¢ä½¿ç”¨çš„ç´¢å¼•æƒ…å†µï¼Œè€—æ—¶å’Œæ‰«ææ–‡æ¡£æ•°çš„ç»Ÿè®¡ä¿¡æ¯</p>
</blockquote>
<h2 id="11-5-explain-executionStats-æŸ¥è¯¢å…·ä½“çš„æ‰§è¡Œ-æ—¶é—´"><a href="#11-5-explain-executionStats-æŸ¥è¯¢å…·ä½“çš„æ‰§è¡Œ-æ—¶é—´" class="headerlink" title="11.5 explain executionStats æŸ¥è¯¢å…·ä½“çš„æ‰§è¡Œ æ—¶é—´"></a>11.5 explain executionStats æŸ¥è¯¢å…·ä½“çš„æ‰§è¡Œ æ—¶é—´</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">db.tablename.find().explain( &quot;executionStats&quot; )</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å…³æ³¨è¾“å‡ºçš„å¦‚ä¸‹æ•°å€¼:<code>explain.executionStats.executionTimeMillis</code></p>
</blockquote>
<h1 id="åäºŒã€nodejsæ“ä½œmongodb3-xæ•°æ®åº“çš„æ–¹æ³•"><a href="#åäºŒã€nodejsæ“ä½œmongodb3-xæ•°æ®åº“çš„æ–¹æ³•" class="headerlink" title="åäºŒã€nodejsæ“ä½œmongodb3.xæ•°æ®åº“çš„æ–¹æ³•"></a>åäºŒã€nodejsæ“ä½œmongodb3.xæ•°æ®åº“çš„æ–¹æ³•</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">//http://mongodb.github.io/node-mongodb-native/3.0/quick-start/quick-start/</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">nodejsæ“ä½œmongodbæ•°æ®åº“</span><br><span class="line"></span><br><span class="line"> 1.å®‰è£…mongodbã€</span><br><span class="line"></span><br><span class="line">    cnpm install mongodb --save</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> 2.å¼•å…¥mongodbä¸‹é¢çš„MongoClient</span><br><span class="line">    var MongoClient = require(&#x27;mongodb&#x27;).MongoClient;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> 3.å®šä¹‰æ•°æ®åº“è¿æ¥çš„åœ°å€ ä»¥åŠé…ç½®æ•°æ®åº“</span><br><span class="line">    qianfengæ•°æ®åº“çš„åç§°</span><br><span class="line"></span><br><span class="line">    var url = &#x27;mongodb://localhost:27017/&#x27;;</span><br><span class="line"></span><br><span class="line">    var dbName = &#x27;shop&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> 4.nodejsè¿æ¥æ•°æ®åº“</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> MongoClient.connect(url,function(err,client)&#123;</span><br><span class="line"></span><br><span class="line">        const db = client.db(dbName);  æ•°æ®åº“dbå¯¹è±¡</span><br><span class="line"></span><br><span class="line"> &#125;)</span><br><span class="line"></span><br><span class="line">5.æ“ä½œæ•°æ®åº“</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	 MongoClient.connect(url,function(err,client)&#123;</span><br><span class="line"></span><br><span class="line">			const db = client.db(dbName);  æ•°æ®åº“dbå¯¹è±¡</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">			MongoClient.connect(url,function(err,db)&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">				db.collection(&#x27;user&#x27;).insertOne(&#123;&quot;name&quot;:&quot;å¼ ä¸‰&quot;&#125;,function(err,result)&#123;</span><br><span class="line"></span><br><span class="line">					db.close() //å…³é—­è¿æ¥</span><br><span class="line">				&#125;)</span><br><span class="line"></span><br><span class="line">		     &#125;)</span><br><span class="line"></span><br><span class="line">	 &#125;)</span><br><span class="line">     </span><br><span class="line"></span><br><span class="line">*/</span><br><span class="line">var MongoClient = require(&#x27;mongodb&#x27;).MongoClient;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//å®šä¹‰è¿æ¥æ•°æ®åº“çš„åœ°å€</span><br><span class="line"></span><br><span class="line">const  url = &#x27;mongodb://localhost:27017/&#x27;;</span><br><span class="line">var dbName = &#x27;shop&#x27;</span><br><span class="line"></span><br><span class="line">//è¿æ¥æ•°æ®åº“</span><br><span class="line">MongoClient.connect(url,(err,client)=&gt;&#123;</span><br><span class="line"></span><br><span class="line">    if(err)&#123;</span><br><span class="line">        console.log(&#x27;æ•°æ®è¿æ¥å¤±è´¥&#x27;);</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    let db=client.db(dbName);   /*è·å–dbå¯¹è±¡*/</span><br><span class="line"></span><br><span class="line">    db.collection(&quot;admin&quot;).insertOne(&#123;&quot;name&quot;:&quot;mongodb3.0&quot;,&quot;age&quot;:10&#125;,function(err)&#123;</span><br><span class="line"></span><br><span class="line">        if(err)&#123;</span><br><span class="line">            console.log(&#x27;å¢åŠ å¤±è´¥&#x27;);</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">        console.log(&#x27;å¢åŠ æˆåŠŸ&#x27;);</span><br><span class="line">        client.close();  /*å…³é—­æ•°æ®åº“*/</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="åä¸‰ã€NodeJsæ“ä½œMongoDbæ•°æ®åº“-æ•°æ®çš„å¢åŠ -ä¿®æ”¹-åˆ é™¤"><a href="#åä¸‰ã€NodeJsæ“ä½œMongoDbæ•°æ®åº“-æ•°æ®çš„å¢åŠ -ä¿®æ”¹-åˆ é™¤" class="headerlink" title="åä¸‰ã€NodeJsæ“ä½œMongoDbæ•°æ®åº“ æ•°æ®çš„å¢åŠ  ä¿®æ”¹ åˆ é™¤"></a>åä¸‰ã€NodeJsæ“ä½œMongoDbæ•°æ®åº“ æ•°æ®çš„å¢åŠ  ä¿®æ”¹ åˆ é™¤</h1><h2 id="13-1-åœ¨-Nodejs-ä¸­ä½¿ç”¨-Mongodb"><a href="#13-1-åœ¨-Nodejs-ä¸­ä½¿ç”¨-Mongodb" class="headerlink" title="13.1 åœ¨ Nodejs ä¸­ä½¿ç”¨ Mongodb"></a>13.1 åœ¨ Nodejs ä¸­ä½¿ç”¨ Mongodb</h2><blockquote>
<p>å‰é¢çš„è¯¾ç¨‹æˆ‘ä»¬è®²äº†ç”¨å‘½ä»¤æ“ä½œ <code>MongoDB</code>ï¼Œè¿™é‡Œæˆ‘ä»¬çœ‹ä¸‹å¦‚ä½•ç”¨ <code>nodejs</code> æ¥æ“ä½œæ•°æ®åº“</p>
</blockquote>
<p><strong>éœ€è¦å¼•åŒ…</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install mongodb --save-dev / cnpm install mongodb --save-dev</span><br></pre></td></tr></table></figure>

<h2 id="13-2-Nodejs-è¿æ¥-MongoDb-æ•°æ®åº“"><a href="#13-2-Nodejs-è¿æ¥-MongoDb-æ•°æ®åº“" class="headerlink" title="13.2 Nodejs è¿æ¥ MongoDb æ•°æ®åº“"></a>13.2 Nodejs è¿æ¥ MongoDb æ•°æ®åº“</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">var express = require(&quot;express&quot;); //æ•°æ®åº“å¼•ç”¨</span><br><span class="line"></span><br><span class="line">var MongoClient = require(&#x27;mongodb&#x27;).MongoClient;</span><br><span class="line">var app = express();</span><br><span class="line">//æ•°æ®åº“è¿æ¥çš„åœ°å€ï¼Œæœ€åçš„æ–œæ è¡¨ç¤ºæ•°æ®åº“åå­—</span><br><span class="line">var shujukuURL = &#x27;mongodb://localhost:27017/news&#x27;;</span><br><span class="line">app.get(&quot;/&quot;, fu nction(req, res) &#123; //è¿æ¥æ•°æ®åº“ï¼Œè¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥çš„æ“ä½œ</span><br><span class="line">    MongoClient.connect(shujukuURL,</span><br><span class="line">    function(err, db) &#123;</span><br><span class="line">        res.writeHe ad(200, &#123;</span><br><span class="line">            &quot;Content-Type&quot;: &quot; text/html;charset =UTF8&quot;</span><br><span class="line">        &#125;);</span><br><span class="line">        if (err) &#123;</span><br><span class="line">            res.send(&quot;æ•°æ®åº“è¿æ¥å¤± è´¥&quot;);</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        res.write(&quot;æ­å–œï¼Œæ•°æ®åº“å·²ç»æˆåŠŸè¿æ¥ \n&quot;);</span><br><span class="line">        db.collection(&quot;user&quot;).insertOne(&#123;</span><br><span class="line">            &quot;name&quot;: &quot;å“ˆå“ˆ&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        functio n(err, result) &#123;</span><br><span class="line">            if (err) &#123;</span><br><span class="line">                res.send(&quot;æ•°æ®åº“å†™å…¥ å¤±è´¥&quot;);</span><br><span class="line">                return;</span><br><span class="line">            &#125;</span><br><span class="line">            res.write(&quot;æ­å–œï¼Œæ•°æ® å·²ç»æˆåŠŸæ’å…¥&quot;);</span><br><span class="line">            res.end();</span><br><span class="line">            //å…³é—­æ•°æ®åº“</span><br><span class="line">            db.close();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.listen(8020);</span><br></pre></td></tr></table></figure>

<h2 id="13-3-Nodejs-æŸ¥æ‰¾-MongoDb-æ•°æ®åº“é›†åˆ"><a href="#13-3-Nodejs-æŸ¥æ‰¾-MongoDb-æ•°æ®åº“é›†åˆ" class="headerlink" title="13.3 Nodejs æŸ¥æ‰¾ MongoDb æ•°æ®åº“é›†åˆ"></a>13.3 Nodejs æŸ¥æ‰¾ MongoDb æ•°æ®åº“é›†åˆ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">MongoClient.connect(dbUrl,</span><br><span class="line">function(err, db) &#123;</span><br><span class="line">    if (err) &#123;</span><br><span class="line">        /*æ•°æ®åº“è¿æ¥å¤±è´¥*/</span><br><span class="line">        console.log(&#x27;æ•°æ®åº“è¿æ¥å¤±è´¥&#x27;);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    var result = [];</span><br><span class="line">    var userRel = db.collection(&#x27;user&#x27;).find();</span><br><span class="line">    //res.send(userRel);</span><br><span class="line">    userRel.each(function(err, doc) &#123;</span><br><span class="line">        if (err) &#123;</span><br><span class="line">            res.write(&quot;æ¸¸æ ‡éå†é”™ è¯¯&quot;);</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        if (doc != null) &#123;</span><br><span class="line">            result.push(doc);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            console.log(result); //éå†å®Œæ¯•</span><br><span class="line">            db.close();</span><br><span class="line">            res.render(&quot;index&quot;, &#123;</span><br><span class="line">                &quot;result&quot;: result</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="13-4-Nodejs-ç»™-MongoDb-å¢åŠ æ•°æ®"><a href="#13-4-Nodejs-ç»™-MongoDb-å¢åŠ æ•°æ®" class="headerlink" title="13.4 Nodejs ç»™ MongoDb å¢åŠ æ•°æ®"></a>13.4 Nodejs ç»™ MongoDb å¢åŠ æ•°æ®</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">MongoClient.connect(dbUrl,</span><br><span class="line">function(err, db) &#123;</span><br><span class="line">    if (err) &#123;</span><br><span class="line">        return</span><br><span class="line">    &#125;</span><br><span class="line">    db.collection(&#x27;user&#x27;).insertOne(&#123;</span><br><span class="line">        &quot;name&quot;: name,</span><br><span class="line">        &quot;age&quot;: age,</span><br><span class="line">        &quot;score&quot;: &#123;</span><br><span class="line">            &quot;shuxue&quot;: shuxuechengji,</span><br><span class="line">            &quot;yuwen&quot;: yuwenchengji</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    function(err, result) &#123;</span><br><span class="line">        if (err) &#123;</span><br><span class="line">            console.log(&#x27;å†™å…¥æ•°æ®å¤±è´¥&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">        //å…³é—­æ•°æ®åº“</span><br><span class="line">        db.close();</span><br><span class="line">        //res.redirect(&#x27;/add&#x27;); res.redirect(&#x27;/&#x27; ); /*è·¯ç”±è·³è½¬*/ res.end(); ////res.location(&#x27;/add&#x27;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="13-5-Nodejs-ä¿®æ”¹-MongoDb-æ•°æ®"><a href="#13-5-Nodejs-ä¿®æ”¹-MongoDb-æ•°æ®" class="headerlink" title="13.5 Nodejs ä¿®æ”¹ MongoDb æ•°æ®"></a>13.5 Nodejs ä¿®æ”¹ MongoDb æ•°æ®</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">MongoClient.connect(dbUrl,</span><br><span class="line">function(err, db) &#123;</span><br><span class="line">    if (err) &#123;</span><br><span class="line">        console.log(&#x27;æ•°æ®åº“è¿æ¥é”™è¯¯&#x27;);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    db.collection(&#x27;user&#x27;).updateOne(&#123;</span><br><span class="line">        &quot;_id&quot;: ObjectID(id)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;name&quot;: name,</span><br><span class="line">        &quot;age&quot;: age,</span><br><span class="line">        &quot;score&quot;: &#123;</span><br><span class="line">            &quot;shuxue&quot;: shuxue,</span><br><span class="line">            &quot;yuwen&quot;: yuwen</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    function(err, results) &#123;</span><br><span class="line">        console.log(results);</span><br><span class="line">        db.close();</span><br><span class="line">        res.redirect(&#x27;/&#x27;);</span><br><span class="line">        /*è·¯ç”±è·³è½¬*/</span><br><span class="line">        res.end(&#x27;end&#x27;);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="13-6-Nodejs-åˆ é™¤-MongoDb-æ•°æ®"><a href="#13-6-Nodejs-åˆ é™¤-MongoDb-æ•°æ®" class="headerlink" title="13.6 Nodejs åˆ é™¤ MongoDb æ•°æ®"></a>13.6 Nodejs åˆ é™¤ MongoDb æ•°æ®</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">MongoClient.connect(dbUrl,</span><br><span class="line">function(err, db) &#123;</span><br><span class="line">    if (err) &#123;</span><br><span class="line">        throw new Error(&quot;æ•°æ®åº“è¿æ¥å¤±è´¥&quot;);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    db.collection(&#x27;user&#x27;).deleteOne(&#123;</span><br><span class="line">        &quot;_id&quot;: ObjectID(id)</span><br><span class="line">    &#125;,</span><br><span class="line">    func tion(error, result) &#123;</span><br><span class="line">        if (error) &#123;</span><br><span class="line">            throw new Error(&#x27;åˆ é™¤æ•°æ®å¤±è´¥&#x27;);</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        db.close();</span><br><span class="line">        res.redirect(&#x27;/&#x27;);</span><br><span class="line">        /*è·¯ç”±è·³è½¬*/</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="åå››ã€Express-å®‰è£…å’Œä½¿ç”¨"><a href="#åå››ã€Express-å®‰è£…å’Œä½¿ç”¨" class="headerlink" title="åå››ã€Express å®‰è£…å’Œä½¿ç”¨"></a>åå››ã€Express å®‰è£…å’Œä½¿ç”¨</h1><h2 id="14-1-Express-ç®€å•ä»‹ç»"><a href="#14-1-Express-ç®€å•ä»‹ç»" class="headerlink" title="14.1 Express ç®€å•ä»‹ç»"></a>14.1 Express ç®€å•ä»‹ç»</h2><ul>
<li>Express æ˜¯ä¸€ä¸ªåŸºäº Node.js å¹³å°ï¼Œå¿«é€Ÿã€å¼€æ”¾ã€æç®€çš„ web å¼€å‘æ¡†æ¶</li>
<li>Express æ¡†æ¶æ˜¯åå°çš„ Node æ¡†æ¶ï¼Œæ‰€ä»¥å’Œ jQueryã€zeptoã€yuiã€bootstrap éƒ½ä¸ä¸€ä¸ªä¸œè¥¿ã€‚ Express åœ¨åå°çš„å—æ¬¢è¿çš„ç¨‹åº¦ç±»ä¼¼å‰ç«¯çš„ jQueryï¼Œå°±æ˜¯ä¼ä¸šçš„äº‹å®ä¸Šçš„æ ‡å‡†ã€‚</li>
</ul>
<p><strong>Express ç‰¹ç‚¹</strong></p>
<ul>
<li><code>Express</code> æ˜¯ä¸€ä¸ªåŸºäº <code>Node.js</code> å¹³å°çš„æç®€ã€çµæ´»çš„ web åº”ç”¨å¼€å‘æ¡†æ¶ï¼Œå®ƒæä¾›ä¸€<br>ç³»åˆ—å¼ºå¤§çš„ç‰¹æ€§ï¼Œå¸®åŠ©ä½ åˆ›å»ºå„ç§ <code>Web</code> å’Œç§»åŠ¨è®¾å¤‡åº”ç”¨</li>
<li>ä¸°å¯Œçš„ HTTP å¿«æ·æ–¹æ³•å’Œä»»æ„æ’åˆ—ç»„åˆçš„ <code>Connect</code> ä¸­é—´ä»¶ï¼Œè®©ä½ åˆ›å»ºå¥å£®ã€å‹å¥½çš„ API å˜å¾—æ—¢å¿«é€Ÿåˆç®€å•</li>
<li><code>Express</code> ä¸å¯¹ <code>Node.js</code> å·²æœ‰çš„ç‰¹æ€§è¿›è¡ŒäºŒæ¬¡æŠ½è±¡ï¼Œæˆ‘ä»¬åªæ˜¯åœ¨å®ƒä¹‹ä¸Šæ‰©å±•äº† Webåº”ç”¨æ‰€éœ€çš„åŸºæœ¬åŠŸèƒ½</li>
</ul>
<h2 id="14-2-Express-å®‰è£…ä½¿ç”¨"><a href="#14-2-Express-å®‰è£…ä½¿ç”¨" class="headerlink" title="14.2 Express å®‰è£…ä½¿ç”¨"></a>14.2 Express å®‰è£…ä½¿ç”¨</h2><p><strong>å®‰è£…:</strong></p>
<blockquote>
<p>å®‰è£… Express æ¡†æ¶ï¼Œå°±æ˜¯ä½¿ç”¨ npm çš„å‘½ä»¤</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install express --save</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>--save</code> å‚æ•°ï¼Œè¡¨ç¤ºè‡ªåŠ¨ä¿®æ”¹ <code>package.json</code> æ–‡ä»¶ï¼Œè‡ªåŠ¨æ·»åŠ ä¾èµ–é¡¹</p>
</blockquote>
<p><strong>ç®€å•ä½¿ç”¨</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">npm install expressâ€“save //1.å¼•å…¥</span><br><span class="line">var express = require(&#x27;express&#x27;);</span><br><span class="line">var app = express();</span><br><span class="line">//2.é…ç½®è·¯ç”±</span><br><span class="line">app.get(&#x27;/&#x27;,</span><br><span class="line">function(req, res) &#123;</span><br><span class="line">    res.send(&#x27;Hello World!&#x27;);</span><br><span class="line">&#125;); //3.ç›‘å¬ç«¯å£</span><br><span class="line"></span><br><span class="line">app.listen(3000,&#x27;127.0.0.1&#x27;);</span><br></pre></td></tr></table></figure>

<p><strong>å®Œæ•´ Demo</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">var express = require(&#x27;express&#x27;);</span><br><span class="line">/*å¼•å…¥ express*/</span><br><span class="line">var app = newexpress();</span><br><span class="line">/*å®ä¾‹åŒ–express èµ‹å€¼ç»™app*/</span><br><span class="line">//é…ç½®è·¯ç”± åŒ¹é… URl åœ°å€å®ç°ä¸åŒçš„åŠŸèƒ½</span><br><span class="line">app.get(&#x27;/&#x27;,</span><br><span class="line">function(req, res) &#123;</span><br><span class="line">    res.send(&#x27;é¦–é¡µ&#x27;);</span><br><span class="line">&#125;) </span><br><span class="line"></span><br><span class="line">app.get(&#x27;/search&#x27;,</span><br><span class="line">function(req, res) &#123;</span><br><span class="line">    res.send(&#x27;æœç´¢&#x27;); //?keyword=åä¸ºæ‰‹æœº&amp;enc=utf-8&amp;suggest=1.his.0.0&amp;wq</span><br><span class="line">&#125;) </span><br><span class="line"></span><br><span class="line">app.get(&#x27;/login&#x27;,</span><br><span class="line">function(req, res) &#123;</span><br><span class="line">    res.send(&#x27;ç™»å½•&#x27;);</span><br><span class="line">&#125;) </span><br><span class="line"></span><br><span class="line">app.get(&#x27;/register&#x27;,</span><br><span class="line">function(req, res) &#123;</span><br><span class="line">    res.send(&#x27;æ³¨å†Œ&#x27;);</span><br><span class="line">&#125;) </span><br><span class="line"></span><br><span class="line">app.listen(3000, &quot;127.0.0.1&quot;);</span><br></pre></td></tr></table></figure>

<h2 id="14-3-Express-æ¡†æ¶ä¸­çš„è·¯ç”±"><a href="#14-3-Express-æ¡†æ¶ä¸­çš„è·¯ç”±" class="headerlink" title="14.3 Express æ¡†æ¶ä¸­çš„è·¯ç”±"></a>14.3 Express æ¡†æ¶ä¸­çš„è·¯ç”±</h2><blockquote>
<p>è·¯ç”±(Routing)æ˜¯ç”±ä¸€ä¸ª URI(æˆ–è€…å«è·¯å¾„)å’Œä¸€ä¸ªç‰¹å®šçš„ HTTP æ–¹æ³•(GETã€POST ç­‰) ç»„æˆçš„ï¼Œæ¶‰åŠåˆ°åº”ç”¨å¦‚ä½•å“åº”å®¢æˆ·ç«¯å¯¹æŸä¸ªç½‘ç«™èŠ‚ç‚¹çš„è®¿é—®</p>
</blockquote>
<p><strong>ç®€å•çš„è·¯ç”±é…ç½®</strong></p>
<blockquote>
<p>å½“ç”¨ get è¯·æ±‚è®¿é—®ä¸€ä¸ªç½‘å€çš„æ—¶å€™ï¼Œåšä»€ä¹ˆäº‹æƒ…</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.get(&quot;ç½‘å€&quot;,function(req,res)&#123;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å½“ç”¨ post è®¿é—®ä¸€ä¸ªç½‘å€çš„æ—¶å€™ï¼Œåšä»€ä¹ˆäº‹æƒ…:</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">app.post(&quot;ç½‘å€&quot;,function(req,res)&#123;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line">// user èŠ‚ç‚¹æ¥å— PUT è¯·æ±‚</span><br><span class="line"></span><br><span class="line">app.put(&#x27;/user&#x27;, function (req, res) &#123;</span><br><span class="line">    res.send(&#x27;Got a PUT request at /user&#x27;); </span><br><span class="line">&#125;);</span><br><span class="line">// user èŠ‚ç‚¹æ¥å— DELETE è¯·æ±‚</span><br><span class="line"></span><br><span class="line">app.delete(&#x27;/user&#x27;, function (req, res) &#123;</span><br><span class="line">    res.send(&#x27;Got a DELETE request at /user&#x27;); </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>åŠ¨æ€è·¯ç”±é…ç½®:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">app.get( ,function(req,res)&#123; </span><br><span class="line">    var id = req.params[&quot;id&quot;];</span><br><span class="line">    res.send(id); </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>è·¯ç”±çš„æ­£åˆ™åŒ¹é…:(äº†è§£)</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.get(&#x27;/ab*cd&#x27;, function(req, res) &#123; </span><br><span class="line">    res.send(&#x27;ab*cd&#x27;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>è·¯ç”±é‡Œé¢è·å– Get ä¼ å€¼</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// /news?id=2&amp;sex=nan</span><br><span class="line"></span><br><span class="line">app.get(&#x27;/news, function(req, res) &#123; </span><br><span class="line">    console.log(req.query);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="14-4-Express-æ¡†æ¶ä¸­-ejs-çš„å®‰è£…ä½¿ç”¨"><a href="#14-4-Express-æ¡†æ¶ä¸­-ejs-çš„å®‰è£…ä½¿ç”¨" class="headerlink" title="14.4 Express æ¡†æ¶ä¸­ ejs çš„å®‰è£…ä½¿ç”¨"></a>14.4 Express æ¡†æ¶ä¸­ ejs çš„å®‰è£…ä½¿ç”¨</h2><p><strong>Express ä¸­ ejs çš„å®‰è£…:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install ejs --save </span><br><span class="line"></span><br><span class="line">// æˆ–è€…:</span><br><span class="line">npm install ejs --save-dev</span><br></pre></td></tr></table></figure>

<p><strong>Express ä¸­ ejs çš„ä½¿ç”¨</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var express = require(&quot;express&quot;);</span><br><span class="line">var app = express();</span><br><span class="line">app.set(&quot;view engine&quot;, &quot;ejs&quot;);</span><br><span class="line"></span><br><span class="line">app.get(&quot;/&quot;,</span><br><span class="line">    function(req, res) &#123;&#125;);</span><br><span class="line">        res.render(&quot;news&quot;, &#123;</span><br><span class="line">            &quot;news&quot;: [&quot;æˆ‘æ˜¯å°æ–°é—»å•Š&quot;, &quot;æˆ‘ä¹Ÿæ˜¯å•Š&quot;, &quot;å“ˆå“ˆå“ˆå“ˆ&quot;]</span><br><span class="line">&#125;);</span><br><span class="line">app.listen(3000);</span><br></pre></td></tr></table></figure>

<p><strong>æŒ‡å®šæ¨¡æ¿ä½ç½® ï¼Œé»˜è®¤æ¨¡æ¿ä½ç½®åœ¨ views</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.set(&#x27;views&#x27;, __dirname + &#x27;/views&#x27;);</span><br></pre></td></tr></table></figure>

<p><strong>Ejs å¼•å…¥æ¨¡æ¿</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- include header.ejs %&gt;</span><br></pre></td></tr></table></figure>

<p><strong>Ejs ç»‘å®šæ•°æ®</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%=h%&gt;</span><br></pre></td></tr></table></figure>

<p><strong>Ejs ç»‘å®š html æ•°æ®</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-h%&gt;</span><br></pre></td></tr></table></figure>

<p><strong>Ejs æ¨¡æ¿åˆ¤æ–­è¯­å¥</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if(true)&#123; %&gt; </span><br><span class="line">    &lt;div&gt;true&lt;/div&gt;</span><br><span class="line">    &lt;%&#125; </span><br><span class="line">  else&#123; %&gt; </span><br><span class="line">    &lt;div&gt;false&lt; /di v&gt;</span><br><span class="line">&lt;%&#125; %&gt;</span><br></pre></td></tr></table></figure>

<p><strong>Ejs æ¨¡æ¿ä¸­å¾ªç¯æ•°æ®</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;%for(var i=0;i&lt;list.length;i++) &#123; %&gt;</span><br><span class="line">    &lt;li&gt;&lt;%=list[i] %&gt;&lt;/li&gt;</span><br><span class="line">&lt;%&#125;%&gt;</span><br></pre></td></tr></table></figure>

<p><strong>Ejs åç¼€ä¿®æ”¹ä¸º Html</strong></p>
<blockquote>
<p>è¿™æ˜¯ä¸€ä¸ªå°æŠ€å·§ï¼Œçœ‹ç€<code>.ejs</code> çš„åç¼€æ€»è§‰å¾—ä¸çˆ½ï¼Œä½¿ç”¨å¦‚ä¸‹æ–¹æ³•ï¼Œå¯ä»¥å°†æ¨¡æ¿æ–‡ä»¶çš„åç¼€æ¢æˆæˆ‘ä»¬ä¹ æƒ¯çš„<code>.html</code></p>
</blockquote>
<ol>
<li>åœ¨ <code>app.js</code> çš„å¤´ä¸Šå®šä¹‰ <code>ejs</code>:,ä»£ç å¦‚ä¸‹:</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var ejs = require(&#x27;ejs&#x27;);</span><br></pre></td></tr></table></figure>

<ol>
<li>æ³¨å†Œ html æ¨¡æ¿å¼•æ“ä»£ç å¦‚ä¸‹:</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.engine(&#x27;html&#x27;,ejs.__express);</span><br></pre></td></tr></table></figure>

<ol>
<li>å°†æ¨¡æ¿å¼•æ“æ¢æˆ htmlä»£ç å¦‚ä¸‹:</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.set(&#x27;view engine&#x27;, &#x27;html&#x27;);</span><br></pre></td></tr></table></figure>

<ol>
<li>ä¿®æ”¹æ¨¡æ¿æ–‡ä»¶çš„åç¼€ä¸º <code>.html</code></li>
</ol>
<h2 id="14-5-åˆ©ç”¨-Express-static-æ‰˜ç®¡é™æ€æ–‡ä»¶"><a href="#14-5-åˆ©ç”¨-Express-static-æ‰˜ç®¡é™æ€æ–‡ä»¶" class="headerlink" title="14.5 åˆ©ç”¨ Express.static æ‰˜ç®¡é™æ€æ–‡ä»¶"></a>14.5 åˆ©ç”¨ Express.static æ‰˜ç®¡é™æ€æ–‡ä»¶</h2><ol>
<li>å¦‚æœä½ çš„é™æ€èµ„æºå­˜æ”¾åœ¨å¤šä¸ªç›®å½•ä¸‹é¢ï¼Œä½ å¯ä»¥å¤šæ¬¡è°ƒç”¨ <code>express.static</code> ä¸­é—´ä»¶:</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.use(express.static(&#x27;public&#x27;));</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç°åœ¨ï¼Œpublic ç›®å½•ä¸‹é¢çš„æ–‡ä»¶å°±å¯ä»¥è®¿é—®äº†</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:3000/images/kitten.jpg</span><br><span class="line">http://localhost:3000/css/style.css </span><br><span class="line">http://localhost:3000/js/app.js</span><br><span class="line">http://localhost:3000/images/bg.png h</span><br><span class="line">ttp://localhost:3000/hello.html</span><br></pre></td></tr></table></figure>

<ol>
<li>å¦‚æœä½ å¸Œæœ›æ‰€æœ‰é€šè¿‡ <code>express.static</code> è®¿é—®çš„æ–‡ä»¶éƒ½å­˜æ”¾åœ¨ä¸€ä¸ªâ€œè™šæ‹Ÿ(virtual)â€ç›® å½•(å³ç›®å½•æ ¹æœ¬ä¸å­˜åœ¨)ä¸‹é¢ï¼Œå¯ä»¥é€šè¿‡ä¸ºé™æ€èµ„æºç›®å½•æŒ‡å®šä¸€ä¸ªæŒ‚è½½è·¯å¾„çš„æ–¹å¼æ¥å®ç°ï¼Œå¦‚ä¸‹æ‰€ç¤º</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.use(&#x27;/static&#x27;, express.static(&#x27;public&#x27;));</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ç°åœ¨ï¼Œä½ å°±çˆ±å¯ä»¥é€šè¿‡å¸¦æœ‰ â€œ&#x2F;staticâ€ å‰ç¼€çš„åœ°å€æ¥è®¿é—® public ç›®å½•ä¸‹ é¢çš„æ–‡ä»¶äº†</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:3000/static/images/kitten.jpg</span><br><span class="line">http://localhost:3000/static/css/style.css http://localhost:3000/static/js/app.js http://localhost:3000/static/images/bg.png</span><br><span class="line">http://localhost:3000/static/hello.html</span><br></pre></td></tr></table></figure>

<h2 id="14-6-Express-ä¸­é—´ä»¶"><a href="#14-6-Express-ä¸­é—´ä»¶" class="headerlink" title="14.6 Express ä¸­é—´ä»¶"></a>14.6 Express ä¸­é—´ä»¶</h2><ul>
<li><code>Express</code> æ˜¯ä¸€ä¸ªè‡ªèº«åŠŸèƒ½æç®€ï¼Œå®Œå…¨æ˜¯ç”±è·¯ç”±å’Œä¸­é—´ä»¶æ„æˆä¸€ä¸ªçš„ web å¼€å‘æ¡†æ¶:ä»<br>æœ¬è´¨ä¸Šæ¥è¯´ï¼Œä¸€ä¸ª <code>Express</code> åº”ç”¨å°±æ˜¯åœ¨è°ƒç”¨å„ç§ä¸­é—´ä»¶</li>
<li>ä¸­é—´ä»¶(<code>Middleware</code>) æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå¯ä»¥è®¿é—®è¯·æ±‚å¯¹è±¡(request object (req)), å“ åº”å¯¹è±¡(response object (res)), å’Œ web åº”ç”¨ä¸­å¤„ç†è¯·æ±‚-å“åº”å¾ªç¯æµç¨‹ä¸­çš„ä¸­é—´ä»¶ï¼Œä¸€èˆ¬ è¢«å‘½åä¸º next çš„å˜é‡</li>
</ul>
<p><strong>ä¸­é—´ä»¶çš„åŠŸèƒ½åŒ…æ‹¬</strong></p>
<ul>
<li>æ‰§è¡Œä»»ä½•ä»£ç </li>
<li>ä¿®æ”¹è¯·æ±‚å’Œå“åº”å¯¹è±¡</li>
<li>ç»ˆç»“è¯·æ±‚-å“åº”å¾ªç¯</li>
<li>è°ƒç”¨å †æ ˆä¸­çš„ä¸‹ä¸€ä¸ªä¸­é—´ä»¶</li>
</ul>
<blockquote>
<p>å¦‚æœæˆ‘çš„ <code>get</code>ã€<code>post</code> å›è°ƒå‡½æ•°ä¸­ï¼Œæ²¡æœ‰ <code>next</code> å‚æ•°ï¼Œé‚£ä¹ˆå°±åŒ¹é…ä¸Šç¬¬ä¸€ä¸ªè·¯ç”±ï¼Œå°±ä¸ä¼šå¾€ä¸‹åŒ¹ é…äº†ã€‚å¦‚æœæƒ³å¾€ä¸‹åŒ¹é…çš„è¯ï¼Œé‚£ä¹ˆéœ€è¦å†™ <code>next()</code></p>
</blockquote>
<p><strong>Express åº”ç”¨å¯ä½¿ç”¨å¦‚ä¸‹å‡ ç§ä¸­é—´ä»¶</strong></p>
<ul>
<li>åº”ç”¨çº§ä¸­é—´ä»¶</li>
<li>è·¯ç”±çº§ä¸­é—´ä»¶</li>
<li>é”™è¯¯å¤„ç†ä¸­é—´ä»¶</li>
<li>å†…ç½®ä¸­é—´ä»¶</li>
<li>ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶</li>
</ul>
<ol>
<li>åº”ç”¨çº§ä¸­é—´ä»¶</li>
</ol>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/377.png" alt="img"></p>
<ol>
<li>è·¯ç”±ä¸­é—´ä»¶</li>
</ol>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/378.png" alt="img"></p>
<ol>
<li>é”™è¯¯å¤„ç†ä¸­é—´ä»¶</li>
</ol>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/379.png" alt="img"></p>
<ol>
<li>å†…ç½®ä¸­é—´ä»¶</li>
</ol>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/380.png" alt="img"></p>
<ol>
<li>ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶</li>
</ol>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/381.png" alt="img"><br><img src="https://poetries1.gitee.io/img-repo/2019/10/382.png" alt="img"></p>
<h2 id="14-7-è·å–-Get-Post-è¯·æ±‚çš„å‚æ•°"><a href="#14-7-è·å–-Get-Post-è¯·æ±‚çš„å‚æ•°" class="headerlink" title="14.7 è·å– Get Post è¯·æ±‚çš„å‚æ•°"></a>14.7 è·å– Get Post è¯·æ±‚çš„å‚æ•°</h2><ul>
<li><code>GET</code> è¯·æ±‚çš„å‚æ•°åœ¨ <code>URL</code> ä¸­ï¼Œåœ¨åŸç”Ÿ <code>Node</code> ä¸­ï¼Œéœ€è¦ä½¿ç”¨ <code>url</code> æ¨¡å—æ¥è¯†åˆ«å‚æ•°å­—ç¬¦ä¸²ã€‚åœ¨<code>Express</code> ä¸­ï¼Œä¸éœ€è¦ä½¿ç”¨ <code>url</code> æ¨¡å—äº†ã€‚å¯ä»¥ç›´æ¥ä½¿ç”¨ <code>req.query</code> å¯¹è±¡</li>
<li><code>POST</code> è¯·æ±‚åœ¨ <code>express</code> ä¸­ä¸èƒ½ç›´æ¥è·å¾—ï¼Œå¯ä»¥ä½¿ç”¨ <code>body-parser</code> æ¨¡å—ã€‚ä½¿ç”¨åï¼Œå°†å¯ä»¥ç”¨<code>req.body</code>å¾—åˆ°å‚æ•°ã€‚ä½†æ˜¯å¦‚æœè¡¨å•ä¸­å«æœ‰æ–‡ä»¶ä¸Šä¼ ï¼Œé‚£ä¹ˆè¿˜æ˜¯éœ€è¦ä½¿ç”¨ <code>formidable</code> æ¨¡å—</li>
</ul>
<p><strong>1. å®‰è£…</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install body-parser</span><br></pre></td></tr></table></figure>

<p><strong>2. ä½¿ç”¨ req.body è·å– post è¿‡æ¥çš„å‚æ•°</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var express = require(&#x27;express&#x27;) </span><br><span class="line">var bodyParser = require(&#x27;body-parser&#x27;) </span><br><span class="line">var app = express()</span><br><span class="line"></span><br><span class="line">// parse application/x-www-form-urlencoded</span><br><span class="line">app.use(bodyParser.urlencoded(&#123;</span><br><span class="line">    extended: false</span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line">// parse application/json</span><br><span class="line">app.use(bodyParser.json()) </span><br><span class="line"></span><br><span class="line">app.use(function(req, res) &#123;</span><br><span class="line">    res.setHeader(&#x27;Content-Type&#x27;, &#x27;text/plain&#x27;) res.write(&#x27;you posted:\n&#x27;) res.end(JSON.stringify(req.body, null, 2))</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="åäº”ã€expressä¸­é—´ä»¶cookieçš„åŸºæœ¬ä½¿ç”¨"><a href="#åäº”ã€expressä¸­é—´ä»¶cookieçš„åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åäº”ã€expressä¸­é—´ä»¶cookieçš„åŸºæœ¬ä½¿ç”¨"></a>åäº”ã€expressä¸­é—´ä»¶cookieçš„åŸºæœ¬ä½¿ç”¨</h1><h2 id="15-1-Cookie-ç®€ä»‹"><a href="#15-1-Cookie-ç®€ä»‹" class="headerlink" title="15.1 Cookie ç®€ä»‹"></a>15.1 Cookie ç®€ä»‹</h2><p><img src="https://poetries1.gitee.io/img-repo/2019/10/383.png" alt="img"></p>
<h2 id="15-2-Cookie-ç‰¹ç‚¹"><a href="#15-2-Cookie-ç‰¹ç‚¹" class="headerlink" title="15.2 Cookie ç‰¹ç‚¹"></a>15.2 Cookie ç‰¹ç‚¹</h2><ul>
<li><code>cookie</code> ä¿å­˜åœ¨æµè§ˆå™¨æœ¬åœ°</li>
<li>æ­£å¸¸è®¾ç½®çš„ <code>cookie</code> æ˜¯ä¸åŠ å¯†çš„ï¼Œç”¨æˆ·å¯ä»¥è‡ªç”±çœ‹åˆ°;</li>
<li>ç”¨æˆ·å¯ä»¥åˆ é™¤ <code>cookie</code>ï¼Œæˆ–è€…ç¦ç”¨å®ƒ</li>
<li><code>cookie</code> å¯ä»¥è¢«ç¯¡æ”¹</li>
<li><code>cookie</code> å¯ä»¥ç”¨äºæ”»å‡»</li>
<li><code>cookie</code> å­˜å‚¨é‡å¾ˆå°ã€‚æœªæ¥å®é™…ä¸Šè¦è¢« <code>localStorage</code> æ›¿ä»£ï¼Œä½†æ˜¯åè€… <code>IE9</code> å…¼å®¹</li>
</ul>
<h2 id="15-3-Cookie-çš„ä½¿ç”¨"><a href="#15-3-Cookie-çš„ä½¿ç”¨" class="headerlink" title="15.3 Cookie çš„ä½¿ç”¨"></a>15.3 Cookie çš„ä½¿ç”¨</h2><p><img src="https://poetries1.gitee.io/img-repo/2019/10/384.png" alt="img"><br><img src="https://poetries1.gitee.io/img-repo/2019/10/385.png" alt="img"><br><img src="https://poetries1.gitee.io/img-repo/2019/10/386.png" alt="img"></p>
<p><strong>è®¾ç½® cookie</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">res.cookie(&#x27;rememberme&#x27;, &#x27;1&#x27;, &#123; maxAge: 900000, httpOnly: true &#125;)</span><br><span class="line"></span><br><span class="line">res.cookie(&#x27;name&#x27;, &#x27;tobi&#x27;, &#123; domain: &#x27;.example.com&#x27;, path: &#x27;/admin&#x27;, secure: true &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">res.cookie(&#x27;rememberme&#x27;, &#x27;1&#x27;, &#123; expires: new Date(Date.now() + 900000), httpOnly: true &#125;);</span><br></pre></td></tr></table></figure>

<p><strong>è·å– cookie</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">req.cookies.name</span><br></pre></td></tr></table></figure>

<p><strong>åˆ é™¤ cookie</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">res.cookie(&#x27;rememberme&#x27;, &#x27;&#x27;, &#123; expires: new Date(0)&#125;);</span><br><span class="line"></span><br><span class="line">res.cookie(&#x27;username&#x27;,&#x27;zhangsan&#x27;,&#123;domain:&#x27;.ccc.com&#x27;,maxAge:0,httpOnly:true&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="15-4-åŠ å¯†-Cookie"><a href="#15-4-åŠ å¯†-Cookie" class="headerlink" title="15.4 åŠ å¯† Cookie"></a>15.4 åŠ å¯† Cookie</h2><p><strong>1. é…ç½®ä¸­é—´ä»¶çš„æ—¶å€™éœ€è¦ä¼ å‚</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var cookieParser = require(&#x27;cookie-parser&#x27;);</span><br><span class="line"></span><br><span class="line">app.use(cookieParser(&#x27;123456&#x27;));</span><br></pre></td></tr></table></figure>

<p><strong>2. è®¾ç½® cookie çš„æ—¶å€™é…ç½® signed å±æ€§</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res.c ookie(&#x27;userinfo&#x27;,&#x27;hahaha&#x27;,&#123;domain:&#x27;.c cc.c om&#x27;,maxAge :900000,httpOnly :true,signed :true&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>3. signedCookies è°ƒç”¨è®¾ç½®çš„ cookie</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(req.signedCookies);</span><br></pre></td></tr></table></figure>

<h1 id="åå…­ã€expressä¸­é—´ä»¶express-sessionå¸¸è§å‚æ•°é…ç½®ä½¿ç”¨"><a href="#åå…­ã€expressä¸­é—´ä»¶express-sessionå¸¸è§å‚æ•°é…ç½®ä½¿ç”¨" class="headerlink" title="åå…­ã€expressä¸­é—´ä»¶express-sessionå¸¸è§å‚æ•°é…ç½®ä½¿ç”¨"></a>åå…­ã€expressä¸­é—´ä»¶express-sessionå¸¸è§å‚æ•°é…ç½®ä½¿ç”¨</h1><h2 id="16-1-Session-ç®€å•ä»‹ç»"><a href="#16-1-Session-ç®€å•ä»‹ç»" class="headerlink" title="16.1 Session ç®€å•ä»‹ç»"></a>16.1 Session ç®€å•ä»‹ç»</h2><blockquote>
<p><code>session</code> æ˜¯å¦ä¸€ç§è®°å½•å®¢æˆ·çŠ¶æ€çš„æœºåˆ¶ï¼Œä¸åŒçš„æ˜¯ <code>Cookie</code>ä¿å­˜åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨ä¸­ï¼Œè€Œ <code>session</code> ä¿å­˜åœ¨æœ<br>åŠ¡å™¨ä¸Š</p>
</blockquote>
<p><strong>Session çš„ç”¨é€”</strong></p>
<ul>
<li><code>session</code> è¿è¡Œåœ¨æœåŠ¡å™¨ç«¯ï¼Œå½“å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡è®¿é—®æœåŠ¡å™¨æ—¶ï¼Œå¯ä»¥å°†å®¢æˆ·çš„ç™»å½•ä¿¡æ¯ä¿å­˜</li>
<li>å½“å®¢æˆ·è®¿é—®å…¶ä»–é¡µé¢æ—¶ï¼Œå¯ä»¥åˆ¤æ–­å®¢æˆ·çš„ç™»å½•çŠ¶æ€ï¼Œåšå‡ºæç¤ºï¼Œç›¸å½“äºç™»å½•æ‹¦æˆª</li>
<li><code>session</code> å¯ä»¥å’Œ <code>Redis</code>æˆ–è€…æ•°æ®åº“ç­‰ç»“åˆåšæŒä¹…åŒ–æ“ä½œï¼Œå½“æœåŠ¡å™¨æŒ‚æ‰æ—¶ä¹Ÿä¸ä¼šå¯¼è‡´æŸäº›å®¢æˆ·ä¿¡æ¯(è´­ç‰©è½¦)<br>ä¸¢å¤±ã€‚</li>
</ul>
<h2 id="16-2-Session-çš„å·¥ä½œæµç¨‹"><a href="#16-2-Session-çš„å·¥ä½œæµç¨‹" class="headerlink" title="16.2 Session çš„å·¥ä½œæµç¨‹"></a>16.2 Session çš„å·¥ä½œæµç¨‹</h2><blockquote>
<p>å½“æµè§ˆå™¨è®¿é—®æœåŠ¡å™¨å¹¶å‘é€ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨ç«¯ä¼šåˆ›å»ºä¸€ä¸ª session å¯¹è±¡ï¼Œç”Ÿæˆä¸€ä¸ªç±»ä¼¼äº key,value çš„é”®å€¼å¯¹ï¼Œç„¶åå°† key(cookie)è¿”å›åˆ°æµè§ˆå™¨(å®¢æˆ·)ç«¯ï¼Œæµè§ˆå™¨ä¸‹æ¬¡å†è®¿é—®æ—¶ï¼Œæºå¸¦ key(cookie)ï¼Œ æ‰¾åˆ°å¯¹åº”çš„ session(value)ã€‚ å®¢æˆ·çš„ä¿¡æ¯éƒ½ä¿å­˜åœ¨ session ä¸­</p>
</blockquote>
<h2 id="16-3-express-session-çš„ä½¿ç”¨"><a href="#16-3-express-session-çš„ä½¿ç”¨" class="headerlink" title="16.3 express-session çš„ä½¿ç”¨"></a>16.3 express-session çš„ä½¿ç”¨</h2><p><strong>1. å®‰è£… express-session</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install express-session --save</span><br></pre></td></tr></table></figure>

<p><strong>2. å¼•å…¥ express-session</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var session = require(&quot;express-session&quot;);</span><br></pre></td></tr></table></figure>

<p><strong>3. è®¾ç½®å®˜æ–¹æ–‡æ¡£æä¾›çš„ä¸­é—´ä»¶</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">app.use(session(&#123;</span><br><span class="line">    secret: &#x27;keyboard cat&#x27;,</span><br><span class="line">    resave: true,</span><br><span class="line">    saveUninitialized: true</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure>

<p><strong>4. ä½¿ç”¨</strong></p>
<ul>
<li>è®¾ç½®å€¼ <code>req.session.username = &quot;å¼ ä¸‰&quot;;</code></li>
<li>è·å–å€¼ <code>req.session.username</code></li>
</ul>
<h2 id="16-4-express-session-çš„å¸¸ç”¨å‚æ•°"><a href="#16-4-express-session-çš„å¸¸ç”¨å‚æ•°" class="headerlink" title="16.4 express-session çš„å¸¸ç”¨å‚æ•°"></a>16.4 express-session çš„å¸¸ç”¨å‚æ•°</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">app.use(session(&#123;</span><br><span class="line">    secret: &#x27;12345&#x27;,</span><br><span class="line">    name: &#x27;name&#x27;,</span><br><span class="line">    cookie: &#123;</span><br><span class="line">        maxAge: 60000</span><br><span class="line">    &#125;,</span><br><span class="line">    resave: false,</span><br><span class="line">    saveUninitialized: true</span><br><span class="line">&#125;));</span><br></pre></td></tr></table></figure>

<p><strong>è¡ŒåŠ å¯†çš„å­—ç¬¦ä¸².è¿™ä¸ª</strong></p>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/387.png" alt="img"><br><img src="https://poetries1.gitee.io/img-repo/2019/10/388.png" alt="img"></p>
<h2 id="16-5-express-session-çš„å¸¸ç”¨æ–¹æ³•"><a href="#16-5-express-session-çš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="16.5 express-session çš„å¸¸ç”¨æ–¹æ³•"></a>16.5 express-session çš„å¸¸ç”¨æ–¹æ³•</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">req.session.destroy(function(err) &#123;</span><br><span class="line">    /*é”€æ¯ session*/</span><br><span class="line">&#125;) </span><br><span class="line">req.session.username = &#x27;å¼ ä¸‰&#x27;; //è®¾ç½® session req.session.username //è·å– </span><br><span class="line"></span><br><span class="line">session req.session.cookie.maxAge=0; //é‡æ–°è®¾ç½® cookie çš„è¿‡æœŸæ—¶é—´</span><br></pre></td></tr></table></figure>

<h2 id="16-6-è´Ÿè½½å‡è¡¡é…ç½®-Sessionï¼ŒæŠŠ-Session-ä¿å­˜åˆ°æ•°æ®åº“-é‡Œé¢"><a href="#16-6-è´Ÿè½½å‡è¡¡é…ç½®-Sessionï¼ŒæŠŠ-Session-ä¿å­˜åˆ°æ•°æ®åº“-é‡Œé¢" class="headerlink" title="16.6 è´Ÿè½½å‡è¡¡é…ç½® Sessionï¼ŒæŠŠ Session ä¿å­˜åˆ°æ•°æ®åº“ é‡Œé¢"></a>16.6 è´Ÿè½½å‡è¡¡é…ç½® Sessionï¼ŒæŠŠ Session ä¿å­˜åˆ°æ•°æ®åº“ é‡Œé¢</h2><ol>
<li>éœ€è¦å®‰è£…<code>express-session</code> å’Œ <code>connect-mongo</code>æ¨¡å—</li>
<li>å¼•å…¥æ¨¡å—</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var session = require(&quot;express-session&quot;);</span><br><span class="line"></span><br><span class="line">const MongoStore = require(&#x27;connect-mongo&#x27;)(session);</span><br></pre></td></tr></table></figure>

<ol>
<li>é…ç½®ä¸­é—´ä»¶</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">app.use(session(&#123;</span><br><span class="line">    secret: &#x27;keyboard cat&#x27;,</span><br><span class="line">    resave: false,</span><br><span class="line">    saveUninitialized: true,</span><br><span class="line">    rolling:true,</span><br><span class="line">    cookie:&#123;</span><br><span class="line">        maxAge:100000</span><br><span class="line">    &#125;,</span><br><span class="line">    store: new MongoStore(&#123;</span><br><span class="line">        url: &#x27;mongodb://127.0.0.1:27017/student&#x27;,</span><br><span class="line">        touchAfter: 24 * 3600 // time period in seconds</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure>

<h2 id="16-7-Cookie-å’Œ-Session-åŒºåˆ«"><a href="#16-7-Cookie-å’Œ-Session-åŒºåˆ«" class="headerlink" title="16.7 Cookie å’Œ Session åŒºåˆ«"></a>16.7 Cookie å’Œ Session åŒºåˆ«</h2><ol>
<li><code>cookie</code> æ•°æ®å­˜æ”¾åœ¨å®¢æˆ·çš„æµè§ˆå™¨ä¸Šï¼Œ<code>session</code> æ•°æ®æ”¾åœ¨æœåŠ¡å™¨ä¸Š</li>
<li><code>cookie</code> ä¸æ˜¯å¾ˆå®‰å…¨ï¼Œåˆ«äººå¯ä»¥åˆ†æå­˜æ”¾åœ¨æœ¬åœ°çš„ <code>COOKIE</code> å¹¶è¿›è¡Œ <code>COOKIE</code> æ¬ºéª— è€ƒè™‘åˆ°å®‰å…¨åº”å½“ä½¿ç”¨ <code>session</code></li>
<li><code>session</code> ä¼šåœ¨ä¸€å®šæ—¶é—´å†…ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šã€‚å½“è®¿é—®å¢å¤šï¼Œä¼šæ¯”è¾ƒå ç”¨ä½ æœåŠ¡å™¨çš„æ€§èƒ½ è€ƒè™‘åˆ°å‡è½»æœåŠ¡å™¨æ€§èƒ½æ–¹é¢ï¼Œåº”å½“ä½¿ç”¨ <code>COOKIE</code></li>
<li>å•ä¸ª <code>cookie</code> ä¿å­˜çš„æ•°æ®ä¸èƒ½è¶…è¿‡ <code>4K</code>ï¼Œå¾ˆå¤šæµè§ˆå™¨éƒ½é™åˆ¶ä¸€ä¸ªç«™ç‚¹æœ€å¤šä¿å­˜ <code>20</code> ä¸ª <code>cookie</code></li>
</ol>

        
    </article>
    <footer class="cube-excerpt-footer">
        <a class="cube-excerpt-more" href="/2019/05/14/nodejs/node-%E5%9F%BA%E7%A1%80%E7%AF%87/">Read More</a>
    </footer>
</div>

<div class="cube-excerpt" id="cube-excerpt-node-å…¥é—¨">
    <header class="cube-excerpt-header">
        <h1><a href="/2019/05/05/nodejs/node-%E5%85%A5%E9%97%A8/">node-å…¥é—¨</a></h1>
        <div class="cube-excerpt-header-msg">
            <div class="cube-excerpt-date">
                <i class="cube-icon cube-icon-date" aria-hidden="true"></i>
                2019-05-05
            </div>
            <div class="cube-excerpt-tags">
                <i class="cube-icon cube-icon-tag" aria-hidden="true"></i>
                
                <a href="/tags/nodejs/" class="cube-excerpt-tag-link">#nodejs</a>
                
            </div>
        </div>
    </header>
    <article class="cube-excerpt-entry cube-markdown">
        
        
           <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>nodejsæ˜¯äº‹ä»¶é©±åŠ¨ã€éé˜»å¡I&#x2F;Oæ¨¡å‹</p>
</blockquote>
<ul>
<li>é˜»å¡ï¼ši&#x2F;oæ—¶è¿›ç¨‹ä¼‘çœ ç­‰å¾…å®Œæˆåè¿›è¡Œä¸‹ä¸€æ­¥</li>
<li>éé˜»å¡ï¼ši&#x2F;oæ—¶å‡½æ•°ç«‹å³è¿”å›ï¼Œè¿›ç¨‹ä¸ç­‰å¾…i&#x2F;oè¿”å›</li>
</ul>
<blockquote>
<p>i&#x2F;oå®Œæˆåé€šçŸ¥ä¸»ç¨‹åºï¼Œå¦‚ä½•å‘Šè¯‰å‘¢ï¼Ÿé€šè¿‡äº‹ä»¶é©±åŠ¨</p>
</blockquote>
<p><strong>äº‹ä»¶é©±åŠ¨</strong></p>
<ul>
<li>i&#x2F;oç­‰å¼‚æ­¥æ“ä½œç»“æŸåé€šçŸ¥</li>
<li>å†…éƒ¨å®ç°æ˜¯è§‚å¯Ÿè€…æ¨¡å¼</li>
</ul>
<p><strong>CPUå¯†é›†å’ŒI&#x2F;Oå¯†é›†</strong></p>
<ul>
<li><code>CPU</code>å¯†é›†ï¼šå‹ç¼©ã€è§£å‹ã€åŠ å¯†ã€è§£å¯†</li>
<li><code>I/O</code>å¯†é›†ï¼šæ–‡ä»¶æ“ä½œã€ç½‘ç»œæ“ä½œã€æ•°æ®åº“</li>
</ul>
<p><strong>webå¸¸è§åœºæ™¯(webæ˜¯ä¸€ä¸ªI&#x2F;Oå¯†é›†)</strong></p>
<ul>
<li>é™æ€èµ„æºè¯»å–</li>
<li>æ•°æ®åº“æ“ä½œ</li>
<li>æ¸²æŸ“é¡µé¢</li>
</ul>
<p><strong>é«˜å¹¶å‘åº”ç”¨ä¹‹é“</strong></p>
<ul>
<li>å¢åŠ æœºå™¨æ•°</li>
<li>å¢åŠ æ¯å°æœºå™¨CPUæ•°-å¤šæ ¸</li>
</ul>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/347.png" alt="img"></p>
<p><strong>è¿›ç¨‹ã€çº¿ç¨‹</strong></p>
<ul>
<li>è¿›ç¨‹ï¼šä¸€ä¸ªè¿è¡Œçš„ç¨‹åºï¼ˆè¿›ç¨‹åŒ…æ‹¬çº¿ç¨‹ï¼Œå¦‚ä½•æ°´åˆ†å­é‡Œé¢è¿˜æœ‰åˆ†å­åŸå­ï¼‰</li>
<li>çº¿ç¨‹ï¼šè¿›ç¨‹å†…ä¸€ä¸ªç‹¬ç«‹çš„ï¼Œå¯è°ƒåº¦çš„æ‰§è¡Œå•å…ƒ</li>
<li>å¤šçº¿ç¨‹ï¼šå¯åŠ¨ä¸€ä¸ªè¿›ç¨‹ï¼Œåœ¨ä¸€ä¸ªè¿›ç¨‹å†…å¯åŠ¨å¤šä¸ªçº¿ç¨‹ï¼Œè¿™æ ·å¤šä¸ªçº¿ç¨‹å¯ä»¥æ‰§è¡Œå¤šä¸ªä»»åŠ¡</li>
</ul>
<p><strong>Nodejsçš„å•çº¿ç¨‹</strong></p>
<ul>
<li>å•çº¿ç¨‹åªæ˜¯é’ˆå¯¹ä¸»è¿›ç¨‹ï¼ŒI&#x2F;Oæ“ä½œç³»ç»Ÿåº•å±‚å¤šçº¿ç¨‹è°ƒåº¦</li>
<li>å•çº¿ç¨‹å¹¶ä¸æ˜¯å•è¿›ç¨‹</li>
</ul>
<p><strong>NodejsåŸç†</strong></p>
<ul>
<li>Nodeæ˜¯å•çº¿ç¨‹çš„ï¼Œåªå¼€ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹ä¹Ÿåªå¼€ä¸€ä¸ªçº¿ç¨‹ã€‚ä¸€ä¸ªCPUä¸Šåªå¼€ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹é‡Œé¢åªæœ‰ä¸€ä¸ªçº¿ç¨‹</li>
</ul>
<p><strong>nodejsé«˜æ€§èƒ½çš„å‰æ</strong></p>
<ul>
<li>é«˜å¹¶å‘</li>
<li><code>I/O</code>å¯†é›†</li>
</ul>
<p><strong>å¸¸ç”¨åœºæ™¯</strong></p>
<ul>
<li><code>web Server</code></li>
<li>æœ¬åœ°ä»£ç æ„å»º (<code>webpack/grunt/gulp</code>)</li>
<li>ä½¿ç”¨å·¥å…·çš„å¼€å‘</li>
</ul>
<h2 id="äºŒã€nodejsä¸JavaScripå¼‚åŒ"><a href="#äºŒã€nodejsä¸JavaScripå¼‚åŒ" class="headerlink" title="äºŒã€nodejsä¸JavaScripå¼‚åŒ"></a>äºŒã€nodejsä¸JavaScripå¼‚åŒ</h2><ul>
<li><code>ECMAScript</code></li>
<li>è¯­æ³•</li>
<li>å†…ç½®å¯¹è±¡ã€æ–¹æ³•</li>
</ul>
<p><strong>é¡¶å±‚å¯¹è±¡</strong></p>
<ul>
<li><code>JavaScript</code>ï¼š<code>window</code></li>
<li><code>nodejs</code>: <code>global</code></li>
<li>åœ¨ECMAéƒ¨åˆ†nodeå’ŒJavaScriptæ˜¯ä¸€æ ·çš„ï¼Œæ¯”å¦‚æ•°æ®ç±»å‹çš„å®šä¹‰ï¼Œè¯­æ³•ç»“æ„ã€å†…ç½®å¯¹è±¡</li>
</ul>
<h2 id="ä¸‰ã€æ¨¡å—"><a href="#ä¸‰ã€æ¨¡å—" class="headerlink" title="ä¸‰ã€æ¨¡å—"></a>ä¸‰ã€æ¨¡å—</h2><ul>
<li>åœ¨<code>node</code>ä¸­æ–‡ä»¶å’Œæ¨¡å—æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæ–‡ä»¶ä¸€ä¸ªæ¨¡å—ã€‚**fileæ˜¯æ¯ä¸ªæ¨¡å—ä¸‹å¿…æœ‰çš„ä¸€ä¸ªå±æ€§ï¼Œè¾“å‡ºæ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚<code>**dirname</code> æ˜¯æ–‡ä»¶å¤¹åç§°ç»å¯¹è·¯å¾„</li>
<li>æ¯ä¸ªæ¨¡å—éƒ½æœ‰è‡ªå·±çš„ä½œç”¨åŸŸ</li>
<li>æˆ‘ä»¬é€šè¿‡varå£°æ˜çš„å˜é‡å¹¶éå…¨å±€ï¼Œè€Œæ˜¯è¯¥æ¨¡å—ä½œç”¨åŸŸä¸‹çš„</li>
</ul>
<p><strong>æ¨¡å—åŠ è½½æœºåˆ¶</strong></p>
<ul>
<li><code>require</code>åŠ è½½æ¨¡å—</li>
<li>1ã€é¦–å…ˆæŒ‰ç…§åŠ è½½æ¨¡å—çš„æ–‡ä»¶åç§°è¿›è¡ŒæŸ¥æ‰¾</li>
<li>2ã€å¦‚æœæ²¡æœ‰æ‰¾åˆ°å°±ä¼šåœ¨æ–‡ä»¶æ¨¡å—æ–‡ä»¶åç§°ååŠ è½½<code>.js</code>è¿›è¡ŒæŸ¥æ‰¾</li>
<li>3ã€å¦‚æœè¿˜æ²¡æœ‰æ‰¾åˆ°ï¼Œå°±åœ¨æ–‡ä»¶åç§°ååŠ è½½<code>.json</code>åç¼€ï¼Œè¿›è¡ŒæŸ¥æ‰¾</li>
<li>4ã€å¦‚æœè¿˜æ²¡æ‰¾åˆ°ï¼Œå°±ä¼šåœ¨æ–‡ä»¶åç§°ååŠ ä¸Š<code>.node</code>è¿›è¡ŒæŸ¥æ‰¾</li>
<li>æŸ¥æ‰¾æµç¨‹ï¼š<strong>æ–‡ä»¶åç§°-&gt;.js -&gt; .json-&gt;.node</strong></li>
</ul>
<p><strong>exportsã€module</strong></p>
<ul>
<li>ä¿å­˜å½“å‰æ¨¡å—æœ‰å…³çš„ä¸€äº›ä¿¡æ¯</li>
<li><code>module.exports</code> ä¸€èˆ¬ä½¿ç”¨è¿™ä¸ª,æŠŠä¸€ä¸ªæ¨¡å—ä¸­çš„å˜é‡å¯¹å¤–æä¾›è®¿é—®</li>
<li>åœ¨æ¨¡å—ä½œç”¨åŸŸï¼Œè¿˜æœ‰ä¸€ä¸ªå†…ç½®çš„æ¨¡å—å¯¹è±¡ï¼Œ<code>exports</code>å…¶å®å°±æ˜¯<code>module.exports</code>,ä»–ä»¬ä¸¤ä¸ªéƒ½æ˜¯æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡</li>
</ul>
<h2 id="å››ã€nodeç›®å½•çš„é…ç½®"><a href="#å››ã€nodeç›®å½•çš„é…ç½®" class="headerlink" title="å››ã€nodeç›®å½•çš„é…ç½®"></a>å››ã€nodeç›®å½•çš„é…ç½®</h2><ul>
<li><p>é…ç½®æ–‡ä»¶ :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">package.json</span><br></pre></td></tr></table></figure>

<ul>
<li>dependencies : å½“å‰é¡¹ç›®æ‰€ä½¿ç”¨åˆ°çš„ä¾èµ–æ¨¡å—</li>
<li>å®‰è£…æ–¹å¼: <code>npm install</code> è‡ªåŠ¨è¯»å–<code>package.json</code>è‡ªåŠ¨å®‰è£…</li>
</ul>
</li>
<li><p><code>router</code>ç›®å½• ç”¨æ¥å­˜æ”¾è·¯ç”±æ–‡ä»¶</p>
</li>
<li><p><code>views</code>ç›®å½• ç”¨æ¥å­˜æ”¾<code>html</code>æ¨¡æ¿æ–‡ä»¶</p>
</li>
<li><p><code>module</code>ç›®å½• è‡ªå·±å†™çš„ä¸€äº›æ¨¡å—</p>
</li>
</ul>
<h2 id="äº”ã€ç¬¬ä¸€ä¸ªnodeæœåŠ¡å™¨"><a href="#äº”ã€ç¬¬ä¸€ä¸ªnodeæœåŠ¡å™¨" class="headerlink" title="äº”ã€ç¬¬ä¸€ä¸ªnodeæœåŠ¡å™¨"></a>äº”ã€ç¬¬ä¸€ä¸ªnodeæœåŠ¡å™¨</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//   å®‰è£…å¥½nodeå°±æœ‰çš„ä¸€ä¸ªæ¨¡å—</span><br><span class="line">//  ç”¨æ¥åˆ›å»ºhttpæœåŠ¡å™¨çš„</span><br><span class="line">const http = require(`http`);</span><br><span class="line"></span><br><span class="line">http.createServer((request,response) =&gt; &#123;</span><br><span class="line">    //request è¯·æ±‚å¯¹è±¡     æµè§ˆå™¨ è¯·æ±‚ æœåŠ¡å™¨æ‰€æœ‰çš„å†…å®¹ä¿å­˜åœ¨è¿™ä¸ªå¯¹è±¡é‡Œ</span><br><span class="line">    //response å“åº”å¯¹è±¡     æœåŠ¡å™¨å“åº”æµè§ˆå™¨ æ‰€æœ‰çš„æ–¹æ³•</span><br><span class="line">    response.writeHead(200 , &#123; &#x27;Content-Type&#x27;:&#x27;text/html&#x27; &#125; );</span><br><span class="line">    //  .end() ç»“æŸå“åº” åŒæ—¶å‘é€ä¸€ä¸ª Hello Word</span><br><span class="line">    response.end(&#x27;Hello Word&#x27;)</span><br><span class="line">&#125;).listen(233);</span><br><span class="line">//.listen(); ç›‘å¬ç«¯å£ 233  è‡ªå®šä¹‰çš„ç«¯å£å·</span><br><span class="line">// å¦‚æœå¼€å¯äº†nodeæœåŠ¡å™¨  ä¿®æ”¹å®Œä¹‹åçš„ä»£ç å¿…é¡» é‡å¯æ‰èƒ½ç”Ÿæ•ˆ</span><br></pre></td></tr></table></figure>


        
    </article>
    <footer class="cube-excerpt-footer">
        <a class="cube-excerpt-more" href="/2019/05/05/nodejs/node-%E5%85%A5%E9%97%A8/">Read More</a>
    </footer>
</div>

<div class="cube-excerpt" id="cube-excerpt-HTTP1.0/1.1/2.0 çš„åŒºåˆ«">
    <header class="cube-excerpt-header">
        <h1><a href="/2019/05/03/http/HTTP1.01.12.0%20%E7%9A%84%E5%8C%BA%E5%88%AB/">HTTP1.0/1.1/2.0 çš„åŒºåˆ«</a></h1>
        <div class="cube-excerpt-header-msg">
            <div class="cube-excerpt-date">
                <i class="cube-icon cube-icon-date" aria-hidden="true"></i>
                2019-05-03
            </div>
            <div class="cube-excerpt-tags">
                <i class="cube-icon cube-icon-tag" aria-hidden="true"></i>
                
                <a href="/tags/http/" class="cube-excerpt-tag-link">#http</a>
                
            </div>
        </div>
    </header>
    <article class="cube-excerpt-entry cube-markdown">
        
        
           <h2 id="ä¸€ã€HTTP1-0"><a href="#ä¸€ã€HTTP1-0" class="headerlink" title="ä¸€ã€HTTP1.0"></a>ä¸€ã€HTTP1.0</h2><p><code>HTTP</code>åè®®çš„ç¬¬äºŒä¸ªç‰ˆæœ¬ï¼Œç¬¬ä¸€ä¸ªåœ¨é€šè®¯ä¸­æŒ‡å®šç‰ˆæœ¬å·çš„HTTPåè®®ç‰ˆæœ¬</p>
<p><code>HTTP 1.0</code> æµè§ˆå™¨ä¸æœåŠ¡å™¨åªä¿æŒçŸ­æš‚çš„è¿æ¥ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦ä¸æœåŠ¡å™¨å»ºç«‹ä¸€ä¸ª<code>TCP</code>è¿æ¥</p>
<p>æœåŠ¡å™¨å®Œæˆè¯·æ±‚å¤„ç†åç«‹å³æ–­å¼€<code>TCP</code>è¿æ¥ï¼ŒæœåŠ¡å™¨ä¸è·Ÿè¸ªæ¯ä¸ªå®¢æˆ·ä¹Ÿä¸è®°å½•è¿‡å»çš„è¯·æ±‚</p>
<p>ç®€å•æ¥è®²ï¼Œæ¯æ¬¡ä¸æœåŠ¡å™¨äº¤äº’ï¼Œéƒ½éœ€è¦æ–°å¼€ä¸€ä¸ªè¿æ¥</p>
<p><img src="https://static.vue-js.com/efff4da0-b93a-11eb-85f6-6fac77c0c9b3.png" alt="img"></p>
<p>ä¾‹å¦‚ï¼Œè§£æ<code>html</code>æ–‡ä»¶ï¼Œå½“å‘ç°æ–‡ä»¶ä¸­å­˜åœ¨èµ„æºæ–‡ä»¶çš„æ—¶å€™ï¼Œè¿™æ—¶å€™åˆåˆ›å»ºå•ç‹¬çš„é“¾æ¥</p>
<p>æœ€ç»ˆå¯¼è‡´ï¼Œä¸€ä¸ª<code>html</code>æ–‡ä»¶çš„è®¿é—®åŒ…å«äº†å¤šæ¬¡çš„è¯·æ±‚å’Œå“åº”ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦åˆ›å»ºè¿æ¥ã€å…³ç³»è¿æ¥</p>
<p>è¿™ç§å½¢å¼æ˜æ˜¾é€ æˆäº†æ€§èƒ½ä¸Šçš„ç¼ºé™·</p>
<p>å¦‚æœéœ€è¦å»ºç«‹é•¿è¿æ¥ï¼Œéœ€è¦è®¾ç½®ä¸€ä¸ªéæ ‡å‡†çš„Connectionå­—æ®µ <code>Connection: keep-alive</code></p>
<h2 id="äºŒã€HTTP1-1"><a href="#äºŒã€HTTP1-1" class="headerlink" title="äºŒã€HTTP1.1"></a>äºŒã€HTTP1.1</h2><p>åœ¨<code>HTTP1.1</code>ä¸­ï¼Œé»˜è®¤æ”¯æŒé•¿è¿æ¥ï¼ˆ<code>Connection: keep-alive</code>ï¼‰ï¼Œå³åœ¨ä¸€ä¸ªTCPè¿æ¥ä¸Šå¯ä»¥ä¼ é€å¤šä¸ª<code>HTTP</code>è¯·æ±‚å’Œå“åº”ï¼Œå‡å°‘äº†å»ºç«‹å’Œå…³é—­è¿æ¥çš„æ¶ˆè€—å’Œå»¶è¿Ÿ</p>
<p>å»ºç«‹ä¸€æ¬¡è¿æ¥ï¼Œå¤šæ¬¡è¯·æ±‚å‡ç”±è¿™ä¸ªè¿æ¥å®Œæˆ</p>
<p><img src="https://static.vue-js.com/22db2b90-b93b-11eb-ab90-d9ae814b240d.png" alt="img"></p>
<p>è¿™æ ·ï¼Œåœ¨åŠ è½½<code>html</code>æ–‡ä»¶çš„æ—¶å€™ï¼Œæ–‡ä»¶ä¸­å¤šä¸ªè¯·æ±‚å’Œå“åº”å°±å¯ä»¥åœ¨ä¸€ä¸ªè¿æ¥ä¸­ä¼ è¾“</p>
<p>åŒæ—¶ï¼Œ<code>HTTP 1.1</code>è¿˜å…è®¸å®¢æˆ·ç«¯ä¸ç”¨ç­‰å¾…ä¸Šä¸€æ¬¡è¯·æ±‚ç»“æœè¿”å›ï¼Œå°±å¯ä»¥å‘å‡ºä¸‹ä¸€æ¬¡è¯·æ±‚ï¼Œä½†æœåŠ¡å™¨ç«¯å¿…é¡»æŒ‰ç…§æ¥æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚çš„å…ˆåé¡ºåºä¾æ¬¡å›é€å“åº”ç»“æœï¼Œä»¥ä¿è¯å®¢æˆ·ç«¯èƒ½å¤ŸåŒºåˆ†å‡ºæ¯æ¬¡è¯·æ±‚çš„å“åº”å†…å®¹ï¼Œè¿™æ ·ä¹Ÿæ˜¾è‘—åœ°å‡å°‘äº†æ•´ä¸ªä¸‹è½½è¿‡ç¨‹æ‰€éœ€è¦çš„æ—¶é—´</p>
<p>åŒæ—¶ï¼Œ<code>HTTP1.1</code>åœ¨<code>HTTP1.0</code>çš„åŸºç¡€ä¸Šï¼Œå¢åŠ æ›´å¤šçš„è¯·æ±‚å¤´å’Œå“åº”å¤´æ¥å®Œå–„çš„åŠŸèƒ½ï¼Œå¦‚ä¸‹ï¼š</p>
<ul>
<li>å¼•å…¥äº†æ›´å¤šçš„ç¼“å­˜æ§åˆ¶ç­–ç•¥ï¼Œå¦‚If-Unmodified-Since, If-Match, If-None-Matchç­‰ç¼“å­˜å¤´æ¥æ§åˆ¶ç¼“å­˜ç­–ç•¥</li>
<li>å¼•å…¥rangeï¼Œå…è®¸å€¼è¯·æ±‚èµ„æºæŸä¸ªéƒ¨åˆ†</li>
<li>å¼•å…¥hostï¼Œå®ç°äº†åœ¨ä¸€å°WEBæœåŠ¡å™¨ä¸Šå¯ä»¥åœ¨åŒä¸€ä¸ªIPåœ°å€å’Œç«¯å£å·ä¸Šä½¿ç”¨ä¸åŒçš„ä¸»æœºåæ¥åˆ›å»ºå¤šä¸ªè™šæ‹ŸWEBç«™ç‚¹</li>
</ul>
<p>å¹¶ä¸”è¿˜æ·»åŠ äº†å…¶ä»–çš„è¯·æ±‚æ–¹æ³•ï¼š<code>put</code>ã€<code>delete</code>ã€<code>options</code>â€¦</p>
<h2 id="ä¸‰ã€HTTP2-0"><a href="#ä¸‰ã€HTTP2-0" class="headerlink" title="ä¸‰ã€HTTP2.0"></a>ä¸‰ã€HTTP2.0</h2><p>è€Œ<code>HTTP2.0</code>åœ¨ç›¸æ¯”ä¹‹å‰ç‰ˆæœ¬ï¼Œæ€§èƒ½ä¸Šæœ‰å¾ˆå¤§çš„æå‡ï¼Œå¦‚æ·»åŠ äº†ä¸€ä¸ªç‰¹æ€§ï¼š</p>
<ul>
<li>å¤šè·¯å¤ç”¨</li>
<li>äºŒè¿›åˆ¶åˆ†å¸§</li>
<li>é¦–éƒ¨å‹ç¼©</li>
<li>æœåŠ¡å™¨æ¨é€</li>
</ul>
<h3 id="å¤šè·¯å¤ç”¨"><a href="#å¤šè·¯å¤ç”¨" class="headerlink" title="å¤šè·¯å¤ç”¨"></a>å¤šè·¯å¤ç”¨</h3><p><code>HTTP/2</code> å¤ç”¨<code>TCP</code>è¿æ¥ï¼Œåœ¨ä¸€ä¸ªè¿æ¥é‡Œï¼Œå®¢æˆ·ç«¯å’Œæµè§ˆå™¨éƒ½å¯ä»¥<strong>åŒæ—¶</strong>å‘é€å¤šä¸ªè¯·æ±‚æˆ–å›åº”ï¼Œè€Œä¸”ä¸ç”¨æŒ‰ç…§é¡ºåºä¸€ä¸€å¯¹åº”ï¼Œè¿™æ ·å°±é¿å…äº†â€é˜Ÿå¤´å µå¡â€</p>
<p><img src="https://static.vue-js.com/313f1980-b93b-11eb-85f6-6fac77c0c9b3.png" alt="img"></p>
<p>ä¸Šå›¾ä¸­ï¼Œå¯ä»¥çœ‹åˆ°ç¬¬å››æ­¥ä¸­<code>css</code>ã€<code>js</code>èµ„æºæ˜¯åŒæ—¶å‘é€åˆ°æœåŠ¡ç«¯</p>
<h3 id="äºŒè¿›åˆ¶åˆ†å¸§"><a href="#äºŒè¿›åˆ¶åˆ†å¸§" class="headerlink" title="äºŒè¿›åˆ¶åˆ†å¸§"></a>äºŒè¿›åˆ¶åˆ†å¸§</h3><p>å¸§æ˜¯<code>HTTP2</code>é€šä¿¡ä¸­æœ€å°å•ä½ä¿¡æ¯</p>
<p><code>HTTP/2</code> é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼ä¼ è¾“æ•°æ®ï¼Œè€Œé <code>HTTP 1.x</code>çš„æ–‡æœ¬æ ¼å¼ï¼Œè§£æèµ·æ¥æ›´é«˜æ•ˆ</p>
<p>å°†è¯·æ±‚å’Œå“åº”æ•°æ®åˆ†å‰²ä¸ºæ›´å°çš„å¸§ï¼Œå¹¶ä¸”å®ƒä»¬é‡‡ç”¨äºŒè¿›åˆ¶ç¼–ç </p>
<p><code>HTTP2</code>ä¸­ï¼ŒåŒåŸŸåä¸‹æ‰€æœ‰é€šä¿¡éƒ½åœ¨å•ä¸ªè¿æ¥ä¸Šå®Œæˆï¼Œè¯¥è¿æ¥å¯ä»¥æ‰¿è½½ä»»æ„æ•°é‡çš„åŒå‘æ•°æ®æµ</p>
<p>æ¯ä¸ªæ•°æ®æµéƒ½ä»¥æ¶ˆæ¯çš„å½¢å¼å‘é€ï¼Œè€Œæ¶ˆæ¯åˆç”±ä¸€ä¸ªæˆ–å¤šä¸ªå¸§ç»„æˆã€‚å¤šä¸ªå¸§ä¹‹é—´å¯ä»¥ä¹±åºå‘é€ï¼Œæ ¹æ®å¸§é¦–éƒ¨çš„æµæ ‡è¯†å¯ä»¥é‡æ–°ç»„è£…ï¼Œè¿™ä¹Ÿæ˜¯å¤šè·¯å¤ç”¨åŒæ—¶å‘é€æ•°æ®çš„å®ç°æ¡ä»¶</p>
<h3 id="é¦–éƒ¨å‹ç¼©"><a href="#é¦–éƒ¨å‹ç¼©" class="headerlink" title="é¦–éƒ¨å‹ç¼©"></a>é¦–éƒ¨å‹ç¼©</h3><p><code>HTTP/2</code>åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä½¿ç”¨â€œé¦–éƒ¨è¡¨â€æ¥è·Ÿè¸ªå’Œå­˜å‚¨ä¹‹å‰å‘é€çš„é”®å€¼å¯¹ï¼Œå¯¹äºç›¸åŒçš„æ•°æ®ï¼Œä¸å†é€šè¿‡æ¯æ¬¡è¯·æ±‚å’Œå“åº”å‘é€</p>
<p>é¦–éƒ¨è¡¨åœ¨<code>HTTP/2</code>çš„è¿æ¥å­˜ç»­æœŸå†…å§‹ç»ˆå­˜åœ¨ï¼Œç”±å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å…±åŒæ¸è¿›åœ°æ›´æ–°</p>
<p>ä¾‹å¦‚ï¼šä¸‹å›¾ä¸­çš„ä¸¤ä¸ªè¯·æ±‚ï¼Œ è¯·æ±‚ä¸€å‘é€äº†æ‰€æœ‰çš„å¤´éƒ¨å­—æ®µï¼Œç¬¬äºŒä¸ªè¯·æ±‚åˆ™åªéœ€è¦å‘é€å·®å¼‚æ•°æ®ï¼Œè¿™æ ·å¯ä»¥å‡å°‘å†—ä½™æ•°æ®ï¼Œé™ä½å¼€é”€</p>
<p><img src="https://static.vue-js.com/3c536740-b93b-11eb-ab90-d9ae814b240d.png" alt="img"></p>
<h3 id="æœåŠ¡å™¨æ¨é€"><a href="#æœåŠ¡å™¨æ¨é€" class="headerlink" title="æœåŠ¡å™¨æ¨é€"></a>æœåŠ¡å™¨æ¨é€</h3><p><code>HTTP2</code>å¼•å…¥æœåŠ¡å™¨æ¨é€ï¼Œå…è®¸æœåŠ¡ç«¯æ¨é€èµ„æºç»™å®¢æˆ·ç«¯</p>
<p>æœåŠ¡å™¨ä¼šé¡ºä¾¿æŠŠä¸€äº›å®¢æˆ·ç«¯éœ€è¦çš„èµ„æºä¸€èµ·æ¨é€åˆ°å®¢æˆ·ç«¯ï¼Œå¦‚åœ¨å“åº”ä¸€ä¸ªé¡µé¢è¯·æ±‚ä¸­ï¼Œå°±å¯ä»¥éšåŒé¡µé¢çš„å…¶å®ƒèµ„æº</p>
<p>å…å¾—å®¢æˆ·ç«¯å†æ¬¡åˆ›å»ºè¿æ¥å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ç«¯è·å–</p>
<p>è¿™ç§æ–¹å¼éå¸¸åˆé€‚åŠ è½½é™æ€èµ„æº</p>
<p><img src="https://static.vue-js.com/47130550-b93b-11eb-85f6-6fac77c0c9b3.png" alt="img"></p>
<h2 id="å››ã€æ€»ç»“"><a href="#å››ã€æ€»ç»“" class="headerlink" title="å››ã€æ€»ç»“"></a>å››ã€æ€»ç»“</h2><p>HTTP1.0ï¼š</p>
<ul>
<li>æµè§ˆå™¨ä¸æœåŠ¡å™¨åªä¿æŒçŸ­æš‚çš„è¿æ¥ï¼Œæµè§ˆå™¨çš„æ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦ä¸æœåŠ¡å™¨å»ºç«‹ä¸€ä¸ªTCPè¿æ¥</li>
</ul>
<p>HTTP1.1ï¼š</p>
<ul>
<li>å¼•å…¥äº†æŒä¹…è¿æ¥ï¼Œå³TCPè¿æ¥é»˜è®¤ä¸å…³é—­ï¼Œå¯ä»¥è¢«å¤šä¸ªè¯·æ±‚å¤ç”¨</li>
<li>åœ¨åŒä¸€ä¸ªTCPè¿æ¥é‡Œé¢ï¼Œå®¢æˆ·ç«¯å¯ä»¥åŒæ—¶å‘é€å¤šä¸ªè¯·æ±‚</li>
<li>è™½ç„¶å…è®¸å¤ç”¨TCPè¿æ¥ï¼Œä½†æ˜¯åŒä¸€ä¸ªTCPè¿æ¥é‡Œé¢ï¼Œæ‰€æœ‰çš„æ•°æ®é€šä¿¡æ˜¯æŒ‰æ¬¡åºè¿›è¡Œçš„ï¼ŒæœåŠ¡å™¨åªæœ‰å¤„ç†å®Œä¸€ä¸ªè¯·æ±‚ï¼Œæ‰ä¼šæ¥ç€å¤„ç†ä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚å¦‚æœå‰é¢çš„å¤„ç†ç‰¹åˆ«æ…¢ï¼Œåé¢å°±ä¼šæœ‰è®¸å¤šè¯·æ±‚æ’é˜Ÿç­‰ç€</li>
<li>æ–°å¢äº†ä¸€äº›è¯·æ±‚æ–¹æ³•</li>
<li>æ–°å¢äº†ä¸€äº›è¯·æ±‚å¤´å’Œå“åº”å¤´</li>
</ul>
<p>HTTP2.0ï¼š</p>
<ul>
<li>é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼è€Œéæ–‡æœ¬æ ¼å¼</li>
<li>å®Œå…¨å¤šè·¯å¤ç”¨ï¼Œè€Œéæœ‰åºå¹¶é˜»å¡çš„ã€åªéœ€ä¸€ä¸ªè¿æ¥å³å¯å®ç°å¹¶è¡Œ</li>
<li>ä½¿ç”¨æŠ¥å¤´å‹ç¼©ï¼Œé™ä½å¼€é”€</li>
<li>æœåŠ¡å™¨æ¨é€</li>
</ul>

        
    </article>
    <footer class="cube-excerpt-footer">
        <a class="cube-excerpt-more" href="/2019/05/03/http/HTTP1.01.12.0%20%E7%9A%84%E5%8C%BA%E5%88%AB/">Read More</a>
    </footer>
</div>

<div class="cube-excerpt" id="cube-excerpt-mongodb">
    <header class="cube-excerpt-header">
        <h1><a href="/2019/04/07/%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/">mongodb</a></h1>
        <div class="cube-excerpt-header-msg">
            <div class="cube-excerpt-date">
                <i class="cube-icon cube-icon-date" aria-hidden="true"></i>
                2019-04-07
            </div>
            <div class="cube-excerpt-tags">
                <i class="cube-icon cube-icon-tag" aria-hidden="true"></i>
                
                <a href="/tags/mongodb/" class="cube-excerpt-tag-link">#mongodb</a>
                
            </div>
        </div>
    </header>
    <article class="cube-excerpt-entry cube-markdown">
        
        
           <h1 id="ä¸€ã€ç¯å¢ƒæ­å»º"><a href="#ä¸€ã€ç¯å¢ƒæ­å»º" class="headerlink" title="ä¸€ã€ç¯å¢ƒæ­å»º"></a>ä¸€ã€ç¯å¢ƒæ­å»º</h1><h2 id="1-1-mongodbç®€ä»‹"><a href="#1-1-mongodbç®€ä»‹" class="headerlink" title="1.1 mongodbç®€ä»‹"></a>1.1 mongodbç®€ä»‹</h2><ul>
<li><code>MongoDB</code>æ—¨åœ¨ä¸ºWEBåº”ç”¨æä¾›å¯æ‰©å±•çš„é«˜æ€§èƒ½æ•°æ®å­˜å‚¨è§£å†³æ–¹æ¡ˆ</li>
<li><code>MongoDB</code> å°†æ•°æ®å­˜å‚¨ä¸ºä¸€ä¸ªæ–‡æ¡£ï¼Œæ•°æ®ç»“æ„ç”±é”®å€¼(<code>key=&gt;value</code>)å¯¹ç»„æˆã€‚<code>MongoDB</code> æ–‡æ¡£ç±»ä¼¼äº <code>JSON</code>å¯¹è±¡ã€‚å­—æ®µå€¼å¯ä»¥åŒ…å«å…¶ä»–æ–‡æ¡£ï¼Œæ•°ç»„åŠæ–‡æ¡£æ•°ç»„</li>
</ul>
<p><img src="http://www.runoob.com/wp-content/uploads/2013/10/crud-annotated-document.png" alt="img"></p>
<p><strong>ä¸»è¦ç‰¹ç‚¹</strong></p>
<ul>
<li>é«˜å¯æ‰©å±•æ€§</li>
<li>åˆ†å¸ƒå¼å­˜å‚¨</li>
<li>ä½æˆæœ¬</li>
<li>ç»“æ„çµæ´»</li>
</ul>
<h2 id="1-2-windowä¸‹mongodbç¯å¢ƒæ­å»º"><a href="#1-2-windowä¸‹mongodbç¯å¢ƒæ­å»º" class="headerlink" title="1.2 windowä¸‹mongodbç¯å¢ƒæ­å»º"></a>1.2 windowä¸‹mongodbç¯å¢ƒæ­å»º</h2><ul>
<li>ä¸‹è½½å®‰è£…åŒ…æˆ–å‹ç¼©åŒ…</li>
<li>æ·»åŠ <code>db</code>å­˜å‚¨å’Œæ—¥å¿—å­˜å‚¨æ–‡ä»¶å¤¹</li>
<li>æ·»åŠ æœåŠ¡ã€é…ç½®ç¯å¢ƒå˜é‡ã€å¯åŠ¨<code>Mongo</code></li>
</ul>
<blockquote>
<p>é…ç½®æ¼”ç¤º</p>
</blockquote>
<ul>
<li>åœ¨ä»»æ„ç›®å½•åˆ›å»ºå‡ ä¸ªæ–‡ä»¶å¤¹</li>
</ul>
<p><img src="https://poetries1.gitee.io/img-repo/2019/12/182.png" alt="img"><br><img src="https://poetries1.gitee.io/img-repo/2019/12/183.png" alt="img"></p>
<p><strong>é€šè¿‡å‘½ä»¤è¡Œå¯åŠ¨æœåŠ¡</strong></p>
<blockquote>
<p>é…ç½®ç¯å¢ƒå˜é‡</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#  --dbpathæŒ‡å®šæ•°æ®å­˜å‚¨ä½ç½®</span><br><span class="line">C:\Program Files\MongoDB\Server\3.4\bin\mongod --dbpath d:\mongodb\data</span><br></pre></td></tr></table></figure>

<p><img src="https://poetries1.gitee.io/img-repo/2019/12/184.png" alt="img"></p>
<p><strong>é€šé…ç½®å¯åŠ¨æœåŠ¡</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># é…ç½®d:\mongodb\etc\mongodb.conf</span><br><span class="line"></span><br><span class="line">#æ•°æ®åº“è·¯å¾„</span><br><span class="line">dbpath=d:\mongodb\data\</span><br><span class="line"></span><br><span class="line">#æ—¥å¿—è¾“å‡ºæ–‡ä»¶è·¯å¾„</span><br><span class="line">logpath=d:\mongodb\logs\mongodb.log</span><br><span class="line"></span><br><span class="line">#é”™è¯¯æ—¥å¿—é‡‡ç”¨è¿½åŠ æ¨¡å¼ï¼Œé…ç½®è¿™ä¸ªé€‰é¡¹åmongodbçš„æ—¥å¿—ä¼šè¿½åŠ åˆ°ç°æœ‰çš„æ—¥å¿—æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ä»æ–°åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶</span><br><span class="line">logappend=true</span><br><span class="line"></span><br><span class="line">#å¯ç”¨æ—¥å¿—æ–‡ä»¶ï¼Œé»˜è®¤å¯ç”¨</span><br><span class="line">journal=true</span><br><span class="line"></span><br><span class="line">#è¿™ä¸ªé€‰é¡¹å¯ä»¥è¿‡æ»¤æ‰ä¸€äº›æ— ç”¨çš„æ—¥å¿—ä¿¡æ¯ï¼Œè‹¥éœ€è¦è°ƒè¯•ä½¿ç”¨è¯·è®¾ç½®ä¸ºfalse</span><br><span class="line">quiet=true</span><br><span class="line"></span><br><span class="line">#ç«¯å£å· é»˜è®¤ä¸º27017</span><br><span class="line">port=27017</span><br><span class="line"></span><br><span class="line">#æŒ‡å®šå­˜å‚¨å¼•æ“ï¼ˆé»˜è®¤å…ˆä¸åŠ æ­¤å¼•æ“ï¼Œå¦‚æœæŠ¥é”™äº†ï¼Œå¤§å®¶åœ¨åŠ è¿›å»ï¼‰</span><br><span class="line">storageEngine=mmapv1</span><br><span class="line"></span><br><span class="line">#httpé…ç½® å¼€å¯è¿™ä¸ªæœåŠ¡æ‰å¯ä»¥åœ¨ç½‘é¡µä¸­è®¿é—® ç«¯å£28017</span><br><span class="line">httpinterface=true</span><br></pre></td></tr></table></figure>

<ul>
<li>å¯åŠ¨æ–¹å¼</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Program Files\MongoDB\Server\3.4\bin\mongod --config d:\mongodb\data</span><br></pre></td></tr></table></figure>

<p><img src="https://poetries1.gitee.io/img-repo/2019/10/349.png" alt="img"></p>
<p><strong>æ›´åŠ ç®€æ´çš„å¯åŠ¨æ–¹å¼</strong></p>
<blockquote>
<p>å®‰è£…åˆ°<code>window</code>çš„æœåŠ¡é‡Œé¢ï¼Œæ‰“å¼€Windowsçœ‹ä¸€ä¸‹</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Program Files\MongoDB\Server\3.4\bin\mongod --config d:\mongodb\data --install --serviceName &quot;MongoDB&quot;</span><br></pre></td></tr></table></figure>

<p><img src="https://poetries1.gitee.io/img-repo/2019/10/350.png" alt="img"></p>
<p><strong>ä½¿ç”¨MongoVueè¿æ¥æ•°æ®åº“</strong></p>
<p><img src="https://poetries1.gitee.io/img-repo/2019/10/351.png" alt="img"><br><img src="https://poetries1.gitee.io/img-repo/2019/10/352.png" alt="img"></p>
<h2 id="1-3-linuxä¸‹mongodbç¯å¢ƒæ­å»º"><a href="#1-3-linuxä¸‹mongodbç¯å¢ƒæ­å»º" class="headerlink" title="1.3 linuxä¸‹mongodbç¯å¢ƒæ­å»º"></a>1.3 linuxä¸‹mongodbç¯å¢ƒæ­å»º</h2><ul>
<li>ä¸‹è½½å®‰è£…åŒ…æˆ–å‹ç¼©åŒ…</li>
<li>æ·»åŠ <code>db</code>å­˜å‚¨å’Œæ—¥å¿—å­˜å‚¨æ–‡ä»¶å¤¹</li>
<li>æ·»åŠ æœåŠ¡ã€é…ç½®ç¯å¢ƒå˜é‡ã€å¯åŠ¨<code>Mongo</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># è¿œç¨‹ç™»å½•æœåŠ¡å™¨</span><br><span class="line">ssh root@123.142.25.365</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¸Šä¼ æœ¬åœ°çš„å®‰è£…åŒ…</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"># ä¸Šä¼ æ–‡ä»¶å¤¹ï¼Œä¼ æ–‡ä»¶ä¸éœ€è¦r</span><br><span class="line">scp /mongodb/... -r root@123.142.25.365:/home</span><br><span class="line"></span><br><span class="line"># ä¼ åˆ°æœåŠ¡å™¨çš„/home/</span><br><span class="line"># åœ¨æŒ‡å®šçš„ç›®å½•åˆ›å»ºå¯åŠ¨éœ€è¦çš„æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">$ cd /home/</span><br><span class="line">$ mkdir etc logs data</span><br><span class="line">$ touch logs/mongodb.log etc/mongo.conf</span><br><span class="line"># /home/etc/mongo.confé…ç½®</span><br><span class="line"></span><br><span class="line">dbpath=/home/mongodb/data</span><br><span class="line">logpath=/mongodb/logs/mongodb.log</span><br><span class="line">logappend=true</span><br><span class="line">journal=true</span><br><span class="line">quiet=true</span><br><span class="line">port=2701</span><br><span class="line"># å¯åŠ¨æœåŠ¡</span><br><span class="line">mongod -f /home/mongodb/etc/mongo.conf</span><br><span class="line"># åˆ›å»ºè½¯è¿æ¥</span><br><span class="line"></span><br><span class="line">ln -s /home/mongodb/bin/mongo /usr/local/bin/mongo</span><br><span class="line"></span><br><span class="line">ln -s /home/mongodb/bin/mongod /usr/local/bin/mongod</span><br></pre></td></tr></table></figure>

<h1 id="äºŒã€åŸºæœ¬æ¦‚å¿µ"><a href="#äºŒã€åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="äºŒã€åŸºæœ¬æ¦‚å¿µ"></a>äºŒã€åŸºæœ¬æ¦‚å¿µ</h1><h2 id="2-1-æ•°æ®åº“å¯¹æ¯”"><a href="#2-1-æ•°æ®åº“å¯¹æ¯”" class="headerlink" title="2.1 æ•°æ®åº“å¯¹æ¯”"></a>2.1 æ•°æ®åº“å¯¹æ¯”</h2><table>
<thead>
<tr>
<th align="left">SQLæœ¯è¯­&#x2F;æ¦‚å¿µ</th>
<th align="left">MongoDBæœ¯è¯­&#x2F;æ¦‚å¿µ</th>
<th align="left">è§£æ&#x2F;è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>database</code></td>
<td align="left"><code>database</code></td>
<td align="left">æ•°æ®åº“</td>
</tr>
<tr>
<td align="left"><code>table</code></td>
<td align="left"><code>collection</code></td>
<td align="left">æ•°æ®è¡¨&#x2F;é›†åˆ</td>
</tr>
<tr>
<td align="left"><code>row</code></td>
<td align="left"><code>document</code></td>
<td align="left">æ•°æ®è®°å½•&#x2F;æ–‡æ¡£</td>
</tr>
<tr>
<td align="left"><code>column</code></td>
<td align="left"><code>field</code></td>
<td align="left">æ•°æ®è®°å½•è¡Œ&#x2F;æ–‡æ¡£</td>
</tr>
<tr>
<td align="left"><code>index</code></td>
<td align="left"><code>index</code></td>
<td align="left">ç´¢å¼•</td>
</tr>
<tr>
<td align="left"><code>table</code></td>
<td align="left"><code>joins</code></td>
<td align="left">è¡¨è¿æ¥ï¼Œ<code>MongoDB</code>ä¸æ”¯æŒ</td>
</tr>
<tr>
<td align="left"><code>primary key</code></td>
<td align="left"><code>primary key</code></td>
<td align="left">ä¸»é”®,<code>MongoDB</code>è‡ªåŠ¨å°†<code>_id</code>å­—æ®µè®¾ç½®ä¸ºä¸»é”®</td>
</tr>
</tbody></table>
<p><img src="http://www.runoob.com/wp-content/uploads/2013/10/Figure-1-Mapping-Table-to-Collection-1.png" alt="img"></p>
<h2 id="2-2-æ•°æ®åº“"><a href="#2-2-æ•°æ®åº“" class="headerlink" title="2.2 æ•°æ®åº“"></a>2.2 æ•°æ®åº“</h2><ul>
<li>ä¸€ä¸ª<code>mongodb</code>ä¸­å¯ä»¥å»ºç«‹å¤šä¸ªæ•°æ®åº“</li>
<li><code>MongoDB</code>çš„é»˜è®¤æ•°æ®åº“ä¸ºâ€<code>db</code>â€œï¼Œè¯¥æ•°æ®åº“å­˜å‚¨åœ¨<code>data</code>ç›®å½•ä¸­</li>
<li><code>&quot;show dbs&quot;</code> å‘½ä»¤å¯ä»¥æ˜¾ç¤ºæ‰€æœ‰æ•°æ®çš„åˆ—è¡¨</li>
<li>æ‰§è¡Œ <code>&quot;db&quot;</code> å‘½ä»¤å¯ä»¥æ˜¾ç¤ºå½“å‰æ•°æ®åº“å¯¹è±¡æˆ–é›†åˆ</li>
<li><code>&quot;use&quot;</code>å‘½ä»¤ï¼Œå¯ä»¥è¿æ¥åˆ°ä¸€ä¸ªæŒ‡å®šçš„æ•°æ®åº“</li>
</ul>
<h2 id="2-3-æ–‡æ¡£"><a href="#2-3-æ–‡æ¡£" class="headerlink" title="2.3 æ–‡æ¡£"></a>2.3 æ–‡æ¡£</h2><ul>
<li>æ–‡æ¡£æ˜¯ä¸€ç»„é”®å€¼(<code>key-value</code>)å¯¹(å³<code>BSON</code>)</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;site&quot;:&quot;www.runoob.com&quot;, &quot;name&quot;:&quot;èœé¸Ÿæ•™ç¨‹&quot;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-4-æ’å…¥æ–‡æ¡£"><a href="#2-4-æ’å…¥æ–‡æ¡£" class="headerlink" title="2.4 æ’å…¥æ–‡æ¡£"></a>2.4 æ’å…¥æ–‡æ¡£</h2><ul>
<li><p>åˆ‡æ¢æ•°æ®åº“</p>
<ul>
<li><code>use</code> æ•°æ®åº“å(æ²¡æœ‰å°±åˆ›å»º)</li>
</ul>
</li>
<li><p>&#96;&#96;&#96;<br>db.createCollection(â€œuserâ€)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  - åˆ›å»ºé›†åˆç›¸å½“äºåˆ›å»ºè¡¨å</span><br><span class="line">  - æˆ–è€…è¿™æ ·åˆ›å»º</span><br><span class="line">    - `db.user.inert(&#123;id:123&#125;)`</span><br><span class="line"></span><br><span class="line">## 2.5 æ’å…¥æ•°æ®è¡¨</span><br><span class="line"></span><br><span class="line">**1. æ‰‹åŠ¨æ’å…¥**</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h1 id="åˆ‡æ¢åˆ›å»ºæ•°æ®åº“"><a href="#åˆ‡æ¢åˆ›å»ºæ•°æ®åº“" class="headerlink" title="åˆ‡æ¢åˆ›å»ºæ•°æ®åº“"></a>åˆ‡æ¢åˆ›å»ºæ•°æ®åº“</h1><p>use demo </p>
<h1 id="goodsç›¸å½“äºæ•°æ®è¡¨"><a href="#goodsç›¸å½“äºæ•°æ®è¡¨" class="headerlink" title="goodsç›¸å½“äºæ•°æ®è¡¨"></a>goodsç›¸å½“äºæ•°æ®è¡¨</h1><p>db.goods.insert({â€œprodictIdâ€:â€10001â€,â€productNameâ€:â€aaaâ€,â€slaePriceâ€:246,â€productImageâ€:â€1.jpgâ€})</p>
<h1 id="åˆ›å»ºæ•°æ®è¡¨ï¼Œæš‚æ—¶ä¸éœ€æ’å…¥æ•°æ®"><a href="#åˆ›å»ºæ•°æ®è¡¨ï¼Œæš‚æ—¶ä¸éœ€æ’å…¥æ•°æ®" class="headerlink" title="åˆ›å»ºæ•°æ®è¡¨ï¼Œæš‚æ—¶ä¸éœ€æ’å…¥æ•°æ®"></a>åˆ›å»ºæ•°æ®è¡¨ï¼Œæš‚æ—¶ä¸éœ€æ’å…¥æ•°æ®</h1><p>db.createCollection(â€œgoodsâ€)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**2. å®¢æˆ·ç«¯æ’å…¥**</span><br><span class="line"></span><br><span class="line">&gt; åˆ©ç”¨`mongodbVue`å¯¼å…¥</span><br><span class="line"></span><br><span class="line"># ä¸‰ã€å¸¸ç”¨æ“ä½œ</span><br><span class="line"></span><br><span class="line">## 3.1 åˆ›å»ºç”¨æˆ·</span><br><span class="line"></span><br><span class="line">**1. åˆ›å»ºç®¡ç†å‘˜**</span><br><span class="line"></span><br><span class="line">- å¼€å¯æœåŠ¡</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="â€“authè¿›è¡Œæˆæƒï¼Œéœ€è¦è®¤è¯æ‰å¯ä»¥"><a href="#â€“authè¿›è¡Œæˆæƒï¼Œéœ€è¦è®¤è¯æ‰å¯ä»¥" class="headerlink" title="â€“authè¿›è¡Œæˆæƒï¼Œéœ€è¦è®¤è¯æ‰å¯ä»¥"></a>â€“authè¿›è¡Œæˆæƒï¼Œéœ€è¦è®¤è¯æ‰å¯ä»¥</h1><p>mongod -f d:&#x2F;mongodb&#x2F;etc&#x2F;mongodb.conf â€“auth</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**2. é€šè¿‡éæˆæƒçš„æ–¹å¼å¯åŠ¨æœåŠ¡**</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="åˆ›å»ºadminæ•°æ®åº“"><a href="#åˆ›å»ºadminæ•°æ®åº“" class="headerlink" title="åˆ›å»ºadminæ•°æ®åº“"></a>åˆ›å»ºadminæ•°æ®åº“</h1><p>use admin </p>
<h1 id="ç»™adminæ•°æ®åº“åˆ›å»ºè´¦å·"><a href="#ç»™adminæ•°æ®åº“åˆ›å»ºè´¦å·" class="headerlink" title="ç»™adminæ•°æ®åº“åˆ›å»ºè´¦å·"></a>ç»™adminæ•°æ®åº“åˆ›å»ºè´¦å·</h1><p>db.createUser({user:â€adminâ€,pwd:â€adminâ€,roles:[â€œrootâ€]}) # 3.4<br>db.addUser # 2.x</p>
<h1 id="åˆ›å»ºæˆåŠŸéœ€è¦è®¤è¯"><a href="#åˆ›å»ºæˆåŠŸéœ€è¦è®¤è¯" class="headerlink" title="åˆ›å»ºæˆåŠŸéœ€è¦è®¤è¯"></a>åˆ›å»ºæˆåŠŸéœ€è¦è®¤è¯</h1><p>db.auth(â€œadminâ€,â€adminâ€) # è´¦å·ã€å¯†ç </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">![img](https://poetries1.gitee.io/img-repo/2019/10/353.png)</span><br><span class="line"></span><br><span class="line">**3. ç»™ä½¿ç”¨çš„æ•°æ®åº“æ·»åŠ ç”¨æˆ·**</span><br><span class="line"></span><br><span class="line">1. åˆ›å»ºç”¨æˆ·</span><br><span class="line"></span><br><span class="line">![img](https://poetries1.gitee.io/img-repo/2019/10/354.png)</span><br><span class="line"></span><br><span class="line">1. ç„¶ååœ¨æˆæƒç™»å½•è¯•ä¸€ä¸‹</span><br><span class="line"></span><br><span class="line">## 3.2 MongoDB åˆ›å»ºæ•°æ®åº“</span><br><span class="line"></span><br><span class="line">- `MongoDB` åˆ›å»ºæ•°æ®åº“çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹</span><br><span class="line">- å¦‚æœæ•°æ®åº“ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºæ•°æ®åº“ï¼Œå¦åˆ™åˆ‡æ¢åˆ°æŒ‡å®šæ•°æ®åº“</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>use DATABASE_NAME</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“</span><br><span class="line">  - `show dbs`</span><br><span class="line">- æˆ‘ä»¬åˆšåˆ›å»ºçš„æ•°æ®åº“ runoob å¹¶ä¸åœ¨æ•°æ®åº“çš„åˆ—è¡¨ä¸­ï¼Œ è¦æ˜¾ç¤ºå®ƒï¼Œæˆ‘ä»¬éœ€è¦å‘ runoob æ•°æ®åº“æ’å…¥ä¸€äº›æ•°æ®</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>db.runoob.insert({â€œnameâ€:â€poetriesâ€})<br>WriteResult({ â€œnInsertedâ€ : 1 })<br>show dbs</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## 3.3 MongoDB åˆ é™¤æ•°æ®åº“</span><br><span class="line"></span><br><span class="line">- `MongoDB`åˆ é™¤æ•°æ®åº“çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹</span><br><span class="line">- åˆ é™¤å½“å‰æ•°æ®åº“ï¼Œé»˜è®¤ä¸º `test`ï¼Œä½ å¯ä»¥ä½¿ç”¨ `db` å‘½ä»¤æŸ¥çœ‹å½“å‰æ•°æ®åº“å</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>db.dropDatabase()</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## 3.4 åˆ é™¤é›†åˆ</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>db.collection.drop()</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## 3.5 MongoDB æ’å…¥æ–‡æ¡£</span><br><span class="line"></span><br><span class="line">&gt; æ–‡æ¡£çš„æ•°æ®ç»“æ„å’Œ`JSON`åŸºæœ¬ä¸€æ ·</span><br><span class="line"></span><br><span class="line">## 3.6 æ’å…¥æ–‡æ¡£</span><br><span class="line"></span><br><span class="line">- `MongoDB` ä½¿ç”¨ `insert()`æˆ– `save()` æ–¹æ³•å‘é›†åˆä¸­æ’å…¥æ–‡æ¡£ï¼Œè¯­æ³•å¦‚ä¸‹</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>db.COLLECTION_NAME.insert(document)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- ä»¥ä¸‹æ–‡æ¡£å¯ä»¥å­˜å‚¨åœ¨ `MongoDB` çš„ `runoob`æ•°æ®åº“ çš„ `col` é›†åˆä¸­</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>db.col.insert({title: â€˜MongoDB å­¦ä¹ â€™,<br>    description: â€˜MongoDB æ˜¯ä¸€ä¸ª Nosql æ•°æ®åº“â€™,<br>    by: â€˜poetriesâ€™,<br>    url: â€˜<a target="_blank" rel="noopener" href="http://blog.poetries.top&/#39;">http://blog.poetries.top&#39;</a>,<br>    tags: [â€˜mongodbâ€™, â€˜databaseâ€™, â€˜NoSQLâ€™],<br>    likes: 100<br>})</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- ä»¥ä¸Šå®ä¾‹ä¸­ `col` æ˜¯æˆ‘ä»¬çš„é›†åˆåï¼Œå¦‚æœè¯¥é›†åˆä¸åœ¨è¯¥æ•°æ®åº“ä¸­ï¼Œ `MongoDB` ä¼šè‡ªåŠ¨åˆ›å»ºè¯¥é›†åˆå¹¶æ’å…¥æ–‡æ¡£ã€‚</span><br><span class="line">- æŸ¥çœ‹å·²æ’å…¥æ–‡æ¡£</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<p>db.col.find()<br>db.col.find().pretty() #æ ¼å¼åŒ–æ–¹å¼æŸ¥çœ‹</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## 3.7 MongoDB æ›´æ–°æ–‡æ¡£</span><br><span class="line"></span><br><span class="line">- `MongoDB` ä½¿ç”¨ `update()` å’Œ `save()` æ–¹æ³•æ¥æ›´æ–°é›†åˆä¸­çš„æ–‡æ¡£</span><br><span class="line"></span><br><span class="line">## 3.7 update() æ–¹æ³•</span><br><span class="line"></span><br><span class="line">&gt; `update()` æ–¹æ³•ç”¨äºæ›´æ–°å·²å­˜åœ¨çš„æ–‡æ¡£ã€‚è¯­æ³•æ ¼å¼å¦‚ä¸‹</span><br><span class="line"></span><br><span class="line">- é€šè¿‡ `update()`æ–¹æ³•æ¥æ›´æ–°æ ‡é¢˜(`title`):</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>db.col.update({â€˜titleâ€™:â€™MongoDB å­¦ä¹ â€™},{$set:{â€˜titleâ€™:â€™MongoDBâ€™}})</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># å››ã€å¸¸ç”¨æŸ¥è¯¢è¯­å¥</span><br><span class="line"></span><br><span class="line">| mongo                                                       | sql                                                          | è¯´æ˜                                 |</span><br><span class="line">| :---------------------------------------------------------- | :----------------------------------------------------------- | :----------------------------------- |</span><br><span class="line">| `db.users.find()`                                           | `select * from users`                                        | ä»`user`è¡¨ä¸­æŸ¥è¯¢æ‰€æœ‰æ•°æ®             |</span><br><span class="line">| `db.users.find(&#123;â€œusernameâ€ : â€œjoeâ€, â€œageâ€ : 27&#125;)`           | `select * from users where â€œusernameâ€ = â€œjoeâ€ and age = 27`  | æŸ¥æ‰¾`username = joe`ä¸”`age = 27`çš„äºº |</span><br><span class="line">| `db.users.find(&#123;&#125;, &#123;â€œusernameâ€ : 1, â€œemailâ€ : 1&#125;)`          | `select username, email from users`                          | æŸ¥æ‰¾`username`,`email`è¿™`2`ä¸ªå­é¡¹    |</span><br><span class="line">| `db.users.find(&#123;â€œageâ€ : &#123;â€œ$gtâ€ : 18&#125;&#125;)`                     | `select * from users where age &gt;18`                          | æŸ¥æ‰¾`age &gt; 18`çš„ä¼šå‘˜                 |</span><br><span class="line">| `db.users.find(&#123;â€œageâ€ : &#123;â€œ$gteâ€ : 18&#125;&#125;)`                    | `select * from users where age &gt;=18`                         | æŸ¥æ‰¾`age &gt;= 18`çš„äºº                  |</span><br><span class="line">| `db.users.find(&#123;â€œageâ€ : &#123;â€œ$ltâ€ : 18&#125;&#125;)`                     | `select * from users where age &lt;18`                          | æŸ¥æ‰¾`age &lt; 18`çš„äºº                   |</span><br><span class="line">| `db.users.find(&#123;â€œageâ€ : &#123;â€œ$lteâ€ : 18&#125;&#125;)`                    | `select * from users where age &lt;=18`                         | æŸ¥æ‰¾`age &lt;= 18`çš„äºº                  |</span><br><span class="line">| `db.users.find(&#123;â€œusernameâ€ : &#123;â€œ$neâ€ : â€œjoeâ€&#125;&#125;)`             | `select * from users where username &lt;&gt; â€œjoeâ€`                | æŸ¥æ‰¾ `username != joe`çš„ä¼šå‘˜         |</span><br><span class="line">| `db.users.find(&#123;â€œticket_noâ€ : &#123;â€œ$inâ€ : [725, 542, 390]&#125;&#125;)`  | `select * from users where ticket_no in (725, 542, 390)`     | ç¬¦åˆ`tickt_no`åœ¨æ­¤èŒƒå›´çš„ç»“æœ         |</span><br><span class="line">| `db.users.find(&#123;â€œticket_noâ€ : &#123;â€œ$ninâ€ : [725, 542, 390]&#125;&#125;)` | `select * from users where ticket_no not in (725, 542, 390)` | ç¬¦åˆ`tickt_no`ä¸åœ¨æ­¤èŒƒå›´çš„ç»“æœ       |</span><br><span class="line">| `db.users.find(&#123;â€œnameâ€ : /joey^/&#125;)`                         | `select * from users where name like â€œjoey%â€`                | æŸ¥æ‰¾å‰`4`ä¸ªå­—ç¬¦ä¸º`joey`çš„äºº          |</span><br><span class="line"></span><br><span class="line"># äº”ã€MongoDBé“¾æ¥</span><br><span class="line"></span><br><span class="line">## 5.1 MongoDBé“¾æ¥express</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>const express &#x3D; require(â€˜expressâ€™);<br>const mongoose &#x3D; require(â€˜mongooseâ€™);<br>const app &#x3D; express();</p>
<p>&#x2F;&#x2F; è¿æ¥mongo å¹¶ä¸”ä½¿ç”¨Reactè¿™ä¸ªé›†åˆï¼Œæ²¡æœ‰å°±ä¼šæ–°å»º<br>const DB_URL &#x3D; â€˜mongodb:&#x2F;&#x2F;127.0.0.1:27017&#x2F;reactâ€™;<br>mongoose.connect(DB_URL);<br>mongoose.connection.on(â€˜connectedâ€™,()&#x3D;&gt;{<br>    console.log(â€˜mongo connect successâ€™);<br>})</p>
<p>&#x2F;&#x2F; ç±»ä¼¼äºMySQLçš„è¡¨ mongoé‡Œæœ‰æ–‡æ¡£ã€å­—æ®µçš„æ¦‚å¿µ</p>
<p>const User &#x3D; mongoose.model(â€˜userâ€™,new mongoose.Schema({<br>    user:{type:String,require:true},<br>    age:{type:Number,require:true}<br>}))</p>
<p>&#x2F;&#x2F;æ–°å¢æ•°æ®<br>&#x2F;&#x2F; User.create({<br>&#x2F;&#x2F;     user:â€™å°èƒ¡â€™,<br>&#x2F;&#x2F;     age:18<br>&#x2F;&#x2F; },(err,doc)&#x3D;&gt;{<br>&#x2F;&#x2F;     if(!err) {<br>&#x2F;&#x2F;         console.log(doc)<br>&#x2F;&#x2F;     } else {<br>&#x2F;&#x2F;         console.log(err)<br>&#x2F;&#x2F;     }<br>&#x2F;&#x2F; })</p>
<p>&#x2F;&#x2F; åˆ é™¤æ•°æ® {}è¿‡æ»¤å¯¹è±¡<br>&#x2F;&#x2F; User.remove({age:22},(err,doc)&#x3D;&gt;{<br>&#x2F;&#x2F;     console.log(doc)<br>&#x2F;&#x2F; })<br>&#x2F;&#x2F; æ›´æ–°<br>User.update({â€˜userâ€™:â€™å°æ˜â€™},{â€˜$setâ€™:{age:30}},(err,doc)&#x3D;&gt;{<br>    console.log(doc)<br>})<br>app.get(â€˜&#x2F;â€˜,(req,res)&#x3D;&gt;{<br>    res.send(â€˜<h1>Hello word!</h1>â€˜)<br>})<br>app.get(â€˜&#x2F;dataâ€™,(req,res)&#x3D;&gt;{<br>    &#x2F;&#x2F; findOne åªè¿”å›ä¸€æ¡ï¼Œè¿”å›å¯¹è±¡ç›´æ¥ä½¿ç”¨ï¼Œè€Œä¸æ˜¯è¿”å›æ•°ç»„<br>    User.findOne({â€˜userâ€™:â€™å°æ˜â€™},(err,doc)&#x3D;&gt;{<br>        res.json(doc)<br>    })<br>})</p>
<p>app.listen(9000,()&#x3D;&gt;{<br>    console.log(â€˜Node app listen 9000â€™)<br>})<br>&#96;&#96;&#96;</p>

        
    </article>
    <footer class="cube-excerpt-footer">
        <a class="cube-excerpt-more" href="/2019/04/07/%E6%95%B0%E6%8D%AE%E5%BA%93/MongoDB/">Read More</a>
    </footer>
</div>

<div class="cube-excerpt" id="cube-excerpt-mysql">
    <header class="cube-excerpt-header">
        <h1><a href="/2019/03/15/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/">mysql</a></h1>
        <div class="cube-excerpt-header-msg">
            <div class="cube-excerpt-date">
                <i class="cube-icon cube-icon-date" aria-hidden="true"></i>
                2019-03-15
            </div>
            <div class="cube-excerpt-tags">
                <i class="cube-icon cube-icon-tag" aria-hidden="true"></i>
                
                <a href="/tags/mysql/" class="cube-excerpt-tag-link">#mysql</a>
                
            </div>
        </div>
    </header>
    <article class="cube-excerpt-entry cube-markdown">
        
        
           <blockquote>
<p>å¥½ä¹…æ²¡ç”¨<code>sql</code>ï¼Œéƒ½å¿˜å¾—å¹²å¹²å‡€å‡€ï¼Œç¿»é˜…ä»¥å‰çš„å­¦ä¹ ç¬”è®°ï¼Œè§‰å¾—æœ‰äº›å¯è®°å½•çš„ç‚¹ï¼Œæ”¾åœ¨è¿™é‡Œä»¥ä¾¿å¤‡ç”¨æŸ¥é˜…</p>
</blockquote>
<h2 id="ä¸€ã€ç¯å¢ƒæ­å»º"><a href="#ä¸€ã€ç¯å¢ƒæ­å»º" class="headerlink" title="ä¸€ã€ç¯å¢ƒæ­å»º"></a>ä¸€ã€ç¯å¢ƒæ­å»º</h2><blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mac`å®‰è£…`MySQL</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install mysql</span><br></pre></td></tr></table></figure>

<p><img src="https://poetries1.gitee.io/img-repo/2019/10/355.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># å¯åŠ¨</span><br><span class="line"></span><br><span class="line">mysql.server start</span><br><span class="line">#ç™»å½•</span><br><span class="line">mysql -uroot</span><br></pre></td></tr></table></figure>

<h2 id="äºŒã€åŸºç¡€çŸ¥è¯†"><a href="#äºŒã€åŸºç¡€çŸ¥è¯†" class="headerlink" title="äºŒã€åŸºç¡€çŸ¥è¯†"></a>äºŒã€åŸºç¡€çŸ¥è¯†</h2><h3 id="1ã€æ•°æ®åº“çš„è¿æ¥"><a href="#1ã€æ•°æ®åº“çš„è¿æ¥" class="headerlink" title="1ã€æ•°æ®åº“çš„è¿æ¥"></a>1ã€æ•°æ®åº“çš„è¿æ¥</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ä¾‹å­</span><br><span class="line">mysql -u root -p 123456 -h 127.0.0.1</span><br></pre></td></tr></table></figure>

<ul>
<li><code>-u</code> ç”¨æˆ·å</li>
<li><code>-p</code> å¯†ç </li>
<li><code>-h</code> <code>host</code>ä¸»æœº</li>
</ul>
<h3 id="2ã€åº“çº§çŸ¥è¯†"><a href="#2ã€åº“çº§çŸ¥è¯†" class="headerlink" title="2ã€åº“çº§çŸ¥è¯†"></a>2ã€åº“çº§çŸ¥è¯†</h3><blockquote>
<p>å‘½ä»¤åé¢åŠ ä¸Šåˆ†å·</p>
</blockquote>
<ul>
<li>æ˜¾ç¤ºæ•°æ®åº“: <code>show databases;</code></li>
<li>é€‰æ‹©æ•°æ®åº“: <code>use dbname;</code></li>
<li>åˆ›å»ºæ•°æ®åº“: <code>create database dbname charset utf8;</code></li>
<li>åˆ é™¤æ•°æ®åº“: <code>drop database dbname;</code></li>
</ul>
<h3 id="3ã€è¡¨çº§æ“ä½œ"><a href="#3ã€è¡¨çº§æ“ä½œ" class="headerlink" title="3ã€è¡¨çº§æ“ä½œ"></a>3ã€è¡¨çº§æ“ä½œ</h3><h4 id="3-1-æ˜¾ç¤ºåº“ä¸‹é¢çš„è¡¨"><a href="#3-1-æ˜¾ç¤ºåº“ä¸‹é¢çš„è¡¨" class="headerlink" title="3.1 æ˜¾ç¤ºåº“ä¸‹é¢çš„è¡¨"></a>3.1 æ˜¾ç¤ºåº“ä¸‹é¢çš„è¡¨</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show tables;</span><br></pre></td></tr></table></figure>

<h4 id="3-2-æŸ¥çœ‹è¡¨çš„ç»“æ„"><a href="#3-2-æŸ¥çœ‹è¡¨çš„ç»“æ„" class="headerlink" title="3.2 æŸ¥çœ‹è¡¨çš„ç»“æ„"></a>3.2 æŸ¥çœ‹è¡¨çš„ç»“æ„</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">desc tableName;</span><br></pre></td></tr></table></figure>

<h4 id="3-3-æŸ¥çœ‹è¡¨çš„åˆ›å»ºè¿‡ç¨‹"><a href="#3-3-æŸ¥çœ‹è¡¨çš„åˆ›å»ºè¿‡ç¨‹" class="headerlink" title="3.3 æŸ¥çœ‹è¡¨çš„åˆ›å»ºè¿‡ç¨‹:"></a>3.3 æŸ¥çœ‹è¡¨çš„åˆ›å»ºè¿‡ç¨‹:</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show create table  tableName;</span><br></pre></td></tr></table></figure>

<h4 id="3-4-åˆ›å»ºè¡¨"><a href="#3-4-åˆ›å»ºè¡¨" class="headerlink" title="3.4 åˆ›å»ºè¡¨"></a>3.4 åˆ›å»ºè¡¨</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">create table tbName (</span><br><span class="line">åˆ—åç§°1ã€€åˆ—ç±»å‹ã€€[åˆ—å‚æ•°]ã€€[not null default ],</span><br><span class="line">åˆ—åç§°Nã€€åˆ—ç±»å‹ã€€[åˆ—å‚æ•°]ã€€[not null default ]</span><br><span class="line">) engine myisam/innodb charset utf8/gbk</span><br></pre></td></tr></table></figure>

<p><strong>ä¾‹å­</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">create table user (</span><br><span class="line">    id    int         auto_increment,</span><br><span class="line">    name  varchar(20) not null default &#x27;&#x27;,</span><br><span class="line">    age   tinyint unsigned not null default 0,</span><br><span class="line">    index id (id)</span><br><span class="line">)engine=innodb charset=utf8;</span><br><span class="line"></span><br><span class="line"># æ³¨:innodbæ˜¯è¡¨å¼•æ“,ä¹Ÿå¯ä»¥æ˜¯myisamæˆ–å…¶ä»–,ä½†æœ€å¸¸ç”¨çš„æ˜¯myisamå’Œinnodb,</span><br><span class="line"># charset å¸¸ç”¨çš„æœ‰utf8,gbk;</span><br></pre></td></tr></table></figure>

<h4 id="3-5-ä¿®æ”¹è¡¨"><a href="#3-5-ä¿®æ”¹è¡¨" class="headerlink" title="3.5 ä¿®æ”¹è¡¨"></a>3.5 ä¿®æ”¹è¡¨</h4><p><strong>3.5.1 ä¿®æ”¹è¡¨ä¹‹å¢åŠ åˆ—</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alter table tbName add åˆ—åç§°ï¼‘ã€€åˆ—ç±»å‹ã€€[åˆ—å‚æ•°]ã€€[not null default ]ã€€</span><br><span class="line"></span><br><span class="line">#(addä¹‹åçš„æ—§åˆ—åä¹‹åçš„è¯­æ³•å’Œåˆ›å»ºè¡¨æ—¶çš„åˆ—å£°æ˜ä¸€æ ·)</span><br></pre></td></tr></table></figure>

<p><strong>3.5.2 ä¿®æ”¹è¡¨ä¹‹ä¿®æ”¹åˆ—</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alter table tbName change æ—§åˆ—å  æ–°åˆ—å  åˆ—ç±»å‹ã€€[åˆ—å‚æ•°]ã€€[not null default ]</span><br><span class="line"></span><br><span class="line"># (æ³¨:æ—§åˆ—åä¹‹åçš„è¯­æ³•å’Œåˆ›å»ºè¡¨æ—¶çš„åˆ—å£°æ˜ä¸€æ ·)</span><br></pre></td></tr></table></figure>

<p><strong>3.5.3 ä¿®æ”¹è¡¨ä¹‹å‡å°‘åˆ—</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table tbName drop åˆ—åç§°;</span><br></pre></td></tr></table></figure>

<p><strong>3.5.4 ä¿®æ”¹è¡¨ä¹‹å¢åŠ ä¸»é”®</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table tbName add primary key(ä¸»é”®æ‰€åœ¨åˆ—å);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¾‹:<code>alter table goods add primary key(id)</code> è¯¥ä¾‹æ˜¯æŠŠä¸»é”®å»ºç«‹åœ¨<code>id</code>åˆ—ä¸Š</p>
</blockquote>
<p><strong>3.5.5 ä¿®æ”¹è¡¨ä¹‹åˆ é™¤ä¸»é”®</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table tbNameã€€drop primary key;</span><br></pre></td></tr></table></figure>

<p><strong>3.5.6 ä¿®æ”¹è¡¨ä¹‹å¢åŠ ç´¢å¼•</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table tbName add [unique|fulltext] index ç´¢å¼•å(åˆ—å);</span><br></pre></td></tr></table></figure>

<p><strong>3.5.7 ä¿®æ”¹è¡¨ä¹‹åˆ é™¤ç´¢å¼•</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table tbName drop index ç´¢å¼•å;</span><br></pre></td></tr></table></figure>

<p><strong>3.5.8 æ¸…ç©ºè¡¨çš„æ•°æ®</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">truncate tableName;</span><br></pre></td></tr></table></figure>

<h3 id="4ã€åˆ—ç±»å‹è®²è§£"><a href="#4ã€åˆ—ç±»å‹è®²è§£" class="headerlink" title="4ã€åˆ—ç±»å‹è®²è§£"></a>4ã€åˆ—ç±»å‹è®²è§£</h3><h4 id="4-1-åˆ—ç±»å‹"><a href="#4-1-åˆ—ç±»å‹" class="headerlink" title="4.1 åˆ—ç±»å‹"></a>4.1 åˆ—ç±»å‹</h4><ul>
<li><code>tinyint (0~255/-128~127)</code></li>
<li><code>smallint (0~65535/-32768~32767)</code></li>
<li><code>mediumint</code></li>
<li><code>int</code></li>
<li><code>bigint</code></li>
</ul>
<p><strong>å‚æ•°è§£é‡Š</strong></p>
<blockquote>
<p><code>unsigned</code> æ— ç¬¦å·(ä¸èƒ½ä¸ºè´Ÿ) <code>zerofill 0</code>å¡«å…… <code>M</code> å¡«å……åçš„å®½åº¦</p>
</blockquote>
<ul>
<li>ä¸¾ä¾‹:</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tinyint unsigned;</span><br><span class="line">tinyint(6) zerofill;</span><br></pre></td></tr></table></figure>

<h4 id="4-2-æ•°å€¼å‹"><a href="#4-2-æ•°å€¼å‹" class="headerlink" title="4.2 æ•°å€¼å‹"></a>4.2 æ•°å€¼å‹</h4><ul>
<li>æµ®ç‚¹å‹:<code>float</code> <code>double</code></li>
<li>æ ¼å¼:<code>float(M,D)</code> <code>unsigned\zerofill;</code></li>
</ul>
<h4 id="4-3-å­—ç¬¦å‹"><a href="#4-3-å­—ç¬¦å‹" class="headerlink" title="4.3 å­—ç¬¦å‹"></a>4.3 å­—ç¬¦å‹</h4><ul>
<li><code>char(m)</code> å®šé•¿</li>
<li><code>varchar(m)</code>å˜é•¿</li>
<li><code>text</code></li>
</ul>
<table>
<thead>
<tr>
<th align="left">åˆ—</th>
<th align="left">å®å­˜å­—ç¬¦i</th>
<th align="left">å®å ç©ºé—´</th>
<th align="left">åˆ©ç”¨ç‡</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>char(M)</code></td>
<td align="left"><code>0&lt;=i&lt;=M</code></td>
<td align="left"><code>M</code></td>
<td align="left"><code>i/m&lt;=100%</code></td>
</tr>
<tr>
<td align="left"><code>varchar(M)</code></td>
<td align="left"><code>0&lt;=i&lt;=M</code></td>
<td align="left"><code>i+1,2</code></td>
<td align="left"><code>i/i+1/2&lt;100%</code></td>
</tr>
</tbody></table>
<h4 id="4-4-æ—¥æœŸæ—¶é—´ç±»å‹"><a href="#4-4-æ—¥æœŸæ—¶é—´ç±»å‹" class="headerlink" title="4.4 æ—¥æœŸæ—¶é—´ç±»å‹"></a>4.4 æ—¥æœŸæ—¶é—´ç±»å‹</h4><ul>
<li><code>year</code> <code>YYYY</code> èŒƒå›´:<code>1901~2155</code>. å¯è¾“å…¥å€¼<code>2</code>ä½å’Œ<code>4</code>ä½(å¦‚<code>98</code>,<code>2012</code>)</li>
<li><code>date</code> <code>YYYY-MM-DD</code> å¦‚:<code>2010-03-14</code></li>
<li><code>time</code> <code>HH:MM:SS</code> å¦‚:<code>19:26:32</code></li>
<li><code>datetime</code> <code>YYYY-MM-DD</code> <code>HH:MM:SS</code> å¦‚:<code>2010-03-14 19:26:32</code></li>
<li><code>timestamp</code> <code>YYYY-MM-DD</code> <code>HH:MM:SS</code></li>
</ul>
<blockquote>
<p>ç‰¹æ€§:ä¸ç”¨èµ‹å€¼,è¯¥åˆ—ä¼šä¸ºè‡ªå·±èµ‹å½“å‰çš„å…·ä½“æ—¶é—´</p>
</blockquote>
<h3 id="5ã€å¢åˆ æ”¹æŸ¥åŸºæœ¬æ“ä½œ"><a href="#5ã€å¢åˆ æ”¹æŸ¥åŸºæœ¬æ“ä½œ" class="headerlink" title="5ã€å¢åˆ æ”¹æŸ¥åŸºæœ¬æ“ä½œ"></a>5ã€å¢åˆ æ”¹æŸ¥åŸºæœ¬æ“ä½œ</h3><h4 id="5-1-æ’å…¥æ•°æ®"><a href="#5-1-æ’å…¥æ•°æ®" class="headerlink" title="5.1 æ’å…¥æ•°æ®"></a>5.1 æ’å…¥æ•°æ®</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">insert into è¡¨å(col1,col2,â€¦â€¦) values(val1,val2â€¦â€¦); # -- æ’å…¥æŒ‡å®šåˆ—</span><br><span class="line"></span><br><span class="line">insert into è¡¨å values (,,,,); # -- æ’å…¥æ‰€æœ‰åˆ—</span><br><span class="line"></span><br><span class="line">insert into è¡¨å values	# -- ä¸€æ¬¡æ’å…¥å¤šè¡Œ </span><br><span class="line">(val1,val2â€¦â€¦),</span><br><span class="line">(val1,val2â€¦â€¦),</span><br><span class="line">(val1,val2â€¦â€¦);</span><br></pre></td></tr></table></figure>

<h4 id="5-2-ä¿®æ”¹æ•°æ®"><a href="#5-2-ä¿®æ”¹æ•°æ®" class="headerlink" title="5.2 ä¿®æ”¹æ•°æ®"></a>5.2 ä¿®æ”¹æ•°æ®</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">update tablename </span><br><span class="line"></span><br><span class="line">set </span><br><span class="line"></span><br><span class="line">col1=newval1,  </span><br><span class="line">col2=newval2,</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">colN=newvalN</span><br><span class="line">where æ¡ä»¶;</span><br></pre></td></tr></table></figure>

<h4 id="5-3-åˆ é™¤æ•°æ®"><a href="#5-3-åˆ é™¤æ•°æ®" class="headerlink" title="5.3 åˆ é™¤æ•°æ®"></a>5.3 åˆ é™¤æ•°æ®</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete from tablenaeme where æ¡ä»¶;</span><br></pre></td></tr></table></figure>

<h4 id="5-4-select-æŸ¥è¯¢"><a href="#5-4-select-æŸ¥è¯¢" class="headerlink" title="5.4 select æŸ¥è¯¢"></a>5.4 select æŸ¥è¯¢</h4><ol>
<li>æ¡ä»¶æŸ¥è¯¢ <code>where</code></li>
</ol>
<ul>
<li>æ¡ä»¶è¡¨è¾¾å¼çš„æ„ä¹‰ï¼Œè¡¨è¾¾å¼ä¸ºçœŸï¼Œåˆ™è¯¥è¡Œå–å‡º</li>
<li>æ¯”è¾ƒè¿ç®—ç¬¦ <code>=</code> ï¼Œ<code>!=</code>ï¼Œ<code>&lt; &gt;</code> <code>&lt;=</code> <code>&gt;=</code></li>
<li><code>like</code> , <code>not like</code> (â€˜<code>%</code>â€˜åŒ¹é…ä»»æ„å¤šä¸ªå­—ç¬¦,â€™<code>_</code>â€˜åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦) <code>in</code>, <code>not in</code> , <code>between and</code></li>
<li><code>is null</code> , <code>is not null</code></li>
</ul>
<ol>
<li>åˆ†ç»„ <code>group by</code> ä¸€èˆ¬è¦é…åˆ<code>5</code>ä¸ªèšåˆå‡½æ•°ä½¿ç”¨ <code>max</code>, <code>min</code>, <code>sum</code>, <code>avg</code>, <code>count</code></li>
<li>ç­›é€‰<code>having</code></li>
<li>æ’åº<code>order by</code></li>
<li>é™åˆ¶<code>limit</code></li>
</ol>
<h3 id="6ã€è¿æ¥æŸ¥è¯¢"><a href="#6ã€è¿æ¥æŸ¥è¯¢" class="headerlink" title="6ã€è¿æ¥æŸ¥è¯¢"></a>6ã€è¿æ¥æŸ¥è¯¢</h3><h4 id="6-1-å·¦è¿æ¥"><a href="#6-1-å·¦è¿æ¥" class="headerlink" title="6.1 å·¦è¿æ¥"></a>6.1 å·¦è¿æ¥</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.. left join .. on</span><br><span class="line">table A left join table B on tableA.col1 = tableB.col2 ;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¾‹å¥:</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select åˆ—å from table A left join table B on tableA.col1 = tableB.col2</span><br></pre></td></tr></table></figure>

<h4 id="6-2-å³é“¾æ¥"><a href="#6-2-å³é“¾æ¥" class="headerlink" title="6.2 å³é“¾æ¥"></a>6.2 å³é“¾æ¥</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">right join</span><br></pre></td></tr></table></figure>

<h4 id="6-3-å†…è¿æ¥"><a href="#6-3-å†…è¿æ¥" class="headerlink" title="6.3 å†…è¿æ¥"></a>6.3 å†…è¿æ¥</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">inner join</span><br></pre></td></tr></table></figure>

<ul>
<li>å·¦å³è¿æ¥éƒ½æ˜¯ä»¥åœ¨å·¦è¾¹çš„è¡¨çš„æ•°æ®ä¸ºå‡†,æ²¿ç€å·¦è¡¨æŸ¥å³è¡¨.</li>
<li>å†…è¿æ¥æ˜¯ä»¥ä¸¤å¼ è¡¨éƒ½æœ‰çš„å…±åŒéƒ¨åˆ†æ•°æ®ä¸ºå‡†,ä¹Ÿå°±æ˜¯å·¦å³è¿æ¥çš„æ•°æ®ä¹‹äº¤é›†</li>
</ul>
<h3 id="7ã€å­æŸ¥è¯¢"><a href="#7ã€å­æŸ¥è¯¢" class="headerlink" title="7ã€å­æŸ¥è¯¢"></a>7ã€å­æŸ¥è¯¢</h3><blockquote>
<p><code>where</code> å‹å­æŸ¥è¯¢:å†…å±‚<code>sql</code>çš„è¿”å›å€¼åœ¨<code>where</code>åä½œä¸ºæ¡ä»¶è¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># ä¾‹å¥: select * from tableA where colA = (select colB from tableB where ...);</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>from</code> å‹å­æŸ¥è¯¢:å†…å±‚<code>sql</code>æŸ¥è¯¢ç»“æœ,ä½œä¸ºä¸€å¼ è¡¨,ä¾›å¤–å±‚çš„<code>sql</code>è¯­å¥å†æ¬¡æŸ¥è¯¢</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä¾‹å¥:select * from (select * from ...) as tableName where ....</span><br></pre></td></tr></table></figure>

<h3 id="8ã€å­—ç¬¦é›†"><a href="#8ã€å­—ç¬¦é›†" class="headerlink" title="8ã€å­—ç¬¦é›†"></a>8ã€å­—ç¬¦é›†</h3><ul>
<li>å®¢æˆ·ç«¯<code>sql</code>ç¼–ç  <code>character_set_client</code></li>
<li>æœåŠ¡å™¨è½¬åŒ–åçš„<code>sql</code>ç¼–ç  <code>character_set_connection</code></li>
<li>æœåŠ¡å™¨è¿”å›ç»™å®¢æˆ·ç«¯çš„ç»“æœé›†ç¼–ç <code>character_set_results</code></li>
<li>å¿«é€ŸæŠŠä»¥ä¸Š<code>3</code>ä¸ªå˜é‡è®¾ä¸ºç›¸åŒå€¼: <code>set names</code> å­—ç¬¦é›†</li>
</ul>
<p><strong>å­˜å‚¨å¼•æ“ engine&#x3D;1\2</strong></p>
<ul>
<li><code>Myisam</code> é€Ÿåº¦å¿« ä¸æ”¯æŒäº‹åŠ¡ å›æ»š</li>
<li><code>Innodb</code> é€Ÿåº¦æ…¢ æ”¯æŒäº‹åŠ¡,å›æ»š</li>
</ul>
<p><strong>äº‹åŠ¡</strong></p>
<ul>
<li>å¼€å¯äº‹åŠ¡ <code>start transaction</code></li>
<li>è¿è¡Œ<code>sql;</code></li>
<li>æäº¤,åŒæ—¶ç”Ÿæ•ˆ\å›æ»š <code>commit\rollback</code></li>
</ul>
<p><strong>è§¦å‘å™¨</strong></p>
<ul>
<li>è§¦å‘å™¨ <code>trigger</code></li>
<li>ç›‘è§†åœ°ç‚¹:è¡¨</li>
<li>ç›‘è§†è¡Œä¸º:å¢ åˆ  æ”¹</li>
<li>è§¦å‘æ—¶é—´:<code>after\before</code></li>
<li>è§¦å‘äº‹ä»¶:å¢åˆ æ”¹</li>
</ul>
<p><strong>åˆ›å»ºè§¦å‘å™¨è¯­æ³•</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">create trigger tgName</span><br><span class="line">after/before insert/delete/update </span><br><span class="line">on tableName</span><br><span class="line">for each row</span><br><span class="line">sql; # -- è§¦å‘è¯­å¥</span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ é™¤è§¦å‘å™¨:</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop trigger tgName;</span><br></pre></td></tr></table></figure>

<p><strong>ç´¢å¼•</strong></p>
<ul>
<li>æé«˜æŸ¥è¯¢é€Ÿåº¦,ä½†æ˜¯é™ä½äº†å¢åˆ æ”¹çš„é€Ÿåº¦,æ‰€ä»¥ä½¿ç”¨ç´¢å¼•æ—¶,è¦ç»¼åˆè€ƒè™‘.</li>
<li>ç´¢å¼•ä¸æ˜¯è¶Šå¤šè¶Šå¥½,ä¸€èˆ¬æˆ‘ä»¬åœ¨å¸¸å‡ºç°äºæ¡ä»¶è¡¨è¾¾å¼ä¸­çš„åˆ—åŠ ç´¢å¼•.</li>
<li>å€¼è¶Šåˆ†æ•£çš„åˆ—ï¼Œç´¢å¼•çš„æ•ˆæœè¶Šå¥½</li>
</ul>
<p><strong>ç´¢å¼•ç±»å‹</strong></p>
<ul>
<li><code>primary key</code>ä¸»é”®ç´¢å¼•</li>
<li><code>index</code> æ™®é€šç´¢å¼•</li>
<li><code>unique index</code> å”¯ä¸€æ€§ç´¢å¼•</li>
<li><code>fulltext index</code> å…¨æ–‡ç´¢å¼•</li>
</ul>
<p><strong>ç»¼åˆç»ƒä¹ :</strong></p>
<ul>
<li>è¿æ¥ä¸Šæ•°æ®åº“æœåŠ¡å™¨</li>
<li>åˆ›å»ºä¸€ä¸ª<code>gbk</code>ç¼–ç çš„æ•°æ®åº“</li>
<li>å»ºç«‹å•†å“è¡¨å’Œæ ç›®è¡¨,å­—æ®µå¦‚ä¸‹:</li>
</ul>
<p><strong>å•†å“è¡¨:goods</strong></p>
<ul>
<li><code>goods_id</code>ã€€â€“ä¸»é”®,</li>
<li><code>goods_name</code> â€“ å•†å“åç§°</li>
<li><code>cat_id</code> â€“ æ ç›®<code>id</code></li>
<li><code>brand_id</code> â€“ å“ç‰Œ<code>id</code></li>
<li><code>goods_sn</code> â€“ è´§å·</li>
<li><code>goods_number</code> â€“ åº“å­˜é‡</li>
<li><code>shop_price</code> â€“ ä»·æ ¼</li>
<li><code>goods_desc</code>ã€€â€“å•†å“è¯¦ç»†æè¿°</li>
</ul>
<p><strong>æ ç›®è¡¨:category</strong></p>
<ul>
<li>cat_id â€“ä¸»é”®</li>
<li>cat_name â€“ æ ç›®åç§°</li>
<li>parent_id â€“ æ ç›®çš„çˆ¶id</li>
</ul>
<blockquote>
<p>å»ºè¡¨å®Œæˆå,ä½œä»¥ä¸‹æ“ä½œ:</p>
</blockquote>
<ul>
<li>åˆ é™¤goodsè¡¨çš„goods_desc å­—æ®µ,åŠè´§å·å­—æ®µ</li>
<li>å¹¶å¢åŠ å­—æ®µ:click_count â€“ ç‚¹å‡»é‡</li>
<li>åœ¨goods_nameåˆ—ä¸ŠåŠ å”¯ä¸€æ€§ç´¢å¼•</li>
<li>åœ¨shop_priceåˆ—ä¸ŠåŠ æ™®é€šç´¢å¼•</li>
<li>åœ¨clcik_countåˆ—ä¸ŠåŠ æ™®é€šç´¢å¼•</li>
<li>åˆ é™¤click_countåˆ—ä¸Šçš„ç´¢å¼•</li>
</ul>
<p><strong>å¯¹goodsè¡¨æ’å…¥ä»¥ä¸‹æ•°æ®:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">+----------+------------------------------+--------+----------+-----------+--------------+------------+-------------+</span><br><span class="line">| goods_id | goods_name                   | cat_id | brand_id | goods_sn  | goods_number | shop_price | click_count |</span><br><span class="line">+----------+------------------------------+--------+----------+-----------+--------------+------------+-------------+</span><br><span class="line">|        1 | KD876                        |      4 |        8 | ECS000000 |           10 |    1388.00 |           7 |</span><br><span class="line">|        4 | è¯ºåŸºäºšN85åŸè£…å……ç”µå™¨          |      8 |        1 | ECS000004 |           17 |      58.00 |           0 |</span><br><span class="line">|        3 | è¯ºåŸºäºšåŸè£…5800è€³æœº           |      8 |        1 | ECS000002 |           24 |      68.00 |           3 |</span><br><span class="line">|        5 | ç´¢çˆ±åŸè£…M2å¡è¯»å¡å™¨           |     11 |        7 | ECS000005 |            8 |      20.00 |           3 |</span><br><span class="line">|        6 | èƒœåˆ›KINGMAXå†…å­˜å¡            |     11 |        0 | ECS000006 |           15 |      42.00 |           0 |</span><br><span class="line">|        7 | è¯ºåŸºäºšN85åŸè£…ç«‹ä½“å£°è€³æœºHS-82 |      8 |        1 | ECS000007 |           20 |     100.00 |           0 |</span><br><span class="line">|        8 | é£åˆ©æµ¦9@9v                   |      3 |        4 | ECS000008 |           17 |     399.00 |           9 |</span><br><span class="line">|        9 | è¯ºåŸºäºšE66                    |      3 |        1 | ECS000009 |           13 |    2298.00 |          20 |</span><br><span class="line">|       10 | ç´¢çˆ±C702c                    |      3 |        7 | ECS000010 |            7 |    1328.00 |          11 |</span><br><span class="line">|       11 | ç´¢çˆ±C702c                    |      3 |        7 | ECS000011 |            1 |    1300.00 |           0 |</span><br><span class="line">|       12 | æ‘©æ‰˜ç½—æ‹‰A810                 |      3 |        2 | ECS000012 |            8 |     983.00 |          14 |</span><br><span class="line">|       13 | è¯ºåŸºäºš5320 XpressMusic       |      3 |        1 | ECS000013 |            8 |    1311.00 |          13 |</span><br><span class="line">|       14 | è¯ºåŸºäºš5800XM                 |      4 |        1 | ECS000014 |            4 |    2625.00 |           6 |</span><br><span class="line">|       15 | æ‘©æ‰˜ç½—æ‹‰A810                 |      3 |        2 | ECS000015 |            3 |     788.00 |           8 |</span><br><span class="line">|       16 | æ’åŸºä¼Ÿä¸šG101                 |      2 |       11 | ECS000016 |            0 |     823.33 |           3 |</span><br><span class="line">|       17 | å¤æ–°N7                       |      3 |        5 | ECS000017 |            1 |    2300.00 |           2 |</span><br><span class="line">|       18 | å¤æ–°T5                       |      4 |        5 | ECS000018 |            1 |    2878.00 |           0 |</span><br><span class="line">|       19 | ä¸‰æ˜ŸSGH-F258                 |      3 |        6 | ECS000019 |            0 |     858.00 |           7 |</span><br><span class="line">|       20 | ä¸‰æ˜ŸBC01                     |      3 |        6 | ECS000020 |           13 |     280.00 |          14 |</span><br><span class="line">|       21 | é‡‘ç«‹ A30                     |      3 |       10 | ECS000021 |           40 |    2000.00 |           4 |</span><br><span class="line">|       22 | å¤šæ™®è¾¾Touch HD               |      3 |        3 | ECS000022 |            0 |    5999.00 |          15 |</span><br><span class="line">|       23 | è¯ºåŸºäºšN96                    |      5 |        1 | ECS000023 |            8 |    3700.00 |          17 |</span><br><span class="line">|       24 | P806                         |      3 |        9 | ECS000024 |          148 |    2000.00 |          36 |</span><br><span class="line">|       25 | å°çµé€š/å›ºè¯50å…ƒå……å€¼å¡        |     13 |        0 | ECS000025 |            2 |      48.00 |           0 |</span><br><span class="line">|       26 | å°çµé€š/å›ºè¯20å…ƒå……å€¼å¡        |     13 |        0 | ECS000026 |            2 |      19.00 |           0 |</span><br><span class="line">|       27 | è”é€š100å…ƒå……å€¼å¡              |     15 |        0 | ECS000027 |            2 |      95.00 |           0 |</span><br><span class="line">|       28 | è”é€š50å…ƒå……å€¼å¡               |     15 |        0 | ECS000028 |            0 |      45.00 |           0 |</span><br><span class="line">|       29 | ç§»åŠ¨100å…ƒå……å€¼å¡              |     14 |        0 | ECS000029 |            0 |      90.00 |           0 |</span><br><span class="line">|       30 | ç§»åŠ¨20å…ƒå……å€¼å¡               |     14 |        0 | ECS000030 |            9 |      18.00 |           1 |</span><br><span class="line">|       31 | æ‘©æ‰˜ç½—æ‹‰E8                   |      3 |        2 | ECS000031 |            1 |    1337.00 |           5 |</span><br><span class="line">|       32 | è¯ºåŸºäºšN85                    |      3 |        1 | ECS000032 |            1 |    3010.00 |           9 |</span><br><span class="line">+----------+------------------------------+--------+----------+-----------+--------------+------------+-------------+</span><br></pre></td></tr></table></figure>

<h2 id="ä¸‰ã€æŸ¥è¯¢çŸ¥è¯†"><a href="#ä¸‰ã€æŸ¥è¯¢çŸ¥è¯†" class="headerlink" title="ä¸‰ã€æŸ¥è¯¢çŸ¥è¯†"></a>ä¸‰ã€æŸ¥è¯¢çŸ¥è¯†</h2><blockquote>
<p>æ³¨:ä»¥ä¸‹æŸ¥è¯¢åŸºäº<code>ecshop</code>ç½‘ç«™çš„å•†å“è¡¨(<code>ecs_goods</code>)</p>
</blockquote>
<blockquote>
<p>åœ¨ç»ƒä¹ æ—¶å¯ä»¥åªå–éƒ¨åˆ†åˆ—,æ–¹ä¾¿æŸ¥çœ‹.</p>
</blockquote>
<h3 id="3-1-åŸºç¡€æŸ¥è¯¢-whereçš„ç»ƒä¹ "><a href="#3-1-åŸºç¡€æŸ¥è¯¢-whereçš„ç»ƒä¹ " class="headerlink" title="3.1 åŸºç¡€æŸ¥è¯¢ whereçš„ç»ƒä¹ "></a>3.1 åŸºç¡€æŸ¥è¯¢ whereçš„ç»ƒä¹ </h3><blockquote>
<p>æŸ¥å‡ºæ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„å•†å“</p>
</blockquote>
<h4 id="3-1-1-ä¸»é”®ä¸º32çš„å•†å“"><a href="#3-1-1-ä¸»é”®ä¸º32çš„å•†å“" class="headerlink" title="3.1.1 ä¸»é”®ä¸º32çš„å•†å“"></a>3.1.1 ä¸»é”®ä¸º32çš„å•†å“</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,goods_name,shop_price </span><br><span class="line">     from ecs_goods</span><br><span class="line">     where goods_id=32;</span><br></pre></td></tr></table></figure>

<h4 id="3-1-2-ä¸å±ç¬¬3æ ç›®çš„æ‰€æœ‰å•†å“"><a href="#3-1-2-ä¸å±ç¬¬3æ ç›®çš„æ‰€æœ‰å•†å“" class="headerlink" title="3.1.2 ä¸å±ç¬¬3æ ç›®çš„æ‰€æœ‰å•†å“"></a>3.1.2 ä¸å±ç¬¬3æ ç›®çš„æ‰€æœ‰å•†å“</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,cat_id,goods_name,shop_price  from ecs_goods</span><br><span class="line">     where cat_id!=3;</span><br></pre></td></tr></table></figure>

<h4 id="3-1-3-æœ¬åº—ä»·æ ¼é«˜äº3000å…ƒçš„å•†å“"><a href="#3-1-3-æœ¬åº—ä»·æ ¼é«˜äº3000å…ƒçš„å•†å“" class="headerlink" title="3.1.3 æœ¬åº—ä»·æ ¼é«˜äº3000å…ƒçš„å•†å“"></a>3.1.3 æœ¬åº—ä»·æ ¼é«˜äº3000å…ƒçš„å•†å“</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,cat_id,goods_name,shop_price  from ecs_goods</span><br><span class="line">     where shop_price &gt;3000;</span><br></pre></td></tr></table></figure>

<h4 id="3-1-4-æœ¬åº—ä»·æ ¼ä½äºæˆ–ç­‰äº100å…ƒçš„å•†å“"><a href="#3-1-4-æœ¬åº—ä»·æ ¼ä½äºæˆ–ç­‰äº100å…ƒçš„å•†å“" class="headerlink" title="3.1.4 æœ¬åº—ä»·æ ¼ä½äºæˆ–ç­‰äº100å…ƒçš„å•†å“"></a>3.1.4 æœ¬åº—ä»·æ ¼ä½äºæˆ–ç­‰äº100å…ƒçš„å•†å“</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,cat_id,goods_name,shop_price  from ecs_goods where shop_price &lt;=100;</span><br></pre></td></tr></table></figure>

<h4 id="3-1-5-å–å‡ºç¬¬4æ ç›®æˆ–ç¬¬11æ ç›®çš„å•†å“-ä¸è®¸ç”¨or"><a href="#3-1-5-å–å‡ºç¬¬4æ ç›®æˆ–ç¬¬11æ ç›®çš„å•†å“-ä¸è®¸ç”¨or" class="headerlink" title="3.1.5 å–å‡ºç¬¬4æ ç›®æˆ–ç¬¬11æ ç›®çš„å•†å“(ä¸è®¸ç”¨or)"></a>3.1.5 å–å‡ºç¬¬4æ ç›®æˆ–ç¬¬11æ ç›®çš„å•†å“(ä¸è®¸ç”¨or)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,cat_id,goods_name,shop_price  from ecs_goods</span><br><span class="line">     where cat_id in (4,11);</span><br></pre></td></tr></table></figure>

<h4 id="3-1-6-å–å‡º100-lt-x3D-ä»·æ ¼-lt-x3D-500çš„å•†å“-ä¸è®¸ç”¨and"><a href="#3-1-6-å–å‡º100-lt-x3D-ä»·æ ¼-lt-x3D-500çš„å•†å“-ä¸è®¸ç”¨and" class="headerlink" title="3.1.6 å–å‡º100&lt;&#x3D;ä»·æ ¼&lt;&#x3D;500çš„å•†å“(ä¸è®¸ç”¨and)"></a>3.1.6 å–å‡º100&lt;&#x3D;ä»·æ ¼&lt;&#x3D;500çš„å•†å“(ä¸è®¸ç”¨and)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,cat_id,goods_name,shop_price  from ecs_goods</span><br><span class="line">     where shop_price between 100 and 500;</span><br></pre></td></tr></table></figure>

<h4 id="3-1-7-å–å‡ºä¸å±äºç¬¬3æ ç›®ä¸”ä¸å±äºç¬¬11æ ç›®çš„å•†å“-and-æˆ–not-inåˆ†åˆ«å®ç°"><a href="#3-1-7-å–å‡ºä¸å±äºç¬¬3æ ç›®ä¸”ä¸å±äºç¬¬11æ ç›®çš„å•†å“-and-æˆ–not-inåˆ†åˆ«å®ç°" class="headerlink" title="3.1.7 å–å‡ºä¸å±äºç¬¬3æ ç›®ä¸”ä¸å±äºç¬¬11æ ç›®çš„å•†å“(and,æˆ–not inåˆ†åˆ«å®ç°)"></a>3.1.7 å–å‡ºä¸å±äºç¬¬3æ ç›®ä¸”ä¸å±äºç¬¬11æ ç›®çš„å•†å“(and,æˆ–not inåˆ†åˆ«å®ç°)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,cat_id,goods_name,shop_price from ecs_goods where cat_id!=3 and cat_id!=11;</span><br><span class="line"></span><br><span class="line">select goods_id,cat_id,goods_name,shop_price from ecs_goods where cat_id not in (3,11);</span><br></pre></td></tr></table></figure>

<h4 id="3-1-8-å–å‡ºä»·æ ¼å¤§äº100ä¸”å°äº300-æˆ–è€…å¤§äº4000ä¸”å°äº5000çš„å•†å“"><a href="#3-1-8-å–å‡ºä»·æ ¼å¤§äº100ä¸”å°äº300-æˆ–è€…å¤§äº4000ä¸”å°äº5000çš„å•†å“" class="headerlink" title="3.1.8 å–å‡ºä»·æ ¼å¤§äº100ä¸”å°äº300,æˆ–è€…å¤§äº4000ä¸”å°äº5000çš„å•†å“"></a>3.1.8 å–å‡ºä»·æ ¼å¤§äº100ä¸”å°äº300,æˆ–è€…å¤§äº4000ä¸”å°äº5000çš„å•†å“</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,cat_id,goods_name,shop_price from ecs_goods where shop_price&gt;100 and shop_price &lt;300 or shop_price &gt;4000 and shop_price &lt;5000;</span><br></pre></td></tr></table></figure>

<h4 id="3-1-9-å–å‡ºç¬¬3ä¸ªæ ç›®ä¸‹é¢ä»·æ ¼-lt-1000æˆ–-gt-3000-å¹¶ä¸”ç‚¹å‡»é‡-gt-5çš„ç³»åˆ—å•†å“"><a href="#3-1-9-å–å‡ºç¬¬3ä¸ªæ ç›®ä¸‹é¢ä»·æ ¼-lt-1000æˆ–-gt-3000-å¹¶ä¸”ç‚¹å‡»é‡-gt-5çš„ç³»åˆ—å•†å“" class="headerlink" title="3.1.9 å–å‡ºç¬¬3ä¸ªæ ç›®ä¸‹é¢ä»·æ ¼&lt;1000æˆ–&gt;3000,å¹¶ä¸”ç‚¹å‡»é‡&gt;5çš„ç³»åˆ—å•†å“"></a>3.1.9 å–å‡ºç¬¬3ä¸ªæ ç›®ä¸‹é¢ä»·æ ¼&lt;1000æˆ–&gt;3000,å¹¶ä¸”ç‚¹å‡»é‡&gt;5çš„ç³»åˆ—å•†å“</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,cat_id,goods_name,shop_price,click_count from ecs_goods where</span><br><span class="line">cat_id=3 and (shop_price &lt;1000 or shop_price&gt;3000) and click_count&gt;5;</span><br></pre></td></tr></table></figure>

<h4 id="3-1-10-å–å‡ºç¬¬1ä¸ªæ ç›®ä¸‹é¢çš„å•†å“-æ³¨æ„-1æ ç›®ä¸‹é¢æ²¡å•†å“-ä½†å…¶å­æ ç›®ä¸‹æœ‰"><a href="#3-1-10-å–å‡ºç¬¬1ä¸ªæ ç›®ä¸‹é¢çš„å•†å“-æ³¨æ„-1æ ç›®ä¸‹é¢æ²¡å•†å“-ä½†å…¶å­æ ç›®ä¸‹æœ‰" class="headerlink" title="3.1.10 å–å‡ºç¬¬1ä¸ªæ ç›®ä¸‹é¢çš„å•†å“(æ³¨æ„:1æ ç›®ä¸‹é¢æ²¡å•†å“,ä½†å…¶å­æ ç›®ä¸‹æœ‰)"></a>3.1.10 å–å‡ºç¬¬1ä¸ªæ ç›®ä¸‹é¢çš„å•†å“(æ³¨æ„:1æ ç›®ä¸‹é¢æ²¡å•†å“,ä½†å…¶å­æ ç›®ä¸‹æœ‰)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,cat_id,goods_name,shop_price,click_count from ecs_goods</span><br><span class="line">     where cat_id in (2,3,4,5);</span><br></pre></td></tr></table></figure>

<h4 id="3-1-11-å–å‡ºåå­—ä»¥â€è¯ºåŸºäºšâ€å¼€å¤´çš„å•†å“"><a href="#3-1-11-å–å‡ºåå­—ä»¥â€è¯ºåŸºäºšâ€å¼€å¤´çš„å•†å“" class="headerlink" title="3.1.11 å–å‡ºåå­—ä»¥â€è¯ºåŸºäºšâ€å¼€å¤´çš„å•†å“"></a>3.1.11 å–å‡ºåå­—ä»¥â€è¯ºåŸºäºšâ€å¼€å¤´çš„å•†å“</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,cat_id,goods_name,shop_price  from ecs_goods     where goods_name like &#x27;è¯ºåŸºäºš%&#x27;;</span><br></pre></td></tr></table></figure>

<h4 id="3-1-12-å–å‡ºåå­—ä¸ºâ€è¯ºåŸºäºšNxxâ€çš„æ‰‹æœº"><a href="#3-1-12-å–å‡ºåå­—ä¸ºâ€è¯ºåŸºäºšNxxâ€çš„æ‰‹æœº" class="headerlink" title="3.1.12 å–å‡ºåå­—ä¸ºâ€è¯ºåŸºäºšNxxâ€çš„æ‰‹æœº"></a>3.1.12 å–å‡ºåå­—ä¸ºâ€è¯ºåŸºäºšNxxâ€çš„æ‰‹æœº</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,cat_id,goods_name,shop_price  from ecs_goods  </span><br><span class="line">   where goods_name like &#x27;è¯ºåŸºäºšN__&#x27;;</span><br></pre></td></tr></table></figure>

<h4 id="3-1-13-å–å‡ºåå­—ä¸ä»¥â€è¯ºåŸºäºšâ€å¼€å¤´çš„å•†å“"><a href="#3-1-13-å–å‡ºåå­—ä¸ä»¥â€è¯ºåŸºäºšâ€å¼€å¤´çš„å•†å“" class="headerlink" title="3.1.13 å–å‡ºåå­—ä¸ä»¥â€è¯ºåŸºäºšâ€å¼€å¤´çš„å•†å“"></a>3.1.13 å–å‡ºåå­—ä¸ä»¥â€è¯ºåŸºäºšâ€å¼€å¤´çš„å•†å“</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,cat_id,goods_name,shop_price from ecs_goos</span><br><span class="line">     where goods_name not like &#x27;è¯ºåŸºäºš%&#x27;;</span><br></pre></td></tr></table></figure>

<h4 id="3-1-14-å–å‡ºç¬¬3ä¸ªæ ç›®ä¸‹é¢ä»·æ ¼åœ¨1000åˆ°3000ä¹‹é—´-å¹¶ä¸”ç‚¹å‡»é‡-gt-5-â€œè¯ºåŸºäºšâ€å¼€å¤´çš„ç³»åˆ—å•†å“"><a href="#3-1-14-å–å‡ºç¬¬3ä¸ªæ ç›®ä¸‹é¢ä»·æ ¼åœ¨1000åˆ°3000ä¹‹é—´-å¹¶ä¸”ç‚¹å‡»é‡-gt-5-â€œè¯ºåŸºäºšâ€å¼€å¤´çš„ç³»åˆ—å•†å“" class="headerlink" title="3.1.14 å–å‡ºç¬¬3ä¸ªæ ç›®ä¸‹é¢ä»·æ ¼åœ¨1000åˆ°3000ä¹‹é—´,å¹¶ä¸”ç‚¹å‡»é‡&gt;5 â€œè¯ºåŸºäºšâ€å¼€å¤´çš„ç³»åˆ—å•†å“"></a>3.1.14 å–å‡ºç¬¬3ä¸ªæ ç›®ä¸‹é¢ä»·æ ¼åœ¨1000åˆ°3000ä¹‹é—´,å¹¶ä¸”ç‚¹å‡»é‡&gt;5 â€œè¯ºåŸºäºšâ€å¼€å¤´çš„ç³»åˆ—å•†å“</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,cat_id,goods_name,shop_price from ecs_goods where </span><br><span class="line">cat_id=3 and shop_price&gt;1000 and shop_price &lt;3000 and click_count&gt;5 and goods_name like &#x27;è¯ºåŸºäºš%&#x27;;</span><br><span class="line">select goods_id,cat_id,goods_name,shop_price  from ecs_goods where </span><br><span class="line">shop_price between 1000 and 3000 and cat_id=3  and click_count&gt;5 and goods_name like &#x27;è¯ºåŸºäºš%&#x27;;</span><br></pre></td></tr></table></figure>

<h4 id="3-1-15-ä¸€é“é¢è¯•é¢˜"><a href="#3-1-15-ä¸€é“é¢è¯•é¢˜" class="headerlink" title="3.1.15 ä¸€é“é¢è¯•é¢˜"></a>3.1.15 ä¸€é“é¢è¯•é¢˜</h4><blockquote>
<p>æœ‰å¦‚ä¸‹è¡¨å’Œæ•°ç»„</p>
</blockquote>
<ul>
<li>æŠŠ<code>num</code>å€¼å¤„äº<code>[20,29]</code>ä¹‹é—´,æ”¹ä¸º<code>20</code></li>
<li><code>num</code>å€¼å¤„äº<code>[30,39]</code>ä¹‹é—´çš„,æ”¹ä¸º<code>30</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">+------+</span><br><span class="line">| num  |</span><br><span class="line">+------+</span><br><span class="line">|    3 |</span><br><span class="line">|   12 |</span><br><span class="line">|   15 |</span><br><span class="line">|   25 |</span><br><span class="line">|   23 |</span><br><span class="line">|   29 |</span><br><span class="line">|   34 |</span><br><span class="line">|   37 |</span><br><span class="line">|   32 |</span><br><span class="line">|   45 |</span><br><span class="line">|   48 |</span><br><span class="line">|   52 |</span><br><span class="line">+------+</span><br></pre></td></tr></table></figure>

<h4 id="3-1-16-ç»ƒä¹ é¢˜"><a href="#3-1-16-ç»ƒä¹ é¢˜" class="headerlink" title="3.1.16 ç»ƒä¹ é¢˜:"></a>3.1.16 ç»ƒä¹ é¢˜:</h4><blockquote>
<p>æŠŠ<code>good</code>è¡¨ä¸­å•†å“åä¸ºâ€™è¯ºåŸºäºšxxxxâ€™çš„å•†å“,æ”¹ä¸ºâ€™HTCxxxxâ€™,</p>
</blockquote>
<ul>
<li>æç¤º:å¤§èƒ†çš„æŠŠåˆ—çœ‹æˆå˜é‡,å‚ä¸è¿ç®—,ç”šè‡³è°ƒç”¨å‡½æ•°æ¥å¤„ç† ã€‚<code>ubstring()</code>, <code>concat()</code></li>
</ul>
<h3 id="3-2-åˆ†ç»„æŸ¥è¯¢group"><a href="#3-2-åˆ†ç»„æŸ¥è¯¢group" class="headerlink" title="3.2 åˆ†ç»„æŸ¥è¯¢group"></a>3.2 åˆ†ç»„æŸ¥è¯¢group</h3><h4 id="3-2-1-æŸ¥å‡ºæœ€è´µçš„å•†å“çš„ä»·æ ¼"><a href="#3-2-1-æŸ¥å‡ºæœ€è´µçš„å•†å“çš„ä»·æ ¼" class="headerlink" title="3.2.1 æŸ¥å‡ºæœ€è´µçš„å•†å“çš„ä»·æ ¼"></a>3.2.1 æŸ¥å‡ºæœ€è´µçš„å•†å“çš„ä»·æ ¼</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select max(shop_price) from ecs_goods;</span><br></pre></td></tr></table></figure>

<h4 id="3-2-2-æŸ¥å‡ºæœ€å¤§-æœ€æ–°-çš„å•†å“ç¼–å·"><a href="#3-2-2-æŸ¥å‡ºæœ€å¤§-æœ€æ–°-çš„å•†å“ç¼–å·" class="headerlink" title="3.2.2 æŸ¥å‡ºæœ€å¤§(æœ€æ–°)çš„å•†å“ç¼–å·"></a>3.2.2 æŸ¥å‡ºæœ€å¤§(æœ€æ–°)çš„å•†å“ç¼–å·</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select max(goods_id) from ecs_goods;</span><br></pre></td></tr></table></figure>

<h4 id="3-2-3-æŸ¥å‡ºæœ€ä¾¿å®œçš„å•†å“çš„ä»·æ ¼"><a href="#3-2-3-æŸ¥å‡ºæœ€ä¾¿å®œçš„å•†å“çš„ä»·æ ¼" class="headerlink" title="3.2.3 æŸ¥å‡ºæœ€ä¾¿å®œçš„å•†å“çš„ä»·æ ¼"></a>3.2.3 æŸ¥å‡ºæœ€ä¾¿å®œçš„å•†å“çš„ä»·æ ¼</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select min(shop_price) from ecs_goods;</span><br></pre></td></tr></table></figure>

<h4 id="3-2-4-æŸ¥å‡ºæœ€æ—§-æœ€å°-çš„å•†å“ç¼–å·"><a href="#3-2-4-æŸ¥å‡ºæœ€æ—§-æœ€å°-çš„å•†å“ç¼–å·" class="headerlink" title="3.2.4 æŸ¥å‡ºæœ€æ—§(æœ€å°)çš„å•†å“ç¼–å·"></a>3.2.4 æŸ¥å‡ºæœ€æ—§(æœ€å°)çš„å•†å“ç¼–å·</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select min(goods_id) from ecs_goods;</span><br></pre></td></tr></table></figure>

<h4 id="3-2-5-æŸ¥è¯¢è¯¥åº—æ‰€æœ‰å•†å“çš„åº“å­˜æ€»é‡"><a href="#3-2-5-æŸ¥è¯¢è¯¥åº—æ‰€æœ‰å•†å“çš„åº“å­˜æ€»é‡" class="headerlink" title="3.2.5 æŸ¥è¯¢è¯¥åº—æ‰€æœ‰å•†å“çš„åº“å­˜æ€»é‡"></a>3.2.5 æŸ¥è¯¢è¯¥åº—æ‰€æœ‰å•†å“çš„åº“å­˜æ€»é‡</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select sum(goods_number) from ecs_goods;</span><br></pre></td></tr></table></figure>

<h4 id="3-2-6-æŸ¥è¯¢æ‰€æœ‰å•†å“çš„å¹³å‡ä»·"><a href="#3-2-6-æŸ¥è¯¢æ‰€æœ‰å•†å“çš„å¹³å‡ä»·" class="headerlink" title="3.2.6 æŸ¥è¯¢æ‰€æœ‰å•†å“çš„å¹³å‡ä»·"></a>3.2.6 æŸ¥è¯¢æ‰€æœ‰å•†å“çš„å¹³å‡ä»·</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select avg(shop_price) from ecs_goods;</span><br></pre></td></tr></table></figure>

<h4 id="3-2-7-æŸ¥è¯¢è¯¥åº—ä¸€å…±æœ‰å¤šå°‘ç§å•†å“"><a href="#3-2-7-æŸ¥è¯¢è¯¥åº—ä¸€å…±æœ‰å¤šå°‘ç§å•†å“" class="headerlink" title="3.2.7 æŸ¥è¯¢è¯¥åº—ä¸€å…±æœ‰å¤šå°‘ç§å•†å“"></a>3.2.7 æŸ¥è¯¢è¯¥åº—ä¸€å…±æœ‰å¤šå°‘ç§å•†å“</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select count(*) from ecs_goods;</span><br></pre></td></tr></table></figure>

<h4 id="3-2-8-æŸ¥è¯¢æ¯ä¸ªæ ç›®ä¸‹é¢"><a href="#3-2-8-æŸ¥è¯¢æ¯ä¸ªæ ç›®ä¸‹é¢" class="headerlink" title="3.2.8 æŸ¥è¯¢æ¯ä¸ªæ ç›®ä¸‹é¢"></a>3.2.8 æŸ¥è¯¢æ¯ä¸ªæ ç›®ä¸‹é¢</h4><ul>
<li>æœ€è´µå•†å“ä»·æ ¼</li>
<li>æœ€ä½å•†å“ä»·æ ¼</li>
<li>å•†å“å¹³å‡ä»·æ ¼</li>
<li>å•†å“åº“å­˜é‡</li>
<li>å•†å“ç§ç±»</li>
</ul>
<blockquote>
<p>æç¤º:(<code>5</code>ä¸ªèšåˆå‡½æ•°,<code>sum</code>, <code>avg</code>, <code>max</code>, <code>min</code>, <code>count</code>ä¸<code>group</code>ç»¼åˆè¿ç”¨)<br><code>select cat_id,max(shop_price) from ecs_goods group by cat_id;</code></p>
</blockquote>
<h3 id="3-3-havingä¸groupç»¼åˆè¿ç”¨æŸ¥è¯¢"><a href="#3-3-havingä¸groupç»¼åˆè¿ç”¨æŸ¥è¯¢" class="headerlink" title="3.3 havingä¸groupç»¼åˆè¿ç”¨æŸ¥è¯¢"></a>3.3 havingä¸groupç»¼åˆè¿ç”¨æŸ¥è¯¢</h3><h4 id="3-3-1-æŸ¥è¯¢è¯¥åº—çš„å•†å“æ¯”å¸‚åœºä»·æ‰€èŠ‚çœçš„ä»·æ ¼"><a href="#3-3-1-æŸ¥è¯¢è¯¥åº—çš„å•†å“æ¯”å¸‚åœºä»·æ‰€èŠ‚çœçš„ä»·æ ¼" class="headerlink" title="3.3.1 æŸ¥è¯¢è¯¥åº—çš„å•†å“æ¯”å¸‚åœºä»·æ‰€èŠ‚çœçš„ä»·æ ¼"></a>3.3.1 æŸ¥è¯¢è¯¥åº—çš„å•†å“æ¯”å¸‚åœºä»·æ‰€èŠ‚çœçš„ä»·æ ¼</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,goods_name,market_price-shop_price as j </span><br><span class="line">     from ecs_goods ;</span><br></pre></td></tr></table></figure>

<h4 id="3-3-2-æŸ¥è¯¢æ¯ä¸ªå•†å“æ‰€ç§¯å‹çš„è´§æ¬¾-æç¤º-åº“å­˜-å•ä»·"><a href="#3-3-2-æŸ¥è¯¢æ¯ä¸ªå•†å“æ‰€ç§¯å‹çš„è´§æ¬¾-æç¤º-åº“å­˜-å•ä»·" class="headerlink" title="3.3.2 æŸ¥è¯¢æ¯ä¸ªå•†å“æ‰€ç§¯å‹çš„è´§æ¬¾(æç¤º:åº“å­˜*å•ä»·)"></a>3.3.2 æŸ¥è¯¢æ¯ä¸ªå•†å“æ‰€ç§¯å‹çš„è´§æ¬¾(æç¤º:åº“å­˜*å•ä»·)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,goods_name,goods_number*shop_price  from ecs_goods</span><br></pre></td></tr></table></figure>

<h4 id="3-3-3-æŸ¥è¯¢è¯¥åº—ç§¯å‹çš„æ€»è´§æ¬¾"><a href="#3-3-3-æŸ¥è¯¢è¯¥åº—ç§¯å‹çš„æ€»è´§æ¬¾" class="headerlink" title="3.3.3 æŸ¥è¯¢è¯¥åº—ç§¯å‹çš„æ€»è´§æ¬¾"></a>3.3.3 æŸ¥è¯¢è¯¥åº—ç§¯å‹çš„æ€»è´§æ¬¾</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select sum(goods_number*shop_price) from ecs_goods;</span><br></pre></td></tr></table></figure>

<h4 id="3-3-4-æŸ¥è¯¢è¯¥åº—æ¯ä¸ªæ ç›®ä¸‹é¢ç§¯å‹çš„è´§æ¬¾"><a href="#3-3-4-æŸ¥è¯¢è¯¥åº—æ¯ä¸ªæ ç›®ä¸‹é¢ç§¯å‹çš„è´§æ¬¾" class="headerlink" title="3.3.4 æŸ¥è¯¢è¯¥åº—æ¯ä¸ªæ ç›®ä¸‹é¢ç§¯å‹çš„è´§æ¬¾."></a>3.3.4 æŸ¥è¯¢è¯¥åº—æ¯ä¸ªæ ç›®ä¸‹é¢ç§¯å‹çš„è´§æ¬¾.</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select cat_id,sum(goods_number*shop_price) as k from ecs_goods group by cat_id;</span><br></pre></td></tr></table></figure>

<h4 id="3-3-5-æŸ¥è¯¢æ¯”å¸‚åœºä»·çœé’±200å…ƒä»¥ä¸Šçš„å•†å“åŠè¯¥å•†å“æ‰€çœçš„é’±-whereå’Œhavingåˆ†åˆ«å®ç°"><a href="#3-3-5-æŸ¥è¯¢æ¯”å¸‚åœºä»·çœé’±200å…ƒä»¥ä¸Šçš„å•†å“åŠè¯¥å•†å“æ‰€çœçš„é’±-whereå’Œhavingåˆ†åˆ«å®ç°" class="headerlink" title="3.3.5 æŸ¥è¯¢æ¯”å¸‚åœºä»·çœé’±200å…ƒä»¥ä¸Šçš„å•†å“åŠè¯¥å•†å“æ‰€çœçš„é’±(whereå’Œhavingåˆ†åˆ«å®ç°)"></a>3.3.5 æŸ¥è¯¢æ¯”å¸‚åœºä»·çœé’±200å…ƒä»¥ä¸Šçš„å•†å“åŠè¯¥å•†å“æ‰€çœçš„é’±(whereå’Œhavingåˆ†åˆ«å®ç°)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,goods_name,market_price-shop_price  as k from ecs_goods</span><br><span class="line">where market_price-shop_price &gt;200;</span><br><span class="line">select goods_id,goods_name,market_price-shop_price  as k from ecs_goods</span><br><span class="line">having k &gt;200;</span><br></pre></td></tr></table></figure>

<h4 id="3-3-6-æŸ¥è¯¢ç§¯å‹è´§æ¬¾è¶…è¿‡2Wå…ƒçš„æ ç›®-ä»¥åŠè¯¥æ ç›®ç§¯å‹çš„è´§æ¬¾"><a href="#3-3-6-æŸ¥è¯¢ç§¯å‹è´§æ¬¾è¶…è¿‡2Wå…ƒçš„æ ç›®-ä»¥åŠè¯¥æ ç›®ç§¯å‹çš„è´§æ¬¾" class="headerlink" title="3.3.6 æŸ¥è¯¢ç§¯å‹è´§æ¬¾è¶…è¿‡2Wå…ƒçš„æ ç›®,ä»¥åŠè¯¥æ ç›®ç§¯å‹çš„è´§æ¬¾"></a>3.3.6 æŸ¥è¯¢ç§¯å‹è´§æ¬¾è¶…è¿‡2Wå…ƒçš„æ ç›®,ä»¥åŠè¯¥æ ç›®ç§¯å‹çš„è´§æ¬¾</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select cat_id,sum(goods_number*shop_price) as k from ecs_goods group by cat_id</span><br><span class="line">having k&gt;20000</span><br></pre></td></tr></table></figure>

<h4 id="3-3-7-where-having-groupç»¼åˆç»ƒä¹ é¢˜"><a href="#3-3-7-where-having-groupç»¼åˆç»ƒä¹ é¢˜" class="headerlink" title="3. 3.7 where-having-groupç»¼åˆç»ƒä¹ é¢˜"></a>3. 3.7 where-having-groupç»¼åˆç»ƒä¹ é¢˜</h4><blockquote>
<p>æœ‰å¦‚ä¸‹è¡¨åŠæ•°æ®</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">+------+---------+-------+</span><br><span class="line">| name | subject | score |</span><br><span class="line">+------+---------+-------+</span><br><span class="line">| å¼ ä¸‰ | æ•°å­¦    |    90 |</span><br><span class="line">| å¼ ä¸‰ | è¯­æ–‡    |    50 |</span><br><span class="line">| å¼ ä¸‰ | åœ°ç†    |    40 |</span><br><span class="line">| æå›› | è¯­æ–‡    |    55 |</span><br><span class="line">| æå›› | æ”¿æ²»    |    45 |</span><br><span class="line">| ç‹äº” | æ”¿æ²»    |    30 |</span><br><span class="line">+------+---------+-------+</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¦æ±‚:æŸ¥è¯¢å‡º2é—¨åŠ2é—¨ä»¥ä¸Šä¸åŠæ ¼è€…çš„å¹³å‡æˆç»©</p>
</blockquote>
<p>å…ˆæŸ¥çœ‹æ¯ä¸ªäººçš„å¹³å‡æˆç»©</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select name,avg(score) from stu group by name;</span><br><span class="line">+------+------------+</span><br><span class="line">| name | avg(score) |</span><br><span class="line">+------+------------+</span><br><span class="line">| å¼ ä¸‰ |    60.0000 |</span><br><span class="line">| æå›› |    50.0000 |</span><br><span class="line">| ç‹äº” |    30.0000 |</span><br><span class="line">| èµµå…­ |    99.0000 |</span><br><span class="line">+------+------------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>çœ‹æ¯ä¸ªäººæŒ‚ç§‘æƒ…å†µ</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select name,score &lt; 60 from stu;</span><br><span class="line">+------+------------+</span><br><span class="line">| name | score &lt; 60 |</span><br><span class="line">+------+------------+</span><br><span class="line">| å¼ ä¸‰ |          0 |</span><br><span class="line">| å¼ ä¸‰ |          1 |</span><br><span class="line">| å¼ ä¸‰ |          1 |</span><br><span class="line">| æå›› |          1 |</span><br><span class="line">| æå›› |          1 |</span><br><span class="line">| ç‹äº” |          1 |</span><br><span class="line">| èµµå…­ |          0 |</span><br><span class="line">| èµµå…­ |          0 |</span><br><span class="line">| èµµå…­ |          0 |</span><br><span class="line">+------+------------+</span><br><span class="line">9 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è®¡ç®—æ¯ä¸ªäººçš„æŒ‚ç§‘ç§‘ç›®</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select name,sum(score &lt; 60) from stu group by name;</span><br><span class="line">+------+-----------------+</span><br><span class="line">| name | sum(score &lt; 60) |</span><br><span class="line">+------+-----------------+</span><br><span class="line">| å¼ ä¸‰ |               2 |</span><br><span class="line">| æå›› |               2 |</span><br><span class="line">| ç‹äº” |               1 |</span><br><span class="line">| èµµå…­ |               0 |</span><br><span class="line">+------+-----------------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åŒæ—¶è®¡ç®—æ¯äººçš„å¹³å‡åˆ†</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select name,sum(score &lt; 60),avg(score) as pj from stu group by name;</span><br><span class="line">+------+-----------------+---------+</span><br><span class="line">| name | sum(score &lt; 60) | pj      |</span><br><span class="line">+------+-----------------+---------+</span><br><span class="line">| å¼ ä¸‰ |               2 | 60.0000 |</span><br><span class="line">| æå›› |               2 | 50.0000 |</span><br><span class="line">| ç‹äº” |               1 | 30.0000 |</span><br><span class="line">| èµµå…­ |               0 | 99.0000 |</span><br><span class="line">+------+-----------------+---------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>åˆ©ç”¨<code>having</code>ç­›é€‰æŒ‚ç§‘<code>2</code>é—¨ä»¥ä¸Šçš„.</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select name,sum(score &lt; 60) as gk ,avg(score) as pj from stu group by name having gk &gt;=2;</span><br><span class="line">+------+------+---------+</span><br><span class="line">| name | gk   | pj      |</span><br><span class="line">+------+------+---------+</span><br><span class="line">| å¼ ä¸‰ |    2 | 60.0000 |</span><br><span class="line">| æå›› |    2 | 50.0000 |</span><br><span class="line">+------+------+---------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="3-4ã€order-by-ä¸-limitæŸ¥è¯¢"><a href="#3-4ã€order-by-ä¸-limitæŸ¥è¯¢" class="headerlink" title="3.4ã€order by ä¸ limitæŸ¥è¯¢"></a>3.4ã€order by ä¸ limitæŸ¥è¯¢</h3><h4 id="3-4-1-æŒ‰ä»·æ ¼ç”±é«˜åˆ°ä½æ’åº"><a href="#3-4-1-æŒ‰ä»·æ ¼ç”±é«˜åˆ°ä½æ’åº" class="headerlink" title="3.4.1 æŒ‰ä»·æ ¼ç”±é«˜åˆ°ä½æ’åº"></a>3.4.1 æŒ‰ä»·æ ¼ç”±é«˜åˆ°ä½æ’åº</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,goods_name,shop_price from ecs_goods order by shop_price desc;</span><br></pre></td></tr></table></figure>

<h4 id="3-4-2-æŒ‰å‘å¸ƒæ—¶é—´ç”±æ—©åˆ°æ™šæ’åº"><a href="#3-4-2-æŒ‰å‘å¸ƒæ—¶é—´ç”±æ—©åˆ°æ™šæ’åº" class="headerlink" title="3.4.2 æŒ‰å‘å¸ƒæ—¶é—´ç”±æ—©åˆ°æ™šæ’åº"></a>3.4.2 æŒ‰å‘å¸ƒæ—¶é—´ç”±æ—©åˆ°æ™šæ’åº</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,goods_name,add_time from ecs_goods order by add_time;</span><br></pre></td></tr></table></figure>

<h4 id="3-4-3-æ¥æ ç›®ç”±ä½åˆ°é«˜æ’åº-æ ç›®å†…éƒ¨æŒ‰ä»·æ ¼ç”±é«˜åˆ°ä½æ’åº"><a href="#3-4-3-æ¥æ ç›®ç”±ä½åˆ°é«˜æ’åº-æ ç›®å†…éƒ¨æŒ‰ä»·æ ¼ç”±é«˜åˆ°ä½æ’åº" class="headerlink" title="3.4.3 æ¥æ ç›®ç”±ä½åˆ°é«˜æ’åº,æ ç›®å†…éƒ¨æŒ‰ä»·æ ¼ç”±é«˜åˆ°ä½æ’åº"></a>3.4.3 æ¥æ ç›®ç”±ä½åˆ°é«˜æ’åº,æ ç›®å†…éƒ¨æŒ‰ä»·æ ¼ç”±é«˜åˆ°ä½æ’åº</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,cat_id,goods_name,shop_price from ecs_goods</span><br><span class="line">     order by cat_id ,shop_price desc;</span><br></pre></td></tr></table></figure>

<h4 id="3-4-4-å–å‡ºä»·æ ¼æœ€é«˜çš„å‰ä¸‰åå•†å“"><a href="#3-4-4-å–å‡ºä»·æ ¼æœ€é«˜çš„å‰ä¸‰åå•†å“" class="headerlink" title="3.4.4 å–å‡ºä»·æ ¼æœ€é«˜çš„å‰ä¸‰åå•†å“"></a>3.4.4 å–å‡ºä»·æ ¼æœ€é«˜çš„å‰ä¸‰åå•†å“</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,goods_name,shop_price from ecs_goods order by shop_price desc limit 3;</span><br></pre></td></tr></table></figure>

<h4 id="3-4-5-å–å‡ºç‚¹å‡»é‡å‰ä¸‰ååˆ°å‰5åçš„å•†å“"><a href="#3-4-5-å–å‡ºç‚¹å‡»é‡å‰ä¸‰ååˆ°å‰5åçš„å•†å“" class="headerlink" title="3.4.5 å–å‡ºç‚¹å‡»é‡å‰ä¸‰ååˆ°å‰5åçš„å•†å“"></a>3.4.5 å–å‡ºç‚¹å‡»é‡å‰ä¸‰ååˆ°å‰5åçš„å•†å“</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,goods_name,click_count from ecs_goods order by click_count desc limit 2,3;</span><br></pre></td></tr></table></figure>

<h3 id="3-5-è¿æ¥æŸ¥è¯¢"><a href="#3-5-è¿æ¥æŸ¥è¯¢" class="headerlink" title="3.5 è¿æ¥æŸ¥è¯¢"></a>3.5 è¿æ¥æŸ¥è¯¢</h3><h4 id="3-5-1-å–å‡ºæ‰€æœ‰å•†å“çš„å•†å“å-æ ç›®å-ä»·æ ¼"><a href="#3-5-1-å–å‡ºæ‰€æœ‰å•†å“çš„å•†å“å-æ ç›®å-ä»·æ ¼" class="headerlink" title="3.5.1 å–å‡ºæ‰€æœ‰å•†å“çš„å•†å“å,æ ç›®å,ä»·æ ¼"></a>3.5.1 å–å‡ºæ‰€æœ‰å•†å“çš„å•†å“å,æ ç›®å,ä»·æ ¼</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select goods_name,cat_name,shop_price from </span><br><span class="line">ecs_goods left join ecs_category</span><br><span class="line">on ecs_goods.cat_id=ecs_category.cat_id;</span><br></pre></td></tr></table></figure>

<h4 id="3-5-2-å–å‡ºç¬¬4ä¸ªæ ç›®ä¸‹çš„å•†å“çš„å•†å“å-æ ç›®å-ä»·æ ¼"><a href="#3-5-2-å–å‡ºç¬¬4ä¸ªæ ç›®ä¸‹çš„å•†å“çš„å•†å“å-æ ç›®å-ä»·æ ¼" class="headerlink" title="3.5.2 å–å‡ºç¬¬4ä¸ªæ ç›®ä¸‹çš„å•†å“çš„å•†å“å,æ ç›®å,ä»·æ ¼"></a>3.5.2 å–å‡ºç¬¬4ä¸ªæ ç›®ä¸‹çš„å•†å“çš„å•†å“å,æ ç›®å,ä»·æ ¼</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select goods_name,cat_name,shop_price from </span><br><span class="line">ecs_goods left join ecs_category</span><br><span class="line">on ecs_goods.cat_id=ecs_category.cat_id</span><br><span class="line">where ecs_goods.cat_id = 4;</span><br></pre></td></tr></table></figure>

<h4 id="3-5-3-å–å‡ºç¬¬4ä¸ªæ ç›®ä¸‹çš„å•†å“çš„å•†å“å-æ ç›®å-ä¸å“ç‰Œå"><a href="#3-5-3-å–å‡ºç¬¬4ä¸ªæ ç›®ä¸‹çš„å•†å“çš„å•†å“å-æ ç›®å-ä¸å“ç‰Œå" class="headerlink" title="3.5.3 å–å‡ºç¬¬4ä¸ªæ ç›®ä¸‹çš„å•†å“çš„å•†å“å,æ ç›®å,ä¸å“ç‰Œå"></a>3.5.3 å–å‡ºç¬¬4ä¸ªæ ç›®ä¸‹çš„å•†å“çš„å•†å“å,æ ç›®å,ä¸å“ç‰Œå</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">select goods_name,cat_name,brand_name from </span><br><span class="line">ecs_goods left join ecs_category</span><br><span class="line">on ecs_goods.cat_id=ecs_category.cat_id</span><br><span class="line">left join ecs_brand </span><br><span class="line">on ecs_goods.brand_id=ecs_brand.brand_id</span><br><span class="line">where ecs_goods.cat_id = 4;</span><br></pre></td></tr></table></figure>

<h4 id="3-5-4-é¢è¯•é¢˜"><a href="#3-5-4-é¢è¯•é¢˜" class="headerlink" title="3.5.4 é¢è¯•é¢˜"></a>3.5.4 é¢è¯•é¢˜</h4><blockquote>
<p>æ ¹æ®ç»™å‡ºçš„è¡¨ç»“æ„æŒ‰è¦æ±‚å†™å‡º<code>SQL</code>è¯­å¥ã€‚</p>
</blockquote>
<p><strong>Match èµ›ç¨‹è¡¨</strong></p>
<table>
<thead>
<tr>
<th align="left">å­—æ®µåç§°</th>
<th align="left">å­—æ®µç±»å‹</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>matchID</code></td>
<td align="left"><code>int</code></td>
<td align="left">ä¸»é”®</td>
</tr>
<tr>
<td align="left"><code>hostTeamID</code></td>
<td align="left"><code>int</code></td>
<td align="left">ä¸»é˜Ÿçš„<code>ID</code></td>
</tr>
<tr>
<td align="left"><code>guestTeamID</code></td>
<td align="left"><code>int</code></td>
<td align="left">å®¢é˜Ÿçš„<code>ID</code></td>
</tr>
<tr>
<td align="left"><code>matchResult</code></td>
<td align="left"><code>varchar(20)</code></td>
<td align="left">æ¯”èµ›ç»“æœï¼Œå¦‚ï¼ˆ<code>2:0</code>ï¼‰</td>
</tr>
<tr>
<td align="left"><code>matchTime</code></td>
<td align="left"><code>date</code></td>
<td align="left">æ¯”èµ›å¼€å§‹æ—¶é—´</td>
</tr>
</tbody></table>
<p><strong>Team å‚èµ›é˜Ÿä¼è¡¨</strong></p>
<table>
<thead>
<tr>
<th align="left">å­—æ®µåç§°</th>
<th align="left">å­—æ®µç±»å‹</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>teamID</code></td>
<td align="left"><code>int</code></td>
<td align="left">ä¸»é”®</td>
</tr>
<tr>
<td align="left"><code>teamName</code></td>
<td align="left"><code>varchar(20)</code></td>
<td align="left">é˜Ÿä¼åç§°</td>
</tr>
</tbody></table>
<ul>
<li><code>Match</code>çš„<code>hostTeamID</code>ä¸<code>guestTeamID</code>éƒ½ä¸<code>Team</code>ä¸­çš„<code>teamID</code>å…³è”</li>
<li>æŸ¥å‡º <code>2006-6-1</code> åˆ°<code>2006-7-1</code>ä¹‹é—´ä¸¾è¡Œçš„æ‰€æœ‰æ¯”èµ›ï¼Œå¹¶ä¸”ç”¨ä»¥ä¸‹å½¢å¼åˆ—å‡ºï¼š</li>
<li>æ‹œä» <code>2ï¼š0</code> ä¸æ¥æ¢… <code>2006-6-21</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from m;</span><br><span class="line">+-----+------+------+------+------------+</span><br><span class="line">| mid | hid  | gid  | mres | matime     |</span><br><span class="line">+-----+------+------+------+------------+</span><br><span class="line">|   1 |    1 |    2 | 2:0  | 2006-05-21 |</span><br><span class="line">|   2 |    2 |    3 | 1:2  | 2006-06-21 |</span><br><span class="line">|   3 |    3 |    1 | 2:5  | 2006-06-25 |</span><br><span class="line">|   4 |    2 |    1 | 3:2  | 2006-07-21 |</span><br><span class="line">+-----+------+------+------+------------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br><span class="line">mysql&gt; select * from t;</span><br><span class="line">+------+----------+</span><br><span class="line">| tid  | tname    |</span><br><span class="line">+------+----------+</span><br><span class="line">|    1 | å›½å®‰     |</span><br><span class="line">|    2 | ç”³èŠ±     |</span><br><span class="line">|    3 | å…¬ç›Šè”é˜Ÿ |</span><br><span class="line">+------+----------+</span><br><span class="line">3 rows in set (0.00 sec)</span><br><span class="line">mysql&gt; select hid,t1.tname as hname ,mres,gid,t2.tname as gname,matime</span><br><span class="line">    -&gt; from </span><br><span class="line">    -&gt; m left join t as t1</span><br><span class="line">    -&gt; on m.hid = t1.tid</span><br><span class="line">    -&gt; left join t as t2</span><br><span class="line">    -&gt; on m.gid = t2.tid;</span><br><span class="line">+------+----------+------+------+----------+------------+</span><br><span class="line">| hid  | hname    | mres | gid  | gname    | matime     |</span><br><span class="line">+------+----------+------+------+----------+------------+</span><br><span class="line">|    1 | å›½å®‰     | 2:0  |    2 | ç”³èŠ±     | 2006-05-21 |</span><br><span class="line">|    2 | ç”³èŠ±     | 1:2  |    3 | å…¬ç›Šè”é˜Ÿ | 2006-06-21 |</span><br><span class="line">|    3 | å…¬ç›Šè”é˜Ÿ | 2:5  |    1 | å›½å®‰     | 2006-06-25 |</span><br><span class="line">|    2 | ç”³èŠ±     | 3:2  |    1 | å›½å®‰     | 2006-07-21 |</span><br><span class="line">+------+----------+------+------+----------+------------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="3-6ã€unionæŸ¥è¯¢"><a href="#3-6ã€unionæŸ¥è¯¢" class="headerlink" title="3.6ã€unionæŸ¥è¯¢"></a>3.6ã€unionæŸ¥è¯¢</h3><ul>
<li>æŠŠ<code>ecs_comment</code>,<code>ecs_feedback</code>ä¸¤ä¸ªè¡¨ä¸­çš„æ•°æ®,å„å–å‡º<code>4</code>åˆ—,å¹¶æŠŠç»“æœé›†<code>union</code>æˆä¸€ä¸ªç»“æœé›†</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Aè¡¨:</span><br><span class="line">+------+------+</span><br><span class="line">| id   | num  |</span><br><span class="line">+------+------+</span><br><span class="line">| a    |    5 |</span><br><span class="line">| b    |   10 |</span><br><span class="line">| c    |   15 |</span><br><span class="line">| d    |   10 |</span><br><span class="line">+------+------+</span><br><span class="line">Bè¡¨:</span><br><span class="line">+------+------+</span><br><span class="line">| id   | num  |</span><br><span class="line">+------+------+</span><br><span class="line">| b    |    5 |</span><br><span class="line">| c    |   15 |</span><br><span class="line">| d    |   20 |</span><br><span class="line">| e    |   99 |</span><br><span class="line">+------+------+</span><br></pre></td></tr></table></figure>

<p>è¦æ±‚æŸ¥è¯¢å‡ºä»¥ä¸‹æ•ˆæœ:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">+------+----------+</span><br><span class="line">| id   |    num   |</span><br><span class="line">+------+----------+</span><br><span class="line">| a    |        5 |</span><br><span class="line">| b    |       15 |</span><br><span class="line">| c    |       30 |</span><br><span class="line">| d    |       30 |</span><br><span class="line">| e    |       99 |</span><br><span class="line">+------+----------+</span><br><span class="line">create table a (</span><br><span class="line">id char(1),</span><br><span class="line">num int</span><br><span class="line">) engine myisam charset utf8;</span><br><span class="line"></span><br><span class="line">insert into a values (&#x27;a&#x27;,5),(&#x27;b&#x27;,10),(&#x27;c&#x27;,15),(&#x27;d&#x27;,10);</span><br><span class="line"></span><br><span class="line">create table b (</span><br><span class="line">id char(1),</span><br><span class="line">num int</span><br><span class="line">) engine myisam charset utf8;</span><br><span class="line"></span><br><span class="line">insert into b values (&#x27;b&#x27;,5),(&#x27;c&#x27;,15),(&#x27;d&#x27;,20),(&#x27;e&#x27;,99);</span><br><span class="line">mysql&gt; # åˆå¹¶ ,æ³¨æ„allçš„ä½œç”¨</span><br><span class="line">mysql&gt; select * from ta </span><br><span class="line">    -&gt; union all</span><br><span class="line">    -&gt; select * from tb;</span><br><span class="line">+------+------+</span><br><span class="line">| id   | num  |</span><br><span class="line">+------+------+</span><br><span class="line">| a    |    5 |</span><br><span class="line">| b    |   10 |</span><br><span class="line">| c    |   15 |</span><br><span class="line">| d    |   10 |</span><br><span class="line">| b    |    5 |</span><br><span class="line">| c    |   15 |</span><br><span class="line">| d    |   20 |</span><br><span class="line">| e    |   99 |</span><br><span class="line">+------+------+</span><br></pre></td></tr></table></figure>

<p><strong>å‚è€ƒç­”æ¡ˆ:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; # sum,groupæ±‚å’Œ</span><br><span class="line">mysql&gt; select id,sum(num) from (select * from ta union all select * from tb) as tmp group by id;</span><br><span class="line">+------+----------+</span><br><span class="line">| id   | sum(num) |</span><br><span class="line">+------+----------+</span><br><span class="line">| a    |        5 |</span><br><span class="line">| b    |       15 |</span><br><span class="line">| c    |       30 |</span><br><span class="line">| d    |       30 |</span><br><span class="line">| e    |       99 |</span><br><span class="line">+------+----------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h3 id="3-7ã€å­æŸ¥è¯¢"><a href="#3-7ã€å­æŸ¥è¯¢" class="headerlink" title="3.7ã€å­æŸ¥è¯¢:"></a>3.7ã€å­æŸ¥è¯¢:</h3><p><strong>æŸ¥è¯¢å‡ºæœ€æ–°ä¸€è¡Œå•†å“(ä»¥å•†å“ç¼–å·æœ€å¤§ä¸ºæœ€æ–°,ç”¨å­æŸ¥è¯¢å®ç°)</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,goods_name from </span><br><span class="line">     ecs_goods where goods_id =(select max(goods_id) from ecs_goods);</span><br></pre></td></tr></table></figure>

<ul>
<li>æŸ¥è¯¢å‡ºç¼–å·ä¸º<code>19</code>çš„å•†å“çš„æ ç›®åç§°(ç”¨å·¦è¿æ¥æŸ¥è¯¢å’Œå­æŸ¥è¯¢åˆ†åˆ«)</li>
<li>ç”¨<code>where</code>å‹å­æŸ¥è¯¢æŠŠ<code>ecs_goods</code>è¡¨ä¸­çš„æ¯ä¸ªæ ç›®ä¸‹é¢æœ€æ–°çš„å•†å“å–å‡ºæ¥</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,goods_name,cat_id from ecs_goods where goods_id in (select max(goods_id) from ecs_goods group by cat_id);</span><br></pre></td></tr></table></figure>

<p><strong>ç”¨fromå‹å­æŸ¥è¯¢æŠŠecs_goodsè¡¨ä¸­çš„æ¯ä¸ªæ ç›®ä¸‹é¢æœ€æ–°çš„å•†å“å–å‡ºæ¥</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from (select goods_id,cat_id,goods_name from ecs_goods order by goods_id desc) as t group by cat_id;</span><br></pre></td></tr></table></figure>

<p><strong>ç”¨existså‹å­æŸ¥è¯¢,æŸ¥å‡ºæ‰€æœ‰æœ‰å•†å“çš„æ ç›®</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * from category</span><br><span class="line">where exists (select * from goods where goods.cat_id=category.cat_id);</span><br></pre></td></tr></table></figure>

<p><strong>åˆ›å»ºè§¦å‘å™¨:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">CREATE  trigger tg2</span><br><span class="line">after insert on ord</span><br><span class="line">for each row</span><br><span class="line">update goods set goods_number=goods_number-new.num where id=new.gid</span><br><span class="line"></span><br><span class="line">CREATE trigger tg3</span><br><span class="line">after delete on ord</span><br><span class="line">for each row</span><br><span class="line">update goods set goods_number=good_number+old.num where id=old.gid</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">CREATE  trigger tg4</span><br><span class="line">after update on ord</span><br><span class="line">for each row</span><br><span class="line">update goods set goods_number=goods_number+old.num-new.num where id=old.gid</span><br></pre></td></tr></table></figure>

<h2 id="å››ã€å¸¸ç”¨è¡¨ç®¡ç†è¯­å¥"><a href="#å››ã€å¸¸ç”¨è¡¨ç®¡ç†è¯­å¥" class="headerlink" title="å››ã€å¸¸ç”¨è¡¨ç®¡ç†è¯­å¥"></a>å››ã€å¸¸ç”¨è¡¨ç®¡ç†è¯­å¥</h2><ul>
<li>è®¾ç½®å­—ç¬¦ç¼–ç  <code>set names gbk;</code></li>
<li>æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“ï¼š<code>show databases;</code></li>
<li>æŸ¥çœ‹æ‰€æœ‰è¡¨ï¼š<code>show tables</code></li>
<li>æŸ¥çœ‹è¡¨ç»“æ„ï¼š<code>desc è¡¨å/è§†å›¾å</code></li>
<li>é€‰æ‹©è¡¨ <code>use è¡¨å;</code></li>
<li>æŸ¥çœ‹å»ºè¡¨è¿‡ç¨‹ï¼š<code>show create table è¡¨å</code></li>
<li>æŸ¥çœ‹å»ºè§†å›¾è¿‡ç¨‹ï¼š<code>show create view è§†å›¾</code></li>
<li>æŸ¥çœ‹æ‰€æœ‰è¯¦ç»†è¡¨ä¿¡æ¯ï¼š<code>show table status\G(è®©ç»“æœæ˜¾ç¤ºå¥½çœ‹ä¸€äº›)</code></li>
<li>æŸ¥çœ‹æŸå¼ è¡¨è¯¦ç»†ä¿¡æ¯ï¼š<code>show table status where name=&#39;goodsï¼ˆè¡¨åï¼‰&#39;\G</code></li>
<li>åˆ é™¤è¡¨ï¼š<code>drop table è¡¨å</code></li>
<li>åˆ é™¤è§†å›¾ï¼š<code>drop view è§†å›¾åï¼›</code></li>
<li>åˆ é™¤åˆ—ï¼š<code>alter table drop column æŒ‡å®šåˆ—</code></li>
<li>æ”¹è¡¨åï¼š<code>rename table oldName to newName</code></li>
<li>æ›´æ–°è¡¨ï¼š<code>update è¡¨å set å­—æ®µ</code></li>
<li>æ’å…¥æ•°æ®ï¼š<code>insert into è¡¨å value()</code></li>
<li>æ¸…ç©ºæ•°æ®ï¼š<code>truncate è¡¨å;(ç›¸å½“äºåˆ é™¤è¡¨åœ¨é‡å»º)</code></li>
<li>å†™é”™è¯­å¥é€€å‡º:<code>\c</code></li>
<li>è®©ç»“æœæ˜¾ç¤ºå¥½çœ‹ä¸€äº›:<code>\G</code></li>
</ul>
<h2 id="äº”ã€æŸ¥è¯¢æ€»ç»“"><a href="#äº”ã€æŸ¥è¯¢æ€»ç»“" class="headerlink" title="äº”ã€æŸ¥è¯¢æ€»ç»“"></a>äº”ã€æŸ¥è¯¢æ€»ç»“</h2><h3 id="5-1-insert"><a href="#5-1-insert" class="headerlink" title="5.1 insert"></a>5.1 insert</h3><ul>
<li><code>insert into è¡¨å</code> æ’å…¥åˆ—ä¸å€¼è¦ä¸¥æ ¼å¯¹åº”</li>
<li>æ•°å­—ä¸å¿…åŠ å•å¼•å· å­—ç¬¦ä¸²å¿…é¡»åŠ å•å¼•å·</li>
<li>ä¾‹å­ï¼š<code>insert into test(age,name)values(10,&#39;å°æ˜&#39;);</code></li>
</ul>
<h3 id="5-2-updateæ“ä½œ"><a href="#5-2-updateæ“ä½œ" class="headerlink" title="5.2 updateæ“ä½œ"></a>5.2 updateæ“ä½œ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// ä¾‹å­ï¼š</span><br><span class="line">update user set age=8 where name=lianying;</span><br><span class="line">//ï¼ˆæ³¨æ„whereæ¡ä»¶ä¸åŠ ä¼šå½±å“æ‰€æœ‰è¡Œï¼Œéœ€è¦å°å¿ƒï¼‰</span><br></pre></td></tr></table></figure>

<h3 id="5-3-deleteæ“ä½œ"><a href="#5-3-deleteæ“ä½œ" class="headerlink" title="5.3 deleteæ“ä½œ"></a>5.3 deleteæ“ä½œ</h3><ul>
<li>ä¸å¯èƒ½é’ˆå¯¹æŸä¸€åˆ—åˆ é™¤ è¦åˆ å¿…é¡»ä¸€è¡Œ</li>
<li><code>delete from è¡¨å where æ·»åŠ </code></li>
<li><code>delete from user where uid=1;</code>ï¼ˆå¿…é¡»åŠ ä¸Šæ·»åŠ ï¼Œå¦åˆ™å…¨éƒ¨æ•°æ®åˆ é™¤ï¼‰</li>
</ul>
<h3 id="5-4-selectæŸ¥æ‰¾"><a href="#5-4-selectæŸ¥æ‰¾" class="headerlink" title="5.4 selectæŸ¥æ‰¾"></a>5.4 selectæŸ¥æ‰¾</h3><ul>
<li><code>select * from è¡¨å</code>ï¼ˆå…¨éƒ¨æŸ¥å‡ºï¼‰</li>
<li><code>select uid,name from user where uid&gt;10;</code></li>
<li><code>select * from user where uid=11;</code></li>
</ul>
<h3 id="5-5-selectæŸ¥è¯¢æ¨¡å‹ï¼ˆé‡è¦ï¼‰"><a href="#5-5-selectæŸ¥è¯¢æ¨¡å‹ï¼ˆé‡è¦ï¼‰" class="headerlink" title="5.5 selectæŸ¥è¯¢æ¨¡å‹ï¼ˆé‡è¦ï¼‰"></a>5.5 selectæŸ¥è¯¢æ¨¡å‹ï¼ˆé‡è¦ï¼‰</h3><ul>
<li><code>select * from è¡¨å where 1</code>ï¼ˆ<code>where</code>æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ ä¸ºçœŸåˆ™å–å‡ºæ¥ ä¸ºå‡ä¸å–ï¼‰</li>
<li>æŠŠåˆ—çœ‹æˆå˜é‡ï¼Œæ—¢ç„¶æ˜¯å˜é‡å°±èƒ½å‚ä¸è¿ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºå¹¿ä¹‰æŠ•å½±ï¼ˆæ¯”å¦‚ï¼šå–å‡ºä¸¤åˆ—å‚ä¸è¿ç®—ï¼‰ä¹Ÿå¯ä»¥å¸¦åˆ°å‡½æ•°é‡Œé¢è®¡ç®—</li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼š<code>NULL</code>ï¼šæŸ¥è¯¢æ–¹æ³•ï¼š <code>select * from test where name is ï¼ˆnotï¼‰null</code></p>
</blockquote>
<h3 id="5-6-limitç”¨æ³•ï¼ˆåšåˆ†é¡µç±»èƒ½ç”¨åˆ°ï¼‰"><a href="#5-6-limitç”¨æ³•ï¼ˆåšåˆ†é¡µç±»èƒ½ç”¨åˆ°ï¼‰" class="headerlink" title="5.6 limitç”¨æ³•ï¼ˆåšåˆ†é¡µç±»èƒ½ç”¨åˆ°ï¼‰"></a>5.6 limitç”¨æ³•ï¼ˆåšåˆ†é¡µç±»èƒ½ç”¨åˆ°ï¼‰</h3><blockquote>
<p>é™åˆ¶å–å‡ºæ¡ç›®ï¼ˆlimitæœ‰ä¸¤ä¸ªå‚æ•° ï¼šåç§»é‡ å–å‡ºçš„æ¡ç›®ï¼‰</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select goods_id,goods_name,shop_price</span><br><span class="line">	-&gt; from goods</span><br><span class="line">	-&gt; order by shop_price desc</span><br><span class="line">	-&gt; limit  0,3;</span><br></pre></td></tr></table></figure>

<h3 id="5-7-å­å¥çš„æŸ¥è¯¢é™·é˜±"><a href="#5-7-å­å¥çš„æŸ¥è¯¢é™·é˜±" class="headerlink" title="5.7 å­å¥çš„æŸ¥è¯¢é™·é˜±"></a>5.7 å­å¥çš„æŸ¥è¯¢é™·é˜±</h3><blockquote>
<p><code>5</code>ç§è¯­å¥æœ‰ä¸¥æ ¼çš„é¡ºåºï¼Œ<code>where</code> ï¼Œ<code>group by</code>,<code>having</code>,<code>order by</code>,<code>limit</code><br>ä¸èƒ½é¢ å€’é¡ºåº</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># ä¾‹å­:è¯­å¥æœ‰ä¸¥æ ¼çš„é¡ºåº</span><br><span class="line">mysql&gt; select id,sum(num) </span><br><span class="line">					-&gt; from</span><br><span class="line">					-&gt; (select * from a union select * from b) as temp</span><br><span class="line">					-&gt; group by id</span><br><span class="line">					-&gt; having sum(num)&gt;10</span><br><span class="line">					-&gt; order by sum(num) desc</span><br><span class="line">					-&gt; limit 0,1;</span><br></pre></td></tr></table></figure>

<h3 id="5-8-å­æŸ¥è¯¢"><a href="#5-8-å­æŸ¥è¯¢" class="headerlink" title="5.8 å­æŸ¥è¯¢"></a>5.8 å­æŸ¥è¯¢</h3><p><strong>whereå­—æŸ¥è¯¢ï¼šï¼ˆå†…å±‚çš„æŸ¥è¯¢ç»“æœä½œä¸ºå¤–å±‚çš„æ¯”è¾ƒæ¡ä»¶ï¼‰</strong></p>
<ul>
<li>é™æ€çš„ï¼šselect goods_id,goods_name from goods where goods_id&#x3D;32;</li>
<li>åŠ¨æ€çš„ï¼šselect goods_id,goods_name from goods where goods_id&#x3D;(select max(goods_id) from goods);</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#å–å‡ºæ¯ä¸ªæ ç›®ä¸‹æœ€æ–°çš„å•†å“ï¼š</span><br><span class="line">select goods_id,cat_id,goods_name from goods where goods_id in (select max(goods_id) from goods group by cat_id);</span><br></pre></td></tr></table></figure>

<h3 id="5-9-fromå­æŸ¥è¯¢"><a href="#5-9-fromå­æŸ¥è¯¢" class="headerlink" title="5.9 fromå­æŸ¥è¯¢"></a>5.9 fromå­æŸ¥è¯¢</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#æ¯ä¸ªæ ç›®ä¸‹æœ€æ–°çš„å•†å“ï¼š</span><br><span class="line">		mysql&gt; select goods_id,goods_name from (select * from goods where 1 order by cat_id desc) as tmp</span><br><span class="line">			-&gt; group by cat_id;</span><br></pre></td></tr></table></figure>

<h3 id="5-10-existså­æŸ¥è¯¢ï¼š"><a href="#5-10-existså­æŸ¥è¯¢ï¼š" class="headerlink" title="5.10 existså­æŸ¥è¯¢ï¼š"></a>5.10 existså­æŸ¥è¯¢ï¼š</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#æŸ¥è¯¢æ ç›®ä¸‹æ˜¯å¦æœ‰å•†å“</span><br><span class="line">		mysql&gt; select * from category</span><br><span class="line">			-&gt; where exists(select * from goods where goods.cat_id=category.cat_id)</span><br></pre></td></tr></table></figure>

<h3 id="5-11-å†…è¿æ¥æŸ¥è¯¢ï¼ˆé‡è¦ï¼‰"><a href="#5-11-å†…è¿æ¥æŸ¥è¯¢ï¼ˆé‡è¦ï¼‰" class="headerlink" title="5.11 å†…è¿æ¥æŸ¥è¯¢ï¼ˆé‡è¦ï¼‰"></a>5.11 å†…è¿æ¥æŸ¥è¯¢ï¼ˆé‡è¦ï¼‰</h3><blockquote>
<p>å†…è¿æ¥æ˜¯å·¦å³è¿æ¥ç»“æœçš„äº¤é›†</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">select xxx from</span><br><span class="line">			table1 inner jion table2 on table1.xx=table2.xx</span><br><span class="line">			</span><br><span class="line">		</span><br><span class="line">mysql&gt; select boy.hid,boy.bname,girl.hid,girl.gname</span><br><span class="line">			-&gt; from</span><br><span class="line">			-&gt; boy inner join girl on boy.hid=girl.hid;</span><br></pre></td></tr></table></figure>

<h3 id="5-12-å·¦è¿æ¥ç‰¹ç‚¹"><a href="#5-12-å·¦è¿æ¥ç‰¹ç‚¹" class="headerlink" title="5.12 å·¦è¿æ¥ç‰¹ç‚¹"></a>5.12 å·¦è¿æ¥ç‰¹ç‚¹</h3><blockquote>
<p>ä»¥å·¦è¡¨çš„æ•°æ®ä¸ºæ ‡å‡†ï¼Œå»æ‰¾å³è¡¨çš„æ•°æ®ï¼ŒæŸ¥ä¸åˆ°çš„ä¸º<code>NULL</code></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#å·¦è¿æ¥</span><br><span class="line">mysql&gt; select boy.hid,boy.bname,girl.hid,girl.gname</span><br><span class="line">	-&gt; from</span><br><span class="line">	-&gt; boy left join girl on boy.hid=girl.hid;</span><br><span class="line"></span><br><span class="line">#å³è¿æ¥</span><br><span class="line">mysql&gt; select boy.hid,boy.bname,girl.hid,girl.gname</span><br><span class="line">-&gt; from</span><br><span class="line">-&gt; boy right join girl on boy.hid=girl.hid;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mysql&gt; select goods_id,cat_name,goods_name,shop_price</span><br><span class="line">	-&gt; from</span><br><span class="line">	-&gt; goods left join category on goods.cat_id= category.cat_id</span><br><span class="line">	-&gt; where goods.cat_id=4;</span><br></pre></td></tr></table></figure>

<h3 id="5-13-unionæŸ¥è¯¢"><a href="#5-13-unionæŸ¥è¯¢" class="headerlink" title="5.13 unionæŸ¥è¯¢"></a>5.13 unionæŸ¥è¯¢</h3><blockquote>
<p>æŠŠ<code>2</code>æ¡æˆ–å¤šæ¡çš„é¢æŸ¥è¯¢ç»“æœï¼Œåˆå¹¶æˆ<code>1</code>ä¸ªç»“æœé›†</p>
</blockquote>
<ul>
<li><code>sql1 Nè¡Œ</code></li>
<li><code>sql2 Mè¡Œ</code></li>
<li><code>sql1 union sql2ï¼ŒN+Mè¡Œ</code></li>
</ul>
<blockquote>
<ul>
<li><code>union</code>è¯­å¥å¿…é¡»æ»¡è¶³ä¸€ä¸ªæ¡ä»¶ï¼šå„è¯­å¥å–å‡ºçš„åˆ—æ•°è¦ç›¸åŒ</li>
<li><code>union</code>è¯­å¥ä¸­ä¸ç”¨å†™<code>order by</code> å› ä¸º<code>sql</code>åˆå¹¶åå¾—åˆ°æ€»çš„ç»“æœé›†å¯ä»¥<code>order by</code>å­—å¥<code>order by</code>å¤±å»æ„ä¹‰</li>
<li>åœºæ™¯ï¼š<code>2</code>æ¡è¯­å¥ï¼Œå„è‡ªçš„<code>where</code>éå¸¸å¤æ‚ï¼Œå¯ä»¥ç®€åŒ–æˆç®€å•çš„æ¡ä»¶åœ¨<code>union</code></li>
<li>æ³¨æ„ï¼šä½¿ç”¨<code>union</code>æ—¶ï¼Œå®Œå…¨ç›¸ç­‰çš„è¡Œå°†ä¼šè¢«åˆå¹¶ã€‚åˆå¹¶æ˜¯æ¯”è¾ƒè€—æ—¶çš„æ“ä½œï¼Œä¸€èˆ¬ä¸è®©<code>union</code>åˆå¹¶ï¼Œä½¿ç”¨<code>union all</code>å¯ä»¥é¿å…åˆå¹¶ å¯¹é€Ÿåº¦æœ‰æå‡</li>
</ul>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from a</span><br><span class="line">	-&gt; union all #union all å¯ä»¥é¿å…é‡å¤è¯­å¥åˆå¹¶</span><br><span class="line">	-&gt; select * from b;</span><br><span class="line"></span><br><span class="line">mysql&gt; select goods_id,cat_id,goods_name,shop_price from goods where cat_id=2</span><br><span class="line">	-&gt; union</span><br><span class="line">	-&gt; select goods_id,cat_id,goods_name,shop_price from goods where cat_id=4;</span><br><span class="line">â€‹```			</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## å…­ã€å»ºè¡¨æ€»ç»“</span><br><span class="line"></span><br><span class="line">â€‹```bash</span><br><span class="line">create table è¡¨å ï¼ˆ</span><br><span class="line">	åˆ—1 åˆ—ç±»å‹ [åˆ—å±æ€§ é»˜è®¤å€¼]</span><br><span class="line">	åˆ—2 åˆ—ç±»å‹ [åˆ—å±æ€§ é»˜è®¤å€¼]</span><br><span class="line">	...</span><br><span class="line">	);</span><br><span class="line">	engine = å­˜å‚¨å¼•æ“</span><br><span class="line">	chartset = å­—ç¬¦é›†</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å»ºè¡¨è¿‡ç¨‹ï¼šå£°æ˜è¡¨å¤´çš„è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯å£°æ˜åˆ—çš„è¿‡ç¨‹</p>
</blockquote>
<ul>
<li>é€‰æ‹©åˆç†çš„åˆ—ç±»å‹ åˆç†çš„åˆ—å®½åº¦ï¼ˆå³æ”¾ä¸‹å†…å®¹ åˆä¸æµªè´¹ç£ç›˜ç©ºé—´ï¼‰</li>
<li>åˆ—é€‰ä»€ä¹ˆç±»å‹çš„åˆ— åˆ—ç»™ä»€ä¹ˆæ ·çš„å±æ€§</li>
<li>æ•°å€¼å‹â€“æ•´å½¢ï¼Œæµ®ç‚¹å‹ï¼Œå®šç‚¹å‹</li>
<li>å­—ç¬¦ä¸²å‹â€“<code>char</code> <code>varchar</code> <code>text</code></li>
<li>æ—¥æœŸæ—¶é—´ç±»å‹â€“<code>2012-12-13 14.25.36</code></li>
</ul>
<h3 id="6-1-æ•´å‹åˆ—"><a href="#6-1-æ•´å‹åˆ—" class="headerlink" title="6.1 æ•´å‹åˆ—"></a>6.1 æ•´å‹åˆ—</h3><table>
<thead>
<tr>
<th align="left">ç±»å‹ï¼š</th>
<th align="left">å­—èŠ‚ï¼š</th>
<th align="left">æœ€å°å€¼ï¼š</th>
<th align="left">æœ€å¤§å€¼ï¼š</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>bigint</code></td>
<td align="left"><code>8</code>å­—èŠ‚</td>
<td align="left"><code>-9223372036854775808</code></td>
<td align="left">18446744073709551615</td>
</tr>
<tr>
<td align="left"><code>int</code></td>
<td align="left"><code>4</code>å­—èŠ‚</td>
<td align="left"><code>-2147483648</code></td>
<td align="left"><code>4294967295</code></td>
</tr>
<tr>
<td align="left"><code>mediunint</code></td>
<td align="left"><code>3</code>å­—èŠ‚</td>
<td align="left"><code>-8388608</code></td>
<td align="left"><code>8388607</code></td>
</tr>
<tr>
<td align="left"><code>smallint</code></td>
<td align="left">&#96;2å­—èŠ‚</td>
<td align="left"><code>-32768</code></td>
<td align="left"><code>3276</code>7</td>
</tr>
<tr>
<td align="left"><code>tinyint</code></td>
<td align="left"><code>1</code>å­—èŠ‚</td>
<td align="left"><code>-128</code></td>
<td align="left"><code>127</code></td>
</tr>
</tbody></table>
<blockquote>
<p>æ•´å‹åˆ—çš„å¯é€‰å‚æ•°</p>
</blockquote>
<ul>
<li><code>unsigned</code> æ— ç¬¦å·ï¼Œåˆ—çš„å€¼ä»<code>0</code>å¼€å§‹ä¸ä¸ºè´Ÿ</li>
<li><code>zerofill M</code>ï¼ˆå®½åº¦ï¼‰é€‚åˆç”¨äº å­¦å· ç¼–ç ç­‰å›ºå®šå®½åº¦çš„æ•°å­—ï¼Œå¯ä»¥ç”¨0å¡«å……è‡³å›ºå®šå®½åº¦</li>
<li>å­¦å·ï¼š<code>1--0001</code></li>
<li>æ³¨æ„ï¼š<code>zerofill</code>å±æ€§é»˜è®¤å†³å®šæ˜¯<code>unsigned</code></li>
</ul>
<h3 id="6-2-æµ®ç‚¹åˆ—ä¸å®šç‚¹åˆ—"><a href="#6-2-æµ®ç‚¹åˆ—ä¸å®šç‚¹åˆ—" class="headerlink" title="6.2 æµ®ç‚¹åˆ—ä¸å®šç‚¹åˆ—"></a>6.2 æµ®ç‚¹åˆ—ä¸å®šç‚¹åˆ—</h3><ul>
<li><code>floatï¼ˆMï¼ŒDï¼‰</code> <code>M</code>æ˜¯ç²¾åº¦æ€»ä½æ•° <code>D</code>ä»£è¡¨å°æ•°ç‚¹åé¢çš„ä½æ•°</li>
<li><code>float/double</code> èŒƒå›´åŒºåˆ«å’Œ<code>decimal</code>ç›¸æ¯”ï¼šæµ®ç‚¹æ•°å­˜å‚¨æœ‰ç²¾åº¦çš„æŸå¤±</li>
<li><code>decimal</code> å®šç‚¹å‹æ›´ç²¾ç¡®</li>
</ul>
<h3 id="6-3-å­—ç¬¦å‹åˆ—"><a href="#6-3-å­—ç¬¦å‹åˆ—" class="headerlink" title="6.3 å­—ç¬¦å‹åˆ—"></a>6.3 å­—ç¬¦å‹åˆ—</h3><ul>
<li><p><code>char(M)</code>â€“<code>char(10)</code>åªèƒ½å­˜<code>10</code>ä¸ªå­—ç¬¦</p>
</li>
<li><pre><code>char
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">å‹:å¦‚æœä¸å¤Ÿ</span><br><span class="line"></span><br></pre></td></tr></table></figure>
M
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  ä¸ªå­—ç¬¦ï¼Œå†…éƒ¨ä¼šç”¨ç©ºæ ¼è¡¥é½ï¼Œå–å‡ºæ—¶åœ¨æŠŠå³ä¾§ç©ºæ ¼åˆ æ‰</span><br><span class="line"></span><br><span class="line">  - æ³¨æ„ï¼šè¿™æ„å‘³ç€å³ä¾§æœ¬èº«æœ‰ç©ºæ ¼å°†ä¼šä¸¢å¤±</span><br><span class="line"></span><br><span class="line">- `varchar(M)`â€“ç”¨å¤šå°‘å å¤šå°‘â€“è‡ªåŠ¨æ‰©å±•</span><br><span class="line"></span><br><span class="line">- `varchar`ä¸ä¼šä¸¢å¤±ç©ºæ ¼</span><br><span class="line"></span><br><span class="line">- é€Ÿåº¦ä¸Šï¼šå®šé•¿`char`å¿«ä¸€äº› åœ¨ä¸€å®šèŒƒå›´å†…ç”¨`char`å®šé•¿å¯»å€å¿« é€Ÿåº¦å¿«</span><br><span class="line"></span><br><span class="line">- `M`æ¯”è¾ƒçŸ­`20`ä¸ªä»¥å†…ç”¨`char`</span><br><span class="line"></span><br><span class="line">- `text` å­˜å¤§æ®µæ–‡æœ¬</span><br><span class="line"></span><br><span class="line">- ```</span><br><span class="line">  blob</span><br></pre></td></tr></table></figure>

 

æ˜¯äºŒè¿›åˆ¶ç±»å‹ ç”¨æ¥å­˜å›¾åƒä¿¡æ¯ éŸ³é¢‘ç­‰äºŒè¿›åˆ¶ä¿¡æ¯

- `blob`æ„ä¹‰åœ¨äºé˜²æ­¢å› ä¸ºå­—ç¬¦é›†çš„é—®é¢˜å¯¼è‡´ä¿¡æ¯ä¸¢å¤±
</code></pre>
</li>
<li><p>&#96;&#96;&#96;<br>enum</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  æšä¸¾ç±»å‹ï¼šæ˜¯å®šä¹‰å¥½ å€¼å°±åœ¨æŸå‡ ä¸ªæšä¸¾èŒƒå›´å†…</span><br><span class="line"></span><br><span class="line">  - `gender emum(&#x27;ç”·&#x27;,&#x27;å¥³&#x27;) insert` åªèƒ½é€‰å…¶ä¸­ä¹‹ä¸€</span><br><span class="line"></span><br><span class="line">### 6.4 æ—¥æœŸæ—¶é—´ç±»å‹</span><br><span class="line"></span><br><span class="line">- `year`ï¼šå­˜å¹´ä»½</span><br><span class="line">- `date`:å­˜å¹´ä»½æ—¥æœŸ2016-18</span><br><span class="line">- `time`ï¼šå­˜æ—¶åˆ†ç§’</span><br><span class="line">- `datetime`:å¹´æœˆæ—¥æ—¶åˆ†ç§’</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>mysql&gt; create table t8(<br>  -&gt; ya year,<br>  -&gt; dt date,<br>  -&gt; tm time,<br>  -&gt; dttm datetime);<br>  -&gt; insert into t8 (ya,dt,tm) values(2015,â€™2015-12-18â€™,â€™18:28:36â€™);</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 6.5 åˆ—çš„é»˜è®¤å€¼</span><br><span class="line"></span><br><span class="line">- `NULL`æŸ¥è¯¢ä¸æ–¹ä¾¿</span><br><span class="line">- `NULL`ç´¢å¼•æ•ˆç‡ä¸é«˜</span><br><span class="line">- å®é™…ä¸­é¿å…åˆ—çš„å€¼ä¸º`NULL`</span><br><span class="line"></span><br><span class="line">&gt; å¦‚ä½•é¿å…ï¼šå£°æ˜åˆ—`NOT NULL default`é»˜è®¤å€¼</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>mysql&gt; create table t10(<br>  -&gt; id int not null default 0,<br>  -&gt; name char(10) not null default â€˜â€™<br>  -&gt; );</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 6.6 ä¸»é”®ä¸è‡ªå¢</span><br><span class="line"></span><br><span class="line">- ä¸»é”®`primary key` æ­¤åˆ—ä¸é‡å¤ï¼Œèƒ½åŒºåˆ†æ¯ä¸€è¡Œ</span><br><span class="line">- `primary key,auto_increment(ä¸€èˆ¬é‚£ä¸¤ä¸ªä¸€èµ·å‡ºç°)`</span><br><span class="line">- æ³¨æ„ï¼šä¸€å¼ è¡¨åˆ—åªèƒ½æœ‰ä¸€åˆ—ä¸º`auto_increment` ä¸”æ­¤åˆ—å¿…é¡»åŠ ç´¢å¼•ï¼ˆ`index` `key`ï¼‰</span><br><span class="line">- ä¼˜åŒ–ï¼š</span><br><span class="line">  - å®šé•¿ï¼ˆ`char`ï¼‰ä¸å˜é•¿ï¼ˆ`varchar`ï¼‰åˆ†ç¦»</span><br><span class="line">  - å¸¸ç”¨ä¸ä¸å¸¸ç”¨åˆ—åˆ†ç¦»</span><br><span class="line">  - èƒ½æé«˜è¡¨çš„æŸ¥è¯¢æ•ˆç‡</span><br><span class="line"></span><br><span class="line">### 6.7 åˆ—çš„åˆ é™¤ä¸å¢åŠ ï¼šï¼ˆåˆ—çš„å¢åˆ æ”¹ï¼‰</span><br><span class="line"></span><br><span class="line">- `alter table è¡¨å add åˆ—å åˆ—ç±»å‹ åˆ—å±æ€§` é»˜è®¤åœ¨è¡¨çš„æœ€å</span><br><span class="line">- `alter table è¡¨å drop column æŒ‡å®šåˆ—`â€“åˆ é™¤åˆ—</span><br><span class="line">- `alter table è¡¨å add åˆ—å åˆ—ç±»å‹ åˆ—å±æ€§` [`after` æŒ‡å®šåˆ—çš„åé¢]</span><br><span class="line">- `alter table è¡¨å change height(è¦ä¿®æ”¹çš„) shengaoï¼ˆè¢«ä¿®æ”¹åçš„ï¼‰ smallint`</span><br><span class="line">- `alter table è¡¨å modify åˆ—å` è¦æ”¹æˆçš„æ–°çš„å±æ€§</span><br><span class="line"></span><br><span class="line">### 6.8 è§†å›¾ï¼šï¼ˆå­˜å‚¨çš„éƒ½æ˜¯è¯­å¥ï¼‰</span><br><span class="line"></span><br><span class="line">&gt; `view`è¢«ç§°ä¸ºè™šæ‹Ÿè¡¨ï¼Œviewæ˜¯sqlè¯­å¥çš„æŸ¥è¯¢ç»“æœï¼ˆç‰©ç†è¡¨çš„ä¸€ä¸ªæ˜ å°„ç»“æœï¼Œç‰©ç†è¡¨ä¸€æ”¹å˜ï¼Œè§†å›¾è¡¨ä¹Ÿæ”¹å˜ï¼‰</span><br><span class="line"></span><br><span class="line">**1. viewå¥½å¤„**</span><br><span class="line"></span><br><span class="line">- æƒé™æ§åˆ¶å¯ç”¨ï¼š</span><br><span class="line">  - æ¯”å¦‚æŸå‡ ä¸ªåˆ—å…è®¸ç”¨æˆ·æŸ¥è¯¢ï¼Œå…¶ä»–ä¸å…è®¸</span><br><span class="line">  - å¯é€šè¿‡è§†å›¾å¼€æ”¾å…¶ä¸­ä¸€åˆ—æˆ–å‡ åˆ—ï¼Œèµ·åˆ°æƒé™æ§åˆ¶ä½œç”¨</span><br><span class="line">- ç®€åŒ–å¤æ‚çš„æŸ¥è¯¢</span><br><span class="line">- è§†å›¾èƒ½æ›´æ–°ï¼Ÿ</span><br><span class="line">  - å¦‚æœè§†å›¾çš„æ¯ä¸€è¡Œæ˜¯ä¸ç‰©ç†è¡¨ä¸€ä¸€å¯¹åº”çš„å¯ä»¥</span><br><span class="line">  - viewçš„è¡Œæ˜¯ç”±ç‰©ç†è¡¨å¤šè¡Œç»è¿‡è®¡ç®—å¾—åˆ°çš„ç»“æœï¼Œviewä¸å¯ä»¥æ›´æ–°</span><br><span class="line"></span><br><span class="line">**2. è§†å›¾çš„algorithm**</span><br><span class="line"></span><br><span class="line">- å¯¹äºæ£€æŸ¥æŸ¥è¯¢å½¢æˆçš„viewï¼Œåœ¨å¯¹viewæŸ¥è¯¢æ—¶ï¼Œå¦‚order by where</span><br><span class="line">- å¯ä»¥æŠŠå»ºè§†å›¾è¯­å¥+æŸ¥è§†å›¾çš„è¯­å¥===åˆå¹¶æˆ==&gt;æŸ¥ç‰©ç†çš„è¯­å¥</span><br><span class="line">- è¿™ç§è§†å›¾çš„ç®—æ³•å«mergerï¼ˆåˆå¹¶ï¼‰</span><br><span class="line"></span><br><span class="line">### 6.9 å¼•æ“çš„æ¦‚å¿µ</span><br><span class="line"></span><br><span class="line">- `mysql 5.0`ä»¥ä¸Šé»˜è®¤çš„å¼•æ“æ˜¯`innoDB` ä¸€èˆ¬å»ºè¡¨æ—¶æŒ‡å®šå¼•æ“</span><br><span class="line">- `myisam`å¼•æ“å­˜å‚¨çš„æ•°æ®å¯ä»¥ç›´æ¥è€ƒå‡ºæ¥æ‹¿å»ç”¨</span><br><span class="line">- `innDB`è¦æŠŠæ•°æ®å¯¼å‡ºæ¥</span><br><span class="line"></span><br><span class="line">&gt; `myisam`å’Œ`innDB`å¼•æ“åŒºåˆ«</span><br><span class="line"></span><br><span class="line">| mysiam           | innDB |        |</span><br><span class="line">| :--------------- | :---- | ------ |</span><br><span class="line">| æ‰¹é‡æ’å…¥çš„é€Ÿåº¦ï¼š | é«˜    | ä½     |</span><br><span class="line">| å­˜å‚¨é™åˆ¶ï¼š       | æ²¡æœ‰  | `64TB` |</span><br><span class="line"></span><br><span class="line">### 6.10 å­—ç¬¦é›†ä¸ä¹±ç é—®é¢˜</span><br><span class="line"></span><br><span class="line">- å­—ç¬¦é›†ã€æ ¡å¯¹é›†(æ’åºè§„åˆ™)ã€ä¹±ç </span><br><span class="line">- æ–‡å­—æœ¬æ¥çš„å­—ç¬¦é›†ä¸å±•ç¤ºçš„å­—ç¬¦é›†ä¸ä¸€è‡´å¯¼è‡´</span><br><span class="line">- å®¢æˆ·ç«¯ç¼–ç è®¾ç½®ï¼š`set names gbk/utf8;`</span><br><span class="line">- è¡¨è®¾ç½®ç¼–ç :`create table ()charset utf8;`</span><br><span class="line">- æœåŠ¡å™¨ç«¯`utf8/gbk` éƒ½å¯</span><br><span class="line">- ç½‘é¡µçš„è¯ï¼š`mate:charset=utf8;`</span><br><span class="line"></span><br><span class="line">### 6.11 ç´¢å¼•</span><br><span class="line"></span><br><span class="line">- ç´¢å¼•æ˜¯æ•°æ®çš„ç›®å½•ï¼Œèƒ½å¿«é€Ÿå®šä½è¡Œæ•°æ®çš„ä½ç½®</span><br><span class="line">- ç´¢å¼•æé«˜äº†æŸ¥è¯¢çš„é€Ÿåº¦ï¼Œé™ä½äº†å¢åˆ æ”¹çš„é€Ÿåº¦ï¼Œå¹¶éè¶Šå¤šè¶Šå¥½</span><br><span class="line">- ä¸€èˆ¬åœ¨æŸ¥è¯¢é¢‘ç‡çš„åˆ—ä¸ŠåŠ ï¼Œè€Œä¸”åœ¨é‡å¤ä½åˆ—ä¸ŠåŠ æ•ˆæœå¥½</span><br><span class="line">- `key` æ™®é€šç´¢å¼•</span><br><span class="line">- `unique key` å”¯ä¸€é”®</span><br><span class="line">- `primary key` ä¸»é”®ç´¢å¼•</span><br><span class="line">- ç´¢å¼•é•¿åº¦ï¼šå»ºç´¢å¼•æ—¶ï¼Œå¯ä»¥åªç´¢å¼•åˆ—çš„å‰ä¸€éƒ¨åˆ†çš„å†…å®¹æ¯”å¦‚ï¼šå‰åä¸ªå­—ç¬¦ `key email(email(10));`</span><br><span class="line">- å¤šåˆ—ç´¢å¼•:å°±æ˜¯æŠŠ`2`åˆ—æˆ–è€…å¤šåˆ—çš„å€¼ï¼Œçœ‹æˆä¸€ä¸ªæ•´ä½“ï¼Œç„¶åé”®ç´¢å¼•</span><br><span class="line">- å†—ä½™ç´¢å¼•ï¼šåœ¨æŸä¸ªåˆ—ä¸Šå¯èƒ½å­˜åœ¨å¤šä¸ªç´¢å¼•</span><br><span class="line"></span><br><span class="line">### 6.12 ç´¢å¼•æ“ä½œ</span><br><span class="line"></span><br><span class="line">- æŸ¥çœ‹ç´¢å¼•ï¼š`show index from goods\G`</span><br><span class="line"></span><br><span class="line">- åˆ é™¤ç´¢å¼•ï¼š</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>alter table è¡¨å drop index ç´¢å¼•å</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  - æˆ–è€…ï¼š`drop index ç´¢å¼•å on è¡¨å`</span><br><span class="line"></span><br><span class="line">- æ·»åŠ ï¼š`alter table è¡¨å add [index \unqiue]ç´¢å¼•å(åˆ—å)`</span><br><span class="line"></span><br><span class="line">- æ·»åŠ ä¸»é”®ç´¢å¼•ï¼š`alter table è¡¨å add primary key åˆ—å`</span><br><span class="line"></span><br><span class="line">- åˆ é™¤ä¸»é”®ç´¢å¼•ï¼š`alter table è¡¨å drop primary key`</span><br><span class="line"></span><br><span class="line">## ä¸ƒã€å¸¸ç”¨å‡½æ•°</span><br><span class="line"></span><br><span class="line">### 7.1 æ•°å­¦å‡½æ•°</span><br><span class="line"></span><br><span class="line">- `abs(x)` è¿”å›xçš„ç»å¯¹å€¼</span><br><span class="line">- `bin(x)` è¿”å›xçš„äºŒè¿›åˆ¶ï¼ˆoctè¿”å›å…«è¿›åˆ¶ï¼Œhexè¿”å›åå…­è¿›åˆ¶ï¼‰</span><br><span class="line">- `ceiling(x)` è¿”å›å¤§äºxçš„æœ€å°æ•´æ•°å€¼</span><br><span class="line">- `exp(x)` è¿”å›å€¼`e`ï¼ˆè‡ªç„¶å¯¹æ•°çš„åº•ï¼‰çš„`x`æ¬¡æ–¹</span><br><span class="line">- `floor(x)` è¿”å›å°äº`x`çš„æœ€å¤§æ•´æ•°å€¼</span><br><span class="line">- `greatest(x1,x2,...,xn)`è¿”å›é›†åˆä¸­æœ€å¤§çš„å€¼</span><br><span class="line">- `least(x1,x2,...,xn)` è¿”å›é›†åˆä¸­æœ€å°çš„å€¼</span><br><span class="line">- `ln(x)` è¿”å›xçš„è‡ªç„¶å¯¹æ•°</span><br><span class="line">- `log(x,y)`è¿”å›`x`çš„ä»¥`y`ä¸ºåº•çš„å¯¹æ•°</span><br><span class="line">- `mod(x,y)` è¿”å›x/yçš„æ¨¡ï¼ˆä½™æ•°ï¼‰</span><br><span class="line">- `pi()`è¿”å›`pi`çš„å€¼ï¼ˆåœ†å‘¨ç‡ï¼‰</span><br><span class="line">- `rand()`è¿”å›`ï¼`åˆ°`1`å†…çš„éšæœºå€¼,å¯ä»¥é€šè¿‡æä¾›ä¸€ä¸ªå‚æ•°(ç§å­)ä½¿`rand()`éšæœºæ•°ç”Ÿæˆå™¨ç”Ÿæˆä¸€ä¸ªæŒ‡å®šçš„å€¼ã€‚</span><br><span class="line">- `round(x,y)`è¿”å›å‚æ•°`x`çš„å››èˆäº”å…¥çš„æœ‰`y`ä½å°æ•°çš„å€¼</span><br><span class="line">- `sign(x)`è¿”å›ä»£è¡¨æ•°å­—`x`çš„ç¬¦å·çš„å€¼</span><br><span class="line">- `sqrt(x)`è¿”å›ä¸€ä¸ªæ•°çš„å¹³æ–¹æ ¹</span><br><span class="line">- `truncate(x,y)` è¿”å›æ•°å­—`x`æˆªçŸ­ä¸º`y`ä½å°æ•°çš„ç»“æœ</span><br><span class="line"></span><br><span class="line">### 7.2 èšåˆå‡½æ•°(å¸¸ç”¨äºgroup byä»å¥çš„selectæŸ¥è¯¢ä¸­)</span><br><span class="line"></span><br><span class="line">- `avg(col)`è¿”å›æŒ‡å®šåˆ—çš„å¹³å‡å€¼</span><br><span class="line">- `count(col)`è¿”å›æŒ‡å®šåˆ—ä¸­é`null`å€¼çš„ä¸ªæ•°</span><br><span class="line">- `min(col)`è¿”å›æŒ‡å®šåˆ—çš„æœ€å°å€¼</span><br><span class="line">- `max(col)`è¿”å›æŒ‡å®šåˆ—çš„æœ€å¤§å€¼</span><br><span class="line">- `sum(col)`è¿”å›æŒ‡å®šåˆ—çš„æ‰€æœ‰å€¼ä¹‹å’Œ</span><br><span class="line">- `group_concat(col)`è¿”å›ç”±å±äºä¸€ç»„çš„åˆ—å€¼è¿æ¥ç»„åˆè€Œæˆçš„ç»“æœ</span><br><span class="line"></span><br><span class="line">### 7.3 å­—ç¬¦ä¸²å‡½æ•°</span><br><span class="line"></span><br><span class="line">- `ascii(char)`è¿”å›å­—ç¬¦çš„`ascii`ç å€¼</span><br><span class="line">- `bit_length(str)`è¿”å›å­—ç¬¦ä¸²çš„æ¯”ç‰¹é•¿åº¦</span><br><span class="line">- `concat(s1,s2...,sn)`å°†s`1,s2...,sn`è¿æ¥æˆå­—ç¬¦ä¸²</span><br><span class="line">- `concat_ws(sep,s1,s2...,sn)`å°†`s1,s2...,sn`è¿æ¥æˆå­—ç¬¦ä¸²ï¼Œå¹¶ç”¨`sep`å­—ç¬¦é—´éš”</span><br><span class="line">- `insert(str,x,y,instr)`å°†å­—ç¬¦ä¸²`str`ä»ç¬¬`x`ä½ç½®å¼€å§‹ï¼Œ`y`ä¸ªå­—ç¬¦é•¿çš„å­ä¸²æ›¿æ¢ä¸ºå­—ç¬¦ä¸²`instr`ï¼Œè¿”å›ç»“æœ</span><br><span class="line">- `find_in_set(str,list)`åˆ†æé€—å·åˆ†éš”çš„`list`åˆ—è¡¨ï¼Œå¦‚æœå‘ç°`str`ï¼Œè¿”å›`str`åœ¨`list`ä¸­çš„ä½ç½®</span><br><span class="line">- `lcase(str)`æˆ–`lower(str)` è¿”å›å°†å­—ç¬¦ä¸²`str`ä¸­æ‰€æœ‰å­—ç¬¦æ”¹å˜ä¸ºå°å†™åçš„ç»“æœ</span><br><span class="line">- `left(str,x)`è¿”å›å­—ç¬¦ä¸²`str`ä¸­æœ€å·¦è¾¹çš„`x`ä¸ªå­—ç¬¦</span><br><span class="line">- `length(s)`è¿”å›å­—ç¬¦ä¸²`str`ä¸­çš„å­—ç¬¦æ•°</span><br><span class="line">- `ltrim(str)` ä»å­—ç¬¦ä¸²`str`ä¸­åˆ‡æ‰å¼€å¤´çš„ç©ºæ ¼</span><br><span class="line">- `position(substr,str)` è¿”å›å­ä¸²`substr`åœ¨å­—ç¬¦ä¸²`str`ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®</span><br><span class="line">- `quote(str)` ç”¨åæ–œæ è½¬ä¹‰`str`ä¸­çš„å•å¼•å·</span><br><span class="line">- `repeat(str,srchstr,rplcstr)`è¿”å›å­—ç¬¦ä¸²`str`é‡å¤`x`æ¬¡çš„ç»“æœ</span><br><span class="line">- `reverse(str) è¿”å›é¢ å€’å­—ç¬¦ä¸²`str`çš„ç»“æœ</span><br><span class="line">- `right(str,x) è¿”å›å­—ç¬¦ä¸²`str`ä¸­æœ€å³è¾¹çš„`x`ä¸ªå­—ç¬¦</span><br><span class="line">- `rtrim(str) è¿”å›å­—ç¬¦ä¸²`str`å°¾éƒ¨çš„ç©ºæ ¼</span><br><span class="line">- `strcmp(s1,s2)`æ¯”è¾ƒå­—ç¬¦ä¸²`s1`å’Œ`s2`</span><br><span class="line">- `trim(str)`å»é™¤å­—ç¬¦ä¸²é¦–éƒ¨å’Œå°¾éƒ¨çš„æ‰€æœ‰ç©ºæ ¼</span><br><span class="line">- `ucase(str)`æˆ–`upper(str)` è¿”å›å°†å­—ç¬¦ä¸²`str`ä¸­æ‰€æœ‰å­—ç¬¦è½¬å˜ä¸ºå¤§å†™åçš„ç»“æœ</span><br><span class="line"></span><br><span class="line">### 7.4 æ—¥æœŸå’Œæ—¶é—´å‡½æ•°</span><br><span class="line"></span><br><span class="line">- `curdate()`æˆ–`current_date()` è¿”å›å½“å‰çš„æ—¥æœŸ</span><br><span class="line">- `curtime()`æˆ–`current_time()` è¿”å›å½“å‰çš„æ—¶é—´</span><br><span class="line">- `date_add(date,interval int - keyword)`è¿”å›æ—¥æœŸ`date`åŠ ä¸Šé—´éš”æ—¶é—´`int`çš„ç»“æœ(`int`å¿…é¡»æŒ‰ç…§å…³é”®å­—è¿›è¡Œæ ¼å¼åŒ–),å¦‚ï¼š`selectdate_add(current_date,interval 6 month);`</span><br><span class="line">- `date_format(date,fmt)` ä¾ç…§æŒ‡å®šçš„`fmt`æ ¼å¼æ ¼å¼åŒ–æ—¥æœŸ`date`å€¼</span><br><span class="line">- `date_sub(date,interval int - keyword)`è¿”å›æ—¥æœŸ`date`åŠ ä¸Šé—´éš”æ—¶é—´`int`çš„ç»“æœ(`int`å¿…é¡»æŒ‰ç…§å…³é”®å­—è¿›è¡Œæ ¼å¼åŒ–),å¦‚ï¼š`selectdate_sub(current_date,interval 6 month);`</span><br><span class="line">- `dayofweek(date)` è¿”å›dateæ‰€ä»£è¡¨çš„ä¸€æ˜ŸæœŸä¸­çš„ç¬¬å‡ å¤©(`1~7`)</span><br><span class="line">- `dayofmonth(date)` è¿”å›dateæ˜¯ä¸€ä¸ªæœˆçš„ç¬¬å‡ å¤©(`1~31`)</span><br><span class="line">- `dayofyear(date)` è¿”å›dateæ˜¯ä¸€å¹´çš„ç¬¬å‡ å¤©(`1~366`)</span><br><span class="line">- `dayname(date)` è¿”å›dateçš„æ˜ŸæœŸåï¼Œå¦‚ï¼š`select dayname(current_date);`</span><br><span class="line">- `from_unixtime(ts,fmt)` æ ¹æ®æŒ‡å®šçš„`fmt`æ ¼å¼ï¼Œæ ¼å¼åŒ–`unix`æ—¶é—´æˆ³`ts`</span><br><span class="line">- `hour(time)` è¿”å›timeçš„å°æ—¶å€¼`(0~23)`</span><br><span class="line">- `minute(time)` è¿”å›timeçš„åˆ†é’Ÿå€¼`(0~59)`</span><br><span class="line">- `month(date)` è¿”å›`date`çš„æœˆä»½å€¼`(1~12)`</span><br><span class="line">- `monthname(date)` è¿”å›`date`çš„æœˆä»½åï¼Œå¦‚ï¼š`select monthname(current_date);`</span><br><span class="line">- `now()` è¿”å›å½“å‰çš„æ—¥æœŸå’Œæ—¶é—´</span><br><span class="line">- `quarter(date)` è¿”å›`date`åœ¨ä¸€å¹´ä¸­çš„å­£åº¦`(1~4)`ï¼Œå¦‚`select quarter(current_date);``</span><br><span class="line">- `week(date)` è¿”å›æ—¥æœŸ`date`ä¸ºä¸€å¹´ä¸­ç¬¬å‡ å‘¨(`0~53`)</span><br><span class="line">- `year(date)` è¿”å›æ—¥æœŸ`date`çš„å¹´ä»½(`1000~9999`)</span><br><span class="line"></span><br><span class="line">**ä¸€äº›ç¤ºä¾‹**</span><br><span class="line"></span><br><span class="line">- è·å–å½“å‰ç³»ç»Ÿæ—¶é—´ï¼š</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>select from_unixtime(unix_timestamp());</p>
</li>
</ul>
<p>select extract(year_month from current_date);</p>
<p>select extract(day_second from current_date);</p>
<p>select extract(hour_minute from current_date);</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- è¿”å›ä¸¤ä¸ªæ—¥æœŸå€¼ä¹‹é—´çš„å·®å€¼(æœˆæ•°)ï¼š</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>select period_diff(200302,199802);</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- åœ¨`mysql`ä¸­è®¡ç®—å¹´é¾„ï¼š</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>select date_format(from_days(to_days(now())-to_days(birthday)),â€™%yâ€™)+0 as age from employee;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; è¿™æ ·ï¼Œå¦‚æœ`brithday`æ˜¯æœªæ¥çš„å¹´æœˆæ—¥çš„è¯ï¼Œè®¡ç®—ç»“æœä¸º`0`ã€‚</span><br><span class="line"></span><br><span class="line">ä¸‹é¢çš„`sql`è¯­å¥è®¡ç®—å‘˜å·¥çš„ç»å¯¹å¹´é¾„ï¼Œå³å½“`birthday`æ˜¯æœªæ¥çš„æ—¥æœŸæ—¶ï¼Œå°†å¾—åˆ°è´Ÿå€¼</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>select date_format(now(), â€˜%yâ€™) - date_format(birthday, â€˜%yâ€™) -(date_format(now(), â€˜00-%m-%dâ€™) &lt;date_format(birthday, â€˜00-%m-%dâ€™)) as age from employee</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 7.5 åŠ å¯†å‡½æ•°</span><br><span class="line"></span><br><span class="line">- `aes_encrypt(str,key)` è¿”å›ç”¨å¯†é’¥`key`å¯¹å­—ç¬¦ä¸²`str`åˆ©ç”¨é«˜çº§åŠ å¯†æ ‡å‡†ç®—æ³•åŠ å¯†åçš„ç»“æœï¼Œè°ƒç”¨`aes_encrypt`çš„ç»“æœæ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œä»¥`blob`ç±»å‹å­˜å‚¨</span><br><span class="line">- `aes_decrypt(str,key)` è¿”å›ç”¨å¯†é’¥`key`å¯¹å­—ç¬¦ä¸²`str`åˆ©ç”¨é«˜çº§åŠ å¯†æ ‡å‡†ç®—æ³•è§£å¯†åçš„ç»“æœ</span><br><span class="line">- `decode(str,key)` ä½¿ç”¨`key`ä½œä¸ºå¯†é’¥è§£å¯†åŠ å¯†å­—ç¬¦ä¸²`str`</span><br><span class="line">- `encrypt(str,salt)` ä½¿ç”¨`unixcrypt()`å‡½æ•°ï¼Œç”¨å…³é”®è¯`salt`(ä¸€ä¸ªå¯ä»¥æƒŸä¸€ç¡®å®šå£ä»¤çš„å­—ç¬¦ä¸²ï¼Œå°±åƒé’¥åŒ™ä¸€æ ·)åŠ å¯†å­—ç¬¦ä¸²`str`</span><br><span class="line">- `encode(str,key)` ä½¿ç”¨keyä½œä¸ºå¯†é’¥åŠ å¯†å­—ç¬¦ä¸²strï¼Œè°ƒç”¨`encode()`çš„ç»“æœæ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œå®ƒä»¥`blob`ç±»å‹å­˜å‚¨</span><br><span class="line">- `md5()` è®¡ç®—å­—ç¬¦ä¸²`str`çš„`md5`æ ¡éªŒå’Œ</span><br><span class="line">- `password(str)` è¿”å›å­—ç¬¦ä¸²`str`çš„åŠ å¯†ç‰ˆæœ¬ï¼Œè¿™ä¸ªåŠ å¯†è¿‡ç¨‹æ˜¯ä¸å¯é€†è½¬çš„ï¼Œå’Œ`unix`å¯†ç åŠ å¯†è¿‡ç¨‹ä½¿ç”¨ä¸åŒçš„ç®—æ³•ã€‚</span><br><span class="line">- `sha()` è®¡ç®—å­—ç¬¦ä¸²`str`çš„å®‰å…¨æ•£åˆ—ç®—æ³•(`sha`)æ ¡éªŒå’Œ</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="ç¤ºä¾‹ï¼š"><a href="#ç¤ºä¾‹ï¼š" class="headerlink" title="ç¤ºä¾‹ï¼š"></a>ç¤ºä¾‹ï¼š</h1><p>select encrypt(â€˜rootâ€™,â€™saltâ€™);<br>select encode(â€˜xufengâ€™,â€™keyâ€™);<br>select decode(encode(â€˜xufengâ€™,â€™keyâ€™),â€™keyâ€™);#åŠ è§£å¯†æ”¾åœ¨ä¸€èµ·<br>select aes_encrypt(â€˜rootâ€™,â€™keyâ€™);<br>select aes_decrypt(aes_encrypt(â€˜rootâ€™,â€™keyâ€™),â€™keyâ€™);<br>select md5(â€˜123456â€™);<br>select sha(â€˜123456â€™);</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 7.6 æ ¼å¼åŒ–å‡½æ•°</span><br><span class="line"></span><br><span class="line">- `date_format(date,fmt)` ä¾ç…§å­—ç¬¦ä¸²`fmt`æ ¼å¼åŒ–æ—¥æœŸ`date`å€¼</span><br><span class="line">- `format(x,y)` æŠŠ`x`æ ¼å¼åŒ–ä¸ºä»¥é€—å·éš”å¼€çš„æ•°å­—åºåˆ—ï¼Œ`y`æ˜¯ç»“æœçš„å°æ•°ä½æ•°</span><br><span class="line">- `inet_aton(ip)` è¿”å›`ip`åœ°å€çš„æ•°å­—è¡¨ç¤º</span><br><span class="line">- `inet_ntoa(num)` è¿”å›æ•°å­—æ‰€ä»£è¡¨çš„`ip`åœ°å€</span><br><span class="line">- `time_format(time,fmt)` ä¾ç…§å­—ç¬¦ä¸²`fmt`æ ¼å¼åŒ–æ—¶é—´`time`å€¼</span><br><span class="line">- å…¶ä¸­æœ€ç®€å•çš„æ˜¯`format()`å‡½æ•°ï¼Œå®ƒå¯ä»¥æŠŠå¤§çš„æ•°å€¼æ ¼å¼åŒ–ä¸ºä»¥é€—å·é—´éš”çš„æ˜“è¯»çš„åºåˆ—ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="ç¤ºä¾‹ï¼š-1"><a href="#ç¤ºä¾‹ï¼š-1" class="headerlink" title="ç¤ºä¾‹ï¼š"></a>ç¤ºä¾‹ï¼š</h1><p>select format(34234.34323432,3);</p>
<p>select date_format(now(),â€™%w,%d %m %y %râ€™);</p>
<p>select date_format(now(),â€™%y-%m-%dâ€™);</p>
<p>select date_format(19990330,â€™%y-%m-%dâ€™);</p>
<p>select date_format(now(),â€™%h:%i %pâ€™);</p>
<p>select inet_aton(â€˜10.122.89.47â€™);</p>
<p>select inet_ntoa(175790383);</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 7.7 ç±»å‹è½¬åŒ–å‡½æ•°</span><br><span class="line"></span><br><span class="line">&gt; ä¸ºäº†è¿›è¡Œæ•°æ®ç±»å‹è½¬åŒ–ï¼Œ`mysql`æä¾›äº†`cast()`å‡½æ•°ï¼Œå®ƒå¯ä»¥æŠŠä¸€ä¸ªå€¼è½¬åŒ–ä¸ºæŒ‡å®šçš„æ•°æ®ç±»å‹ã€‚ç±»å‹æœ‰ï¼š`binary`,`char`,`date`,`time`,`datetime`,`igned`,`unsigned`</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="ç¤ºä¾‹ï¼š-2"><a href="#ç¤ºä¾‹ï¼š-2" class="headerlink" title="ç¤ºä¾‹ï¼š"></a>ç¤ºä¾‹ï¼š</h1><p>select cast(now() as signed integer),curdate()+0;<br>select â€˜fâ€™&#x3D;binary â€˜fâ€™,â€™fâ€™&#x3D;cast(â€˜fâ€™ as binary);</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 7.8 ç³»ç»Ÿä¿¡æ¯å‡½æ•°</span><br><span class="line"></span><br><span class="line">- `database()` è¿”å›å½“å‰æ•°æ®åº“å</span><br><span class="line">- `benchmark(count,expr)` å°†è¡¨è¾¾å¼`expr`é‡å¤è¿è¡Œ`count`æ¬¡</span><br><span class="line">- `connection_id()` è¿”å›å½“å‰å®¢æˆ·çš„è¿æ¥`id`</span><br><span class="line">- `found_rows()` è¿”å›æœ€åä¸€ä¸ª`select`æŸ¥è¯¢è¿›è¡Œæ£€ç´¢çš„æ€»è¡Œæ•°</span><br><span class="line">- `user()`æˆ–`system_user()` è¿”å›å½“å‰ç™»é™†ç”¨æˆ·å</span><br><span class="line">- `version()` è¿”å›`mysql`æœåŠ¡å™¨çš„ç‰ˆæœ¬</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="ç¤ºä¾‹ï¼š-3"><a href="#ç¤ºä¾‹ï¼š-3" class="headerlink" title="ç¤ºä¾‹ï¼š"></a>ç¤ºä¾‹ï¼š</h1><p>select database(),version(),user();</p>
<p>#è¯¥ä¾‹ä¸­,mysqlè®¡ç®—log(rand()*pi())è¡¨è¾¾å¼9999999æ¬¡ã€‚<br>selectbenchmark(9999999,log(rand()*pi()));</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## å…«ã€Mysqlåæ¡å¸¸ç”¨è¯­å¥</span><br><span class="line"></span><br><span class="line">**1. é“¾æ¥åˆ°æ•°æ®åº“æœåŠ¡å™¨**</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>mysql -h åœ°å€ -u root -p å¯†ç </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**2. æŸ¥çœ‹æ‰€æœ‰åº“**</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>show databases;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**3. é€‰åº“**</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>use åº“å</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**4. æŸ¥çœ‹åº“ä¸‹é¢çš„è¡¨**</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>show tables;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**5. å»ºè¡¨**</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>create table msg{<br>    id int auto_increment primary keyï¼Œ<br>    content varcha(200)ï¼Œ<br>    pubtime int<br>}charset utf8;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**6. å‘Šè¯‰æœåŠ¡å™¨ä½ çš„å­—ç¬¦é›†ï¼šset names gbk/utg8;**</span><br><span class="line"></span><br><span class="line">**7. æ·»åŠ æ•°æ®**</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>insert into msg(id,content,pubtime) values(1,â€™å“ˆå“ˆå“ˆå“ˆâ€™,13445);</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**8. æŸ¥è¯¢æ‰€æœ‰æ•°æ®**</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>select * from msg;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**9. æŒ‰idæŸ¥è¯¢**</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>select * from where id &#x3D; 2â€¦</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**10. å¿«é€Ÿæ¸…ç©ºè¡¨**</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>truncate è¡¨å</p>
<p>&#96;&#96;&#96;</p>
<h2 id="ä¹ã€å¯è§†åŒ–ç®¡ç†æ•°æ®"><a href="#ä¹ã€å¯è§†åŒ–ç®¡ç†æ•°æ®" class="headerlink" title="ä¹ã€å¯è§†åŒ–ç®¡ç†æ•°æ®"></a>ä¹ã€å¯è§†åŒ–ç®¡ç†æ•°æ®</h2><blockquote>
<p>ä¸€èˆ¬ä¸ºäº†æ–¹ä¾¿ç®¡ç†æ•°æ®ï¼Œæˆ‘ä»¬éƒ½éœ€è¦ç”¨åˆ°å¯è§†åŒ–å·¥å…·</p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.navicat.com.cn/download/navicat-for-mysql">navicat-for-mysql</a></li>
</ul>
<blockquote>
<p>è¿™é‡Œæä¾›ä¸€ä»½æ•°æ®è¡¨ï¼Œä¾›å­¦ä¹ ä½¿ç”¨ï¼Œ<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_33699659/article/details/79261661">å¯¼å…¥sqlæ•°æ®åˆ°navicat</a></p>
</blockquote>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://blog.poetries.top/sql/mysql-table.sql">http://blog.poetries.top/sql/mysql-table.sql</a></p>
</blockquote>

        
    </article>
    <footer class="cube-excerpt-footer">
        <a class="cube-excerpt-more" href="/2019/03/15/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/">Read More</a>
    </footer>
</div>

<div class="cube-excerpt" id="cube-excerpt-å‘å¸ƒè®¢é˜…ã€è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆè§‚å¯Ÿè€…æ¨¡å¼ï¼‰">
    <header class="cube-excerpt-header">
        <h1><a href="/2019/03/08/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E3%80%81%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/">å‘å¸ƒè®¢é˜…ã€è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆè§‚å¯Ÿè€…æ¨¡å¼ï¼‰</a></h1>
        <div class="cube-excerpt-header-msg">
            <div class="cube-excerpt-date">
                <i class="cube-icon cube-icon-date" aria-hidden="true"></i>
                2019-03-08
            </div>
            <div class="cube-excerpt-tags">
                <i class="cube-icon cube-icon-tag" aria-hidden="true"></i>
                
                <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="cube-excerpt-tag-link">#è®¾è®¡æ¨¡å¼</a>
                
            </div>
        </div>
    </header>
    <article class="cube-excerpt-entry cube-markdown">
        
        
           <h2 id="ä¸€ã€è§‚å¯Ÿè€…æ¨¡å¼"><a href="#ä¸€ã€è§‚å¯Ÿè€…æ¨¡å¼" class="headerlink" title="ä¸€ã€è§‚å¯Ÿè€…æ¨¡å¼"></a>ä¸€ã€è§‚å¯Ÿè€…æ¨¡å¼</h2><p>è§‚å¯Ÿè€…æ¨¡å¼å®šä¹‰äº†å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å°†å¾—åˆ°é€šçŸ¥ï¼Œå¹¶è‡ªåŠ¨æ›´æ–°</p>
<p>è§‚å¯Ÿè€…æ¨¡å¼å±äºè¡Œä¸ºå‹æ¨¡å¼ï¼Œè¡Œä¸ºå‹æ¨¡å¼å…³æ³¨çš„æ˜¯å¯¹è±¡ä¹‹é—´çš„é€šè®¯ï¼Œè§‚å¯Ÿè€…æ¨¡å¼å°±æ˜¯è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…ä¹‹é—´çš„é€šè®¯</p>
<p><img src="https://static.vue-js.com/d3a80020-3f7c-11ec-a752-75723a64e8f5.png" alt="img"></p>
<p>ä¾‹å¦‚ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æŠ¥çº¸æœŸåˆŠçš„è®¢é˜…æ¥å½¢è±¡çš„è¯´æ˜ï¼Œå½“ä½ è®¢é˜…äº†ä¸€ä»½æŠ¥çº¸ï¼Œæ¯å¤©éƒ½ä¼šæœ‰ä¸€ä»½æœ€æ–°çš„æŠ¥çº¸é€åˆ°ä½ æ‰‹ä¸Šï¼Œæœ‰å¤šå°‘äººè®¢é˜…æŠ¥çº¸ï¼ŒæŠ¥ç¤¾å°±ä¼šå‘å¤šå°‘ä»½æŠ¥çº¸</p>
<p>æŠ¥ç¤¾å’Œè®¢æŠ¥çº¸çš„å®¢æˆ·å°±å½¢æˆäº†ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»</p>
<p>å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<p>è¢«è§‚å¯Ÿè€…æ¨¡å¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Subject</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observerList</span> = [];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">addObserver</span>(<span class="params">observer</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observerList</span>.<span class="title function_">push</span>(observer);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">removeObserver</span>(<span class="params">observer</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> index = <span class="variable language_">this</span>.<span class="property">observerList</span>.<span class="title function_">findIndex</span>(<span class="function"><span class="params">o</span> =&gt;</span> o.<span class="property">name</span> === observer.<span class="property">name</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">observerList</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">notifyObservers</span>(<span class="params">message</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> observers = <span class="variable language_">this</span>.<span class="property">observeList</span>;</span><br><span class="line">    observers.<span class="title function_">forEach</span>(<span class="function"><span class="params">observer</span> =&gt;</span> observer.<span class="title function_">notified</span>(message));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è§‚å¯Ÿè€…ï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">class Observer &#123;</span><br><span class="line"></span><br><span class="line">  constructor(name, subject) &#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">    if (subject) &#123;</span><br><span class="line">      subject.addObserver(this);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  notified(message) &#123;</span><br><span class="line">    console.log(this.name, &#x27;got message&#x27;, message);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> subject = <span class="keyword">new</span> <span class="title class_">Subject</span>();</span><br><span class="line"><span class="keyword">const</span> observerA = <span class="keyword">new</span> <span class="title class_">Observer</span>(<span class="string">&#x27;observerA&#x27;</span>, subject);</span><br><span class="line"><span class="keyword">const</span> observerB = <span class="keyword">new</span> <span class="title class_">Observer</span>(<span class="string">&#x27;observerB&#x27;</span>);</span><br><span class="line">subject.<span class="title function_">addObserver</span>(observerB);</span><br><span class="line">subject.<span class="title function_">notifyObservers</span>(<span class="string">&#x27;Hello from subject&#x27;</span>);</span><br><span class="line">subject.<span class="title function_">removeObserver</span>(observerA);</span><br><span class="line">subject.<span class="title function_">notifyObservers</span>(<span class="string">&#x27;Hello again&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°ä»£ç ä¸­ï¼Œè§‚å¯Ÿè€…ä¸»åŠ¨ç”³è¯·åŠ å…¥è¢«è§‚å¯Ÿè€…çš„åˆ—è¡¨ï¼Œè¢«è§‚å¯Ÿè€…ä¸»åŠ¨å°†è§‚å¯Ÿè€…åŠ å…¥åˆ—è¡¨</p>
<h2 id="äºŒã€å‘å¸ƒè®¢é˜…æ¨¡å¼"><a href="#äºŒã€å‘å¸ƒè®¢é˜…æ¨¡å¼" class="headerlink" title="äºŒã€å‘å¸ƒè®¢é˜…æ¨¡å¼"></a>äºŒã€å‘å¸ƒè®¢é˜…æ¨¡å¼</h2><p>å‘å¸ƒ-è®¢é˜…æ˜¯ä¸€ç§æ¶ˆæ¯èŒƒå¼ï¼Œæ¶ˆæ¯çš„å‘é€è€…ï¼ˆç§°ä¸ºå‘å¸ƒè€…ï¼‰ä¸ä¼šå°†æ¶ˆæ¯ç›´æ¥å‘é€ç»™ç‰¹å®šçš„æ¥æ”¶è€…ï¼ˆç§°ä¸ºè®¢é˜…è€…ï¼‰ã€‚è€Œæ˜¯å°†å‘å¸ƒçš„æ¶ˆæ¯åˆ†ä¸ºä¸åŒçš„ç±»åˆ«ï¼Œæ— éœ€äº†è§£å“ªäº›è®¢é˜…è€…ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰å¯èƒ½å­˜åœ¨</p>
<p>åŒæ ·çš„ï¼Œè®¢é˜…è€…å¯ä»¥è¡¨è¾¾å¯¹ä¸€ä¸ªæˆ–å¤šä¸ªç±»åˆ«çš„å…´è¶£ï¼Œåªæ¥æ”¶æ„Ÿå…´è¶£çš„æ¶ˆæ¯ï¼Œæ— éœ€äº†è§£å“ªäº›å‘å¸ƒè€…å­˜åœ¨</p>
<p><img src="https://static.vue-js.com/e24d3cd0-3f7c-11ec-8e64-91fdec0f05a1.png" alt="img"></p>
<p>å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">PubSub</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">messages</span> = &#123;&#125;;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">listeners</span> = &#123;&#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// æ·»åŠ å‘å¸ƒè€…</span></span><br><span class="line">  <span class="title function_">publish</span>(<span class="params">type, content</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> existContent = <span class="variable language_">this</span>.<span class="property">messages</span>[type];</span><br><span class="line">    <span class="keyword">if</span> (!existContent) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">messages</span>[type] = [];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">messages</span>[type].<span class="title function_">push</span>(content);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// æ·»åŠ è®¢é˜…è€…</span></span><br><span class="line">  <span class="title function_">subscribe</span>(<span class="params">type, cb</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> existListener = <span class="variable language_">this</span>.<span class="property">listeners</span>[type];</span><br><span class="line">    <span class="keyword">if</span> (!existListener) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">listeners</span>[type] = [];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">listeners</span>[type].<span class="title function_">push</span>(cb);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// é€šçŸ¥</span></span><br><span class="line">  <span class="title function_">notify</span>(<span class="params">type</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> messages = <span class="variable language_">this</span>.<span class="property">messages</span>[type];</span><br><span class="line">    <span class="keyword">const</span> subscribers = <span class="variable language_">this</span>.<span class="property">listeners</span>[type] || [];</span><br><span class="line">    subscribers.<span class="title function_">forEach</span>(<span class="function">(<span class="params">cb, index</span>) =&gt;</span> <span class="title function_">cb</span>(messages[index]));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‘å¸ƒè€…ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Publisher</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name, context</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">context</span> = context;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">publish</span>(<span class="params">type, content</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">context</span>.<span class="title function_">publish</span>(type, content);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è®¢é˜…è€…ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Subscriber</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name, context</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">context</span> = context;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">subscribe</span>(<span class="params">type, cb</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">context</span>.<span class="title function_">subscribe</span>(type, cb);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">TYPE_A</span> = <span class="string">&#x27;music&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">TYPE_B</span> = <span class="string">&#x27;movie&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">TYPE_C</span> = <span class="string">&#x27;novel&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> pubsub = <span class="keyword">new</span> <span class="title class_">PubSub</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> publisherA = <span class="keyword">new</span> <span class="title class_">Publisher</span>(<span class="string">&#x27;publisherA&#x27;</span>, pubsub);</span><br><span class="line">publisherA.<span class="title function_">publish</span>(<span class="variable constant_">TYPE_A</span>, <span class="string">&#x27;we are young&#x27;</span>);</span><br><span class="line">publisherA.<span class="title function_">publish</span>(<span class="variable constant_">TYPE_B</span>, <span class="string">&#x27;the silicon valley&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> publisherB = <span class="keyword">new</span> <span class="title class_">Publisher</span>(<span class="string">&#x27;publisherB&#x27;</span>, pubsub);</span><br><span class="line">publisherB.<span class="title function_">publish</span>(<span class="variable constant_">TYPE_A</span>, <span class="string">&#x27;stronger&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> publisherC = <span class="keyword">new</span> <span class="title class_">Publisher</span>(<span class="string">&#x27;publisherC&#x27;</span>, pubsub);</span><br><span class="line">publisherC.<span class="title function_">publish</span>(<span class="variable constant_">TYPE_C</span>, <span class="string">&#x27;a brief history of time&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> subscriberA = <span class="keyword">new</span> <span class="title class_">Subscriber</span>(<span class="string">&#x27;subscriberA&#x27;</span>, pubsub);</span><br><span class="line">subscriberA.<span class="title function_">subscribe</span>(<span class="variable constant_">TYPE_A</span>, <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;subscriberA received&#x27;</span>, res)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> subscriberB = <span class="keyword">new</span> <span class="title class_">Subscriber</span>(<span class="string">&#x27;subscriberB&#x27;</span>, pubsub);</span><br><span class="line">subscriberB.<span class="title function_">subscribe</span>(<span class="variable constant_">TYPE_C</span>, <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;subscriberB received&#x27;</span>, res)</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> subscriberC = <span class="keyword">new</span> <span class="title class_">Subscriber</span>(<span class="string">&#x27;subscriberC&#x27;</span>, pubsub);</span><br><span class="line">subscriberC.<span class="title function_">subscribe</span>(<span class="variable constant_">TYPE_B</span>, <span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;subscriberC received&#x27;</span>, res)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">pubsub.<span class="title function_">notify</span>(<span class="variable constant_">TYPE_A</span>);</span><br><span class="line">pubsub.<span class="title function_">notify</span>(<span class="variable constant_">TYPE_B</span>);</span><br><span class="line">pubsub.<span class="title function_">notify</span>(<span class="variable constant_">TYPE_C</span>);</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¿°ä»£ç ï¼Œå‘å¸ƒè€…å’Œè®¢é˜…è€…éœ€è¦é€šè¿‡å‘å¸ƒè®¢é˜…ä¸­å¿ƒè¿›è¡Œå…³è”ï¼Œå‘å¸ƒè€…çš„å‘å¸ƒåŠ¨ä½œå’Œè®¢é˜…è€…çš„è®¢é˜…åŠ¨ä½œç›¸äº’ç‹¬ç«‹ï¼Œæ— éœ€å…³æ³¨å¯¹æ–¹ï¼Œæ¶ˆæ¯æ´¾å‘ç”±å‘å¸ƒè®¢é˜…ä¸­å¿ƒè´Ÿè´£</p>
<h2 id="ä¸‰ã€åŒºåˆ«"><a href="#ä¸‰ã€åŒºåˆ«" class="headerlink" title="ä¸‰ã€åŒºåˆ«"></a>ä¸‰ã€åŒºåˆ«</h2><p>ä¸¤ç§è®¾è®¡æ¨¡å¼æ€è·¯æ˜¯ä¸€æ ·çš„ï¼Œä¸¾ä¸ªç”Ÿæ´»ä¾‹å­ï¼š</p>
<ul>
<li>è§‚å¯Ÿè€…æ¨¡å¼ï¼šæŸå…¬å¸ç»™è‡ªå·±å‘˜å·¥å‘æœˆé¥¼å‘ç²½å­ï¼Œæ˜¯ç”±å…¬å¸çš„è¡Œæ”¿éƒ¨é—¨å‘é€çš„ï¼Œè¿™ä»¶äº‹ä¸é€‚åˆäº¤ç»™ç¬¬ä¸‰æ–¹ï¼ŒåŸå› æ˜¯â€œå…¬å¸â€å’Œâ€œå‘˜å·¥â€æ˜¯ä¸€ä¸ªæ•´ä½“</li>
<li>å‘å¸ƒ-è®¢é˜…æ¨¡å¼ï¼šæŸå…¬å¸è¦ç»™å…¶ä»–äººå‘å„ç§å¿«é€’ï¼Œå› ä¸ºâ€œå…¬å¸â€å’Œâ€œå…¶ä»–äººâ€æ˜¯ç‹¬ç«‹çš„ï¼Œå…¶å”¯ä¸€çš„æ¡¥æ¢æ˜¯â€œå¿«é€’â€ï¼Œæ‰€ä»¥è¿™ä»¶äº‹é€‚åˆäº¤ç»™ç¬¬ä¸‰æ–¹å¿«é€’å…¬å¸è§£å†³</li>
</ul>
<p>ä¸Šè¿°è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå…¬å¸è‡ªå·±å»ç®¡ç†å¿«é€’çš„é…é€ï¼Œé‚£å…¬å¸å°±ä¼šå˜æˆä¸€ä¸ªå¿«é€’å…¬å¸ï¼Œä¸šåŠ¡ç¹æ‚éš¾ä»¥ç®¡ç†ï¼Œå½±å“å…¬å¸è‡ªèº«çš„ä¸»è¥ä¸šåŠ¡ï¼Œå› æ­¤ä½¿ç”¨ä½•ç§æ¨¡å¼éœ€è¦è€ƒè™‘ä»€ä¹ˆæƒ…å†µä¸¤è€…æ˜¯éœ€è¦è€¦åˆçš„</p>
<p>ä¸¤è€…åŒºåˆ«å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://files.mdnice.com/user/155/9141682c-7386-4f12-8412-fb17a1cd4bf6.png" alt="img"></p>
<ul>
<li>åœ¨è§‚å¯Ÿè€…æ¨¡å¼ä¸­ï¼Œè§‚å¯Ÿè€…æ˜¯çŸ¥é“Subjectçš„ï¼ŒSubjectä¸€ç›´ä¿æŒå¯¹è§‚å¯Ÿè€…è¿›è¡Œè®°å½•ã€‚ç„¶è€Œï¼Œåœ¨å‘å¸ƒè®¢é˜…æ¨¡å¼ä¸­ï¼Œå‘å¸ƒè€…å’Œè®¢é˜…è€…ä¸çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ã€‚å®ƒä»¬åªæœ‰é€šè¿‡æ¶ˆæ¯ä»£ç†è¿›è¡Œé€šä¿¡ã€‚</li>
<li>åœ¨å‘å¸ƒè®¢é˜…æ¨¡å¼ä¸­ï¼Œç»„ä»¶æ˜¯æ¾æ•£è€¦åˆçš„ï¼Œæ­£å¥½å’Œè§‚å¯Ÿè€…æ¨¡å¼ç›¸åã€‚</li>
<li>è§‚å¯Ÿè€…æ¨¡å¼å¤§å¤šæ•°æ—¶å€™æ˜¯åŒæ­¥çš„ï¼Œæ¯”å¦‚å½“äº‹ä»¶è§¦å‘ï¼ŒSubjectå°±ä¼šå»è°ƒç”¨è§‚å¯Ÿè€…çš„æ–¹æ³•ã€‚è€Œå‘å¸ƒ-è®¢é˜…æ¨¡å¼å¤§å¤šæ•°æ—¶å€™æ˜¯å¼‚æ­¥çš„ï¼ˆä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼‰</li>
</ul>

        
    </article>
    <footer class="cube-excerpt-footer">
        <a class="cube-excerpt-more" href="/2019/03/08/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E3%80%81%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/">Read More</a>
    </footer>
</div>

<div class="cube-excerpt" id="cube-excerpt-è®¾è®¡æ¨¡å¼çš„ç†è§£ã€æœ‰å“ªäº›">
    <header class="cube-excerpt-header">
        <h1><a href="/2019/02/20/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%9A%84%E7%90%86%E8%A7%A3%E3%80%81%E6%9C%89%E5%93%AA%E4%BA%9B/">è®¾è®¡æ¨¡å¼çš„ç†è§£ã€æœ‰å“ªäº›</a></h1>
        <div class="cube-excerpt-header-msg">
            <div class="cube-excerpt-date">
                <i class="cube-icon cube-icon-date" aria-hidden="true"></i>
                2019-02-20
            </div>
            <div class="cube-excerpt-tags">
                <i class="cube-icon cube-icon-tag" aria-hidden="true"></i>
                
                <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" class="cube-excerpt-tag-link">#è®¾è®¡æ¨¡å¼</a>
                
            </div>
        </div>
    </header>
    <article class="cube-excerpt-entry cube-markdown">
        
        
           <h2 id="ä¸€ã€æ˜¯ä»€ä¹ˆ"><a href="#ä¸€ã€æ˜¯ä»€ä¹ˆ" class="headerlink" title="ä¸€ã€æ˜¯ä»€ä¹ˆ"></a>ä¸€ã€æ˜¯ä»€ä¹ˆ</h2><p>åœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œè®¾è®¡æ¨¡å¼æ˜¯å¯¹è½¯ä»¶è®¾è®¡ä¸­æ™®éå­˜åœ¨çš„å„ç§é—®é¢˜æ‰€æå‡ºçš„è§£å†³æ–¹æ¡ˆ</p>
<p>è®¾è®¡æ¨¡å¼å¹¶ä¸ç›´æ¥ç”¨æ¥å®Œæˆä»£ç çš„ç¼–å†™ï¼Œè€Œæ˜¯æè¿°åœ¨å„ç§ä¸åŒæƒ…å†µä¸‹ï¼Œè¦æ€ä¹ˆè§£å†³é—®é¢˜çš„ä¸€ç§æ–¹æ¡ˆ</p>
<p>è®¾è®¡æ¨¡å¼èƒ½ä½¿ä¸ç¨³å®šä¾èµ–äºç›¸å¯¹ç¨³å®šã€å…·ä½“ä¾èµ–äºç›¸å¯¹æŠ½è±¡ï¼Œé¿å…ä¼šå¼•èµ·éº»çƒ¦çš„ç´§è€¦åˆï¼Œä»¥å¢å¼ºè½¯ä»¶è®¾è®¡é¢å¯¹å¹¶é€‚åº”å˜åŒ–çš„èƒ½åŠ›</p>
<p>å› æ­¤ï¼Œå½“æˆ‘ä»¬é‡åˆ°åˆé€‚çš„åœºæ™¯æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæ¡ä»¶åå°„ä¸€æ ·è‡ªç„¶è€Œç„¶æƒ³åˆ°ç¬¦åˆè¿™ç§åœºæ™¯çš„è®¾è®¡æ¨¡å¼</p>
<p>æ¯”å¦‚ï¼Œå½“ç³»ç»Ÿä¸­æŸä¸ªæ¥å£çš„ç»“æ„å·²ç»æ— æ³•æ»¡è¶³æˆ‘ä»¬ç°åœ¨çš„ä¸šåŠ¡éœ€æ±‚ï¼Œä½†åˆä¸èƒ½æ”¹åŠ¨è¿™ä¸ªæ¥å£ï¼Œå› ä¸ºå¯èƒ½åŸæ¥çš„ç³»ç»Ÿå¾ˆå¤šåŠŸèƒ½éƒ½ä¾èµ–äºè¿™ä¸ªæ¥å£ï¼Œæ”¹åŠ¨æ¥å£ä¼šç‰µæ‰¯åˆ°å¤ªå¤šæ–‡ä»¶</p>
<p>å› æ­¤åº”å¯¹è¿™ç§åœºæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå¿«åœ°æƒ³åˆ°å¯ä»¥ç”¨é€‚é…å™¨æ¨¡å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜</p>
<h2 id="äºŒã€æœ‰å“ªäº›"><a href="#äºŒã€æœ‰å“ªäº›" class="headerlink" title="äºŒã€æœ‰å“ªäº›"></a>äºŒã€æœ‰å“ªäº›</h2><p>å¸¸è§çš„è®¾è®¡æ¨¡å¼æœ‰ï¼š</p>
<ul>
<li>å•ä¾‹æ¨¡å¼</li>
<li>å·¥å‚æ¨¡å¼</li>
<li>ç­–ç•¥æ¨¡å¼</li>
<li>ä»£ç†æ¨¡å¼</li>
<li>ä¸­ä»‹è€…æ¨¡å¼</li>
<li>è£…é¥°è€…æ¨¡å¼</li>
<li>â€¦â€¦</li>
</ul>
<h3 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h3><p>ä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹ã€‚å®ç°çš„æ–¹æ³•ä¸ºå…ˆåˆ¤æ–­å®ä¾‹å­˜åœ¨ä¸å¦ï¼Œå¦‚æœå­˜åœ¨åˆ™ç›´æ¥è¿”å›ï¼Œå¦‚æœä¸å­˜åœ¨å°±åˆ›å»ºäº†å†è¿”å›ï¼Œè¿™å°±ç¡®ä¿äº†ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹å¯¹è±¡</p>
<p>å¦‚ä¸‹å›¾çš„è½¦ï¼Œåªæœ‰ä¸€è¾†ï¼Œä¸€æ—¦å€Ÿå‡ºå»åˆ™ä¸èƒ½å†å€Ÿç»™åˆ«äººï¼š</p>
<p><img src="https://static.vue-js.com/ea527aa0-37cd-11ec-8e64-91fdec0f05a1.png" alt="img"></p>
<h3 id="å·¥å‚æ¨¡å¼"><a href="#å·¥å‚æ¨¡å¼" class="headerlink" title="å·¥å‚æ¨¡å¼"></a>å·¥å‚æ¨¡å¼</h3><p>å·¥å‚æ¨¡å¼é€šå¸¸ä¼šåˆ†æˆ3ä¸ªè§’è‰²ï¼š</p>
<ul>
<li>å·¥å‚è§’è‰²-è´Ÿè´£å®ç°åˆ›å»ºæ‰€æœ‰å®ä¾‹çš„å†…éƒ¨é€»è¾‘.</li>
<li>æŠ½è±¡äº§å“è§’è‰²-æ˜¯æ‰€åˆ›å»ºçš„æ‰€æœ‰å¯¹è±¡çš„çˆ¶ç±»ï¼Œè´Ÿè´£æè¿°æ‰€æœ‰å®ä¾‹æ‰€å…±æœ‰çš„å…¬å…±æ¥å£</li>
<li>å…·ä½“äº§å“è§’è‰²-æ˜¯åˆ›å»ºç›®æ ‡ï¼Œæ‰€æœ‰åˆ›å»ºçš„å¯¹è±¡éƒ½å……å½“è¿™ä¸ªè§’è‰²çš„æŸä¸ªå…·ä½“ç±»çš„å®ä¾‹</li>
</ul>
<p><img src="https://static.vue-js.com/fadd1920-37cd-11ec-8e64-91fdec0f05a1.png" alt="img"></p>
<h3 id="ç­–ç•¥æ¨¡å¼"><a href="#ç­–ç•¥æ¨¡å¼" class="headerlink" title="ç­–ç•¥æ¨¡å¼"></a>ç­–ç•¥æ¨¡å¼</h3><p>ç­–ç•¥æ¨¡å¼ï¼Œå°±æ˜¯å®šä¹‰ä¸€ç³»åˆ—çš„ç®—æ³•ï¼ŒæŠŠä»–ä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿ä»–ä»¬å¯ä»¥ç›¸äº’æ›¿æ¢</p>
<p>è‡³å°‘åˆ†æˆä¸¤éƒ¨åˆ†ï¼š</p>
<ul>
<li>ç­–ç•¥ç±»ï¼ˆå¯å˜ï¼‰ï¼Œç­–ç•¥ç±»å°è£…äº†å…·ä½“çš„ç®—æ³•ï¼Œå¹¶è´Ÿè´£å…·ä½“çš„è®¡ç®—è¿‡ç¨‹</li>
<li>ç¯å¢ƒç±»ï¼ˆä¸å˜ï¼‰ï¼Œæ¥å—å®¢æˆ·çš„è¯·æ±‚ï¼Œéšåå°†è¯·æ±‚å§”æ‰˜ç»™æŸä¸€ä¸ªç­–ç•¥ç±»</li>
</ul>
<h3 id="ä»£ç†æ¨¡å¼"><a href="#ä»£ç†æ¨¡å¼" class="headerlink" title="ä»£ç†æ¨¡å¼"></a>ä»£ç†æ¨¡å¼</h3><p>ä»£ç†æ¨¡å¼ï¼šä¸ºå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç”¨å“æˆ–å ä½ç¬¦ï¼Œä»¥ä¾¿æ§åˆ¶å¯¹å®ƒçš„è®¿é—®</p>
<p>ä¾‹å¦‚å®ç°å›¾ç‰‡æ‡’åŠ è½½çš„åŠŸèƒ½ï¼Œå…ˆé€šè¿‡ä¸€å¼ <code>loading</code>å›¾å ä½ï¼Œç„¶åé€šè¿‡å¼‚æ­¥çš„æ–¹å¼åŠ è½½å›¾ç‰‡ï¼Œç­‰å›¾ç‰‡åŠ è½½å¥½äº†å†æŠŠå®Œæˆçš„å›¾ç‰‡åŠ è½½åˆ°<code>img</code>æ ‡ç­¾é‡Œé¢</p>
<h3 id="ä¸­ä»‹è€…æ¨¡å¼"><a href="#ä¸­ä»‹è€…æ¨¡å¼" class="headerlink" title="ä¸­ä»‹è€…æ¨¡å¼"></a>ä¸­ä»‹è€…æ¨¡å¼</h3><p>ä¸­ä»‹è€…æ¨¡å¼çš„å®šä¹‰ï¼šé€šè¿‡ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡ï¼Œå…¶ä»–æ‰€æœ‰çš„ç›¸å…³å¯¹è±¡éƒ½é€šè¿‡è¯¥ä¸­ä»‹è€…å¯¹è±¡æ¥é€šä¿¡ï¼Œè€Œä¸æ˜¯ç›¸äº’å¼•ç”¨ï¼Œå½“å…¶ä¸­çš„ä¸€ä¸ªå¯¹è±¡å‘ç”Ÿæ”¹å˜æ—¶ï¼Œåªéœ€è¦é€šçŸ¥ä¸­ä»‹è€…å¯¹è±¡å³å¯</p>
<p>é€šè¿‡ä¸­ä»‹è€…æ¨¡å¼å¯ä»¥è§£é™¤å¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´çš„ç´§è€¦åˆå…³ç³»</p>
<h3 id="è£…é¥°è€…æ¨¡å¼"><a href="#è£…é¥°è€…æ¨¡å¼" class="headerlink" title="è£…é¥°è€…æ¨¡å¼"></a>è£…é¥°è€…æ¨¡å¼</h3><p>è£…é¥°è€…æ¨¡å¼çš„å®šä¹‰ï¼šåœ¨ä¸æ”¹å˜å¯¹è±¡è‡ªèº«çš„åŸºç¡€ä¸Šï¼Œåœ¨ç¨‹åºè¿è¡ŒæœŸé—´ç»™å¯¹è±¡åŠ¨æ€åœ°æ·»åŠ æ–¹æ³•</p>
<p>é€šå¸¸è¿ç”¨åœ¨åŸæœ‰æ–¹æ³•ç»´æŒä¸å˜ï¼Œåœ¨åŸæœ‰æ–¹æ³•ä¸Šå†æŒ‚è½½å…¶ä»–æ–¹æ³•æ¥æ»¡è¶³ç°æœ‰éœ€æ±‚</p>
<h2 id="ä¸‰ã€æ€»ç»“"><a href="#ä¸‰ã€æ€»ç»“" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h2><p>ä¸æ–­å»å­¦ä¹ è®¾è®¡æ¨¡å¼ï¼Œä¼šå¯¹æˆ‘ä»¬æœ‰ç€æå¤§çš„å¸®åŠ©ï¼Œä¸»è¦å¦‚ä¸‹ï¼š</p>
<ul>
<li>ä»è®¸å¤šä¼˜ç§€çš„è½¯ä»¶ç³»ç»Ÿä¸­æ€»ç»“å‡ºçš„æˆåŠŸçš„ã€èƒ½å¤Ÿå®ç°å¯ç»´æŠ¤æ€§ã€å¤ç”¨çš„è®¾è®¡æ–¹æ¡ˆï¼Œä½¿ç”¨è¿™äº›æ–¹æ¡ˆå°†å¯ä»¥è®©æˆ‘ä»¬é¿å…åšä¸€äº›é‡å¤æ€§çš„å·¥ä½œ</li>
<li>è®¾è®¡æ¨¡å¼æä¾›äº†ä¸€å¥—é€šç”¨çš„è®¾è®¡è¯æ±‡å’Œä¸€ç§é€šç”¨çš„å½¢å¼æ¥æ–¹ä¾¿å¼€å‘äººå‘˜ä¹‹é—´æ²Ÿé€šå’Œäº¤æµï¼Œä½¿å¾—è®¾è®¡æ–¹æ¡ˆæ›´åŠ é€šä¿—æ˜“æ‡‚</li>
<li>å¤§éƒ¨åˆ†è®¾è®¡æ¨¡å¼éƒ½å…¼é¡¾äº†ç³»ç»Ÿçš„å¯é‡ç”¨æ€§å’Œå¯æ‰©å±•æ€§ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ›´å¥½åœ°é‡ç”¨ä¸€äº›å·²æœ‰çš„è®¾è®¡æ–¹æ¡ˆã€åŠŸèƒ½æ¨¡å—ç”šè‡³ä¸€ä¸ªå®Œæ•´çš„è½¯ä»¶ç³»ç»Ÿï¼Œé¿å…æˆ‘ä»¬ç»å¸¸åšä¸€äº›é‡å¤çš„è®¾è®¡ã€ç¼–å†™ä¸€äº›é‡å¤çš„ä»£ç </li>
<li>åˆç†ä½¿ç”¨è®¾è®¡æ¨¡å¼å¹¶å¯¹è®¾è®¡æ¨¡å¼çš„ä½¿ç”¨æƒ…å†µè¿›è¡Œæ–‡æ¡£åŒ–ï¼Œå°†æœ‰åŠ©äºåˆ«äººæ›´å¿«åœ°ç†è§£ç³»ç»Ÿ</li>
<li>å­¦ä¹ è®¾è®¡æ¨¡å¼å°†æœ‰åŠ©äºåˆå­¦è€…æ›´åŠ æ·±å…¥åœ°ç†è§£é¢å‘å¯¹è±¡æ€æƒ³</li>
</ul>

        
    </article>
    <footer class="cube-excerpt-footer">
        <a class="cube-excerpt-more" href="/2019/02/20/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%9A%84%E7%90%86%E8%A7%A3%E3%80%81%E6%9C%89%E5%93%AA%E4%BA%9B/">Read More</a>
    </footer>
</div>

<div class="cube-excerpt" id="cube-excerpt-æå‡windowå¼€å‘æ•ˆç‡å¿«æ·é”®ä¸è½¯ä»¶">
    <header class="cube-excerpt-header">
        <h1><a href="/2019/01/24/%E5%B7%A5%E5%85%B7/%E6%8F%90%E5%8D%87window%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87%E5%BF%AB%E6%8D%B7%E9%94%AE%E4%B8%8E%E8%BD%AF%E4%BB%B6/">æå‡windowå¼€å‘æ•ˆç‡å¿«æ·é”®ä¸è½¯ä»¶</a></h1>
        <div class="cube-excerpt-header-msg">
            <div class="cube-excerpt-date">
                <i class="cube-icon cube-icon-date" aria-hidden="true"></i>
                2019-01-24
            </div>
            <div class="cube-excerpt-tags">
                <i class="cube-icon cube-icon-tag" aria-hidden="true"></i>
                
                <a href="/tags/vs-code/" class="cube-excerpt-tag-link">#vs code</a>
                
            </div>
        </div>
    </header>
    <article class="cube-excerpt-entry cube-markdown">
        
        
           <h4 id="æå‡æ•ˆç‡å¿…å¤‡è½¯ä»¶"><a href="#æå‡æ•ˆç‡å¿…å¤‡è½¯ä»¶" class="headerlink" title="æå‡æ•ˆç‡å¿…å¤‡è½¯ä»¶"></a>æå‡æ•ˆç‡å¿…å¤‡è½¯ä»¶</h4><ul>
<li><strong>AutoHotKey:</strong> ç¥å™¨ï¼ç¥å™¨ï¼ç¥å™¨</li>
<li><strong>Listaryï¼š</strong> æœ¬åœ°æœç´¢ç¥å™¨ï¼Œå½“ç„¶è¿˜æœ‰åˆ«çš„ä½œç”¨ï¼ŒMore&amp;Moreã€‚</li>
<li>**Launchy :**å¿«é€Ÿå¯åŠ¨å®‰è£…çš„åº”ç”¨ç¨‹åºï¼Œè€è€Œå¼¥åšï¼Œæœ‰ä¸Macä¸‹Spotlightä¹‹é£ï¼›</li>
<li><strong>Chrome:</strong> Webä¸–ç•Œé‡Œçš„ç¥ï¼Œçš„ç¥ï¼Œç¥ã€‚åçˆ±ingï¼›å¦‚è™æ·»ç¿¼ï¼Œæ•ˆç‡å¿…å¤‡ï¼šVimium~è®©æ‚¨çš„Chromeèµ·é£ã€‚</li>
<li>SublimeText3ï¼š ç¼–ç å’å­—çš„ç¥å™¨ï¼Œè¿˜èƒ½è§ˆå›¾&#x2F;æ–‡ä»¶å¯¹æ¯”&#x2F;â€¦,åçˆ±</li>
<li><strong>Picasa3:</strong> å›¾ç‰‡æŸ¥çœ‹å™¨ä¸­çš„ä½¼ä½¼è€…ï¼Œåçˆ±ingã€‚å§‘å§‘å‡ºå“ï¼Œå¿…å±ç²¾å“ï¼</li>
<li><strong>Cloverï¼š</strong> åœ¨Winä¸‹å¿…å¤‡ï¼Œå¿«é€Ÿæ‰“å¼€æ–‡ä»¶ç®¡ç†</li>
<li><strong>Foxmailï¼š</strong> å¿…å¤‡</li>
<li><strong>ä¸ºçŸ¥ç¬”è®°&#x2F;æœ‰é“äº‘ç¬”è®°</strong></li>
<li><strong>Beyond Compare :</strong> æ–‡ä»¶æ¯”è¾ƒå™¨; æ­¤æ¬¾ä¸ºæ‰€æ¥è§¦ä¸­æœ€ä½³ã€‚</li>
<li><strong><a target="_blank" rel="noopener" href="https://github.com/cmderdev/cmder/releases">Cmder</a>:</strong> windowsä¸‹cmdçš„æ›¿æ¢å·¥å…·,æ”¯æŒPowerShell;åŒæ¯”è¿˜æœ‰PowerShellï¼Œ<a target="_blank" rel="noopener" href="https://github.com/Maximus5/ConEmu">ConEmu</a> ç­‰ã€‚è‡ªèç¬”è€…æ€»ç»“çš„ï¼š<a target="_blank" rel="noopener" href="http://www.jeffjade.com/2016/01/13/2016-01-13-windows-software-cmder/#">Winä¸‹å¿…å¤‡ç¥å™¨ä¹‹Cmder</a>ã€‚</li>
<li>**<a target="_blank" rel="noopener" href="https://www.zybuluo.com/cmd/dows-software-cmder/#">ä½œä¸šéƒ¨è½å®¢æˆ·ç«¯</a>:**å¼€å¯å“è¶Šå†™ä½œä¹‹æ—…,æ”¯æŒå…¨å¹³å°ï¼‹ç¦»çº¿ä½¿ç”¨ï¼Œä¸€é”®å‘å¸ƒæ–‡ç¨¿ï¼Œç¤¾äº¤åŒ–æ‰¹æ³¨ã€‚èº«æè‹—æ¡ï¼Œé¢å®¹å§£å¥½ï¼Œå…è´¹Markdownä¹¦å†™å¹³å°çš„é­…åŠ›æˆ˜æ–—æœºã€‚</li>
<li><strong>ç½‘æ˜“äº‘éŸ³ä¹:</strong> åˆé‡<code>QQéŸ³ä¹</code>,å¤„è¿‡<code>å¤©å¤©åŠ¨å¬</code>,æ‹è¿‡<code>é…·ç‹—</code>ï¼Œä¸Šè¿‡<code>é…·æˆ‘</code>ï¼Œä¸€å¤œæƒ…è¿‡<code>åƒåƒé™å¬</code>,ç§»æƒ…è¿‡<code>è™¾ç±³</code>ï¼Œå’Œ<code>è±†ç“£FM</code>å¥½è¿‡ï¼ŒåŒ<code>ç™¾åº¦éšå¿ƒå¬</code>çº¦è¿‡,æœ€åï¼Œå‘ç°éŸ³ä¹çš„ä¸–ç•Œ,è¿˜å¾—æ˜¯ä½ ï½<code>ç½‘æ˜“äº‘éŸ³ä¹</code>ã€‚</li>
</ul>
<hr>
<ul>
<li><a target="_blank" rel="noopener" href="https://atom.io/"><strong>Atom:</strong></a> æ–°ä¸€ä»£ç¼–ç å†™æ–‡ç¥å™¨ï¼›è™½è¿˜åœ¨å‘å±•ï¼Œå´å·²æƒŠè‰³ã€‚</li>
<li><strong><a target="_blank" rel="noopener" href="https://git-for-windows.github.io/">Git for Windows :</a></strong> æ‰“åŒ…å¥½äº†ï¼Œç›´æ¥ä½¿ç”¨ï¼›Git ä¸€æ—å¿…å¤‡ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://nodejs.org/"><strong>Nodejs:</strong></a> å¯ä»¥è¾…åŠ©è®©Sublimeç¼–è¯‘Jsï¼›å¯ä»¥åšWebå¼€å‘ï¼ŒRESTå¼€å‘**ï¼ŒWebèŠå¤©å®¤&#x2F;çˆ¬è™«ï¼ŒWebåšå®¢(Hexo)ï¼ŒWebè®ºå›ç­‰ç­‰ï¼Œå¯å‚è§åˆ†äº«<a target="_blank" rel="noopener" href="http://www.nodejs.net/a/20141016/233306.html">åäº”ä¸ªNodeJSåº”ç”¨åœºæ™¯</a>ï¼›è¿˜å¯ä»¥åˆ©ç”¨Nodejsçš„åŒ…ç®¡ç†å™¨<code>Npm</code><br>å®‰è£…<code>Gulp Webpack</code>ç­‰å±Œç‚¸å¤©å·¥å…·ï½åšå¤§å¤šä½ å¯ä»¥æƒ³åˆ°çš„ä¸œä¸œï¼›Webç«¯å¿…å¤‡ã€‚</li>
<li><a target="_blank" rel="noopener" href="http://www.goodsync.com/"><strong>GoodSync:</strong></a> æ–‡ä»¶åŒæ­¥å¥½å¸®æ‰‹ã€‚å¯ä»¥åŒæ­¥ æœ¬åœ°æ–‡ä»¶ P2P äº‘(Dropbox,Google,OnDrive,FTP&#x2F;SFTPç­‰ç­‰)ï¼Œè¿˜å¯ä»¥åŒæ­¥åº”ç”¨ç¨‹åº<br>ä»¥åŠå„è®¾å¤‡ï¼›å¼ºå¤§ä¸”ä¸å¤±ç®€æ´ã€‚æ¯”å¦‚ï¼šSFTPåŒæ­¥ï¼Œç”¨è¿‡SublimeTextçš„SFTP(æœ€æ–¹ä¾¿ï¼Œå´è€å¼¹æ¡†)ï¼ŒWinSCP(F5å³å¯åŒæ­¥ï¼Œè®¾è®¡å´ä¸äººæ€§åŒ–)ï¼ŒGulpçš„SFTP(åªæ˜¯éœ€è¦ç‡å…ˆWatch)ï¼ŒXftp4(è€ç‰Œäº†ï¼Œéƒ½æ˜¯æ‰‹åŠ¨ç‚¹æ¥ç‚¹å»ï¼Œé¢)ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://getsharex.com/"><strong>ShareX:</strong></a> æˆªå›¾ã€æ³¨é‡Šã€ä¸Šä¼ ï¼Œå¤åˆ¶ URL ä¸€æ¡é¾™æœåŠ¡ï¼›å…è´¹ï¼Œå¼ºå¤§è€Œç®€æ´ï¼›è‡ªåŠ¨å­˜å‚¨ï¼›æ”¯æŒåŒå±ï¼›æ”¯æŒå½•åˆ¶ï¼›è¿˜æœ‰ç»™åŠ›æœ‰ç”¨çš„å·¥å…·é›†â€¦å¤§æœ‰ç›¸è§æ¨æ™šä¹‹æ„Ÿ</li>
</ul>
<hr>
<h3 id="windowsç³»ç»Ÿä¸‹å®ç”¨ä¸å¸¸è§çš„å¿«æ·é”®ï¼š"><a href="#windowsç³»ç»Ÿä¸‹å®ç”¨ä¸å¸¸è§çš„å¿«æ·é”®ï¼š" class="headerlink" title="windowsç³»ç»Ÿä¸‹å®ç”¨ä¸å¸¸è§çš„å¿«æ·é”®ï¼š"></a>windowsç³»ç»Ÿä¸‹å®ç”¨ä¸å¸¸è§çš„å¿«æ·é”®ï¼š</h3><ul>
<li><code>ALT+åŒå‡»</code>ï¼šæŸ¥çœ‹æ–‡ä»¶å±æ€§</li>
<li><code>WIN+æ•°å­—é”®</code>ï¼šå¯åŠ¨ä»»åŠ¡æ ä¸Šçš„ç¨‹åºï¼›</li>
<li><code>CTRL+SHIFT+ESC</code>ï¼šæ‰“å¼€è¿›ç¨‹ç®¡ç†å™¨</li>
<li><code>WIN+å·¦ç®­å¤´</code>ï¼šå½“å‰çª—å£ç¼©æ”¾ä¸ºå±å¹•çš„ä¸€åŠï¼Œé å±å¹•å·¦ä¾§æ˜¾ç¤ºï¼›</li>
<li><code>WIN+å³ç®­å¤´</code>ï¼šå½“å‰çª—å£ç¼©æ”¾ä¸ºå±å¹•çš„ä¸€åŠï¼Œé å±å¹•å³ä¾§æ˜¾ç¤ºï¼›</li>
<li><code>WIN+ä¸Šç®­å¤´</code>ï¼šæœ€å¤§åŒ–å½“å‰çª—å£ï¼›</li>
<li><code>WIN+ä¸‹ç®­å¤´</code>ï¼šè¿˜åŸå’Œæœ€å°åŒ–å½“å‰çª—å£ï¼›</li>
<li><code>WIN+R</code>ï¼Œè¾“å…¥â€œpsrâ€åå›è½¦ï¼šæ‰“å¼€æ­¥éª¤è®°å½•å™¨ï¼›</li>
<li><code>WIN+R</code>ï¼Œè¾“å…¥â€œmipâ€ï¼Œå¯åŠ¨æ•°å­¦å…¬å¼æ‰‹å†™æ¿ï¼›</li>
<li><code>WIN+T</code>ï¼šåˆ‡æ¢ä»»åŠ¡æ ä¸Šçš„ç¨‹åº</li>
<li><code>Ctrl+Shilt+N</code> æ–°å»ºæ–‡ä»¶å¤¹</li>
<li><code>Win+B</code> å°†ç„¦ç‚¹ç§»åˆ°ä»»åŠ¡æ æ‰˜ç›˜åŒº</li>
<li><code>Ctrl+Shift+Alt+Tab</code> ä¸Alt+Tabçš„åŒºåˆ«åœ¨äºåè€…æŒ‰é”®æ¾å¼€åçª—å£ä¼šæ¶ˆå¤±ï¼Œè€Œå‰è€…åˆ™ä¸ä¼š</li>
<li><code>Win++++</code>ï¼Œæ˜¯çš„ä½ æ²¡çœ‹é”™ï¼Œå››ä¸ªåŠ å·ï¼Œç¬¬ä¸€ä¸ªå½“ç„¶æ˜¯æ­£å¸¸çš„è¿æ¥ï¼Œåé¢ä¸‰ä¸ªè¡¨ç¤ºè¿æŒ‰ä¸‰æ¬¡é”®ç›˜ä¸Šçš„åŠ å·é”®ã€‚åŠŸèƒ½æ˜¯æ‰“å¼€Windowsè‡ªå¸¦æ”¾å¤§é•œå·¥å…·ï¼Œå°†å±å¹•æ”¾å¤§ï¼Œåœ¨ç²¾ç»†åˆ°åƒç´ çš„å–è‰²æ—¶æˆ‘ä¼šç”¨åˆ°</li>
<li><code>Ctrl+L</code> å®šä½åˆ°åœ°å€æ å¹¶é€‰ä¸­å…¶ä¸­çš„æ–‡æœ¬</li>
</ul>

        
    </article>
    <footer class="cube-excerpt-footer">
        <a class="cube-excerpt-more" href="/2019/01/24/%E5%B7%A5%E5%85%B7/%E6%8F%90%E5%8D%87window%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87%E5%BF%AB%E6%8D%B7%E9%94%AE%E4%B8%8E%E8%BD%AF%E4%BB%B6/">Read More</a>
    </footer>
</div>

<div class="cube-excerpt" id="cube-excerpt-webstormå¸¸ç”¨å¿«æ·é”®">
    <header class="cube-excerpt-header">
        <h1><a href="/2019/01/23/%E5%B7%A5%E5%85%B7/webstorm%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/">webstormå¸¸ç”¨å¿«æ·é”®</a></h1>
        <div class="cube-excerpt-header-msg">
            <div class="cube-excerpt-date">
                <i class="cube-icon cube-icon-date" aria-hidden="true"></i>
                2019-01-23
            </div>
            <div class="cube-excerpt-tags">
                <i class="cube-icon cube-icon-tag" aria-hidden="true"></i>
                
                <a href="/tags/vs-code/" class="cube-excerpt-tag-link">#vs code</a>
                
            </div>
        </div>
    </header>
    <article class="cube-excerpt-entry cube-markdown">
        
        
           <p><strong>webstormå¸¸ç”¨å¿«æ·é”®</strong></p>
<h3 id="æŸ¥æ‰¾-x2F-ä»£æ›¿"><a href="#æŸ¥æ‰¾-x2F-ä»£æ›¿" class="headerlink" title="æŸ¥æ‰¾&#x2F;ä»£æ›¿"></a><strong>æŸ¥æ‰¾&#x2F;ä»£æ›¿</strong></h3><ul>
<li><code>ctrl+shift+N</code> é€šè¿‡æ–‡ä»¶åå¿«é€ŸæŸ¥æ‰¾å·¥ç¨‹å†…çš„æ–‡ä»¶ï¼ˆå¿…è®°ï¼‰</li>
<li><code>ctrl+shift+alt+N</code> é€šè¿‡ä¸€ä¸ªå­—ç¬¦å¿«é€ŸæŸ¥æ‰¾ä½ç½®ï¼ˆå¿…è®°ï¼‰</li>
<li><code>ctrl+F</code> åœ¨æ–‡ä»¶å†…å¿«é€ŸæŸ¥æ‰¾ä»£ç </li>
<li><code>F3</code> æŸ¥æ‰¾ä¸‹ä¸€ä¸ª</li>
<li><code>shift+F3</code> æŸ¥æ‰¾ä¸Šä¸€ä¸ª</li>
<li><code>ctrl+R</code> æ–‡ä»¶å†…ä»£ç æ›¿æ¢</li>
<li><code>ctrl+shift+R</code> æŒ‡å®šç›®å½•å†…ä»£ç æ‰¹é‡æ›¿æ¢</li>
<li><code>ctrl+shift+F</code> æŒ‡å®šç›®å½•å†…ä»£ç æ‰¹é‡æŸ¥æ‰¾</li>
<li><code>ctrl+R</code> æ–‡ä»¶å†…ä»£ç æ›¿æ¢</li>
</ul>
<hr>
<h3 id="ç•Œé¢æ“ä½œ"><a href="#ç•Œé¢æ“ä½œ" class="headerlink" title="ç•Œé¢æ“ä½œ"></a><strong>ç•Œé¢æ“ä½œ</strong></h3><ul>
<li><code>ctrl+shift+A</code> å¿«é€ŸæŸ¥æ‰¾å¹¶ä½¿ç”¨ç¼–è¾‘å™¨æ‰€æœ‰åŠŸèƒ½ï¼ˆå¿…è®°ï¼‰</li>
<li><code>alt+[0-9]</code> å¿«é€Ÿæ‹†åˆåŠŸèƒ½ç•Œé¢æ¨¡å—</li>
<li><code>ctrl+shift+F12</code> æœ€å¤§åŒºåŸŸæ˜¾ç¤ºä»£ç ï¼ˆä¼šéšè—å…¶ä»–çš„åŠŸèƒ½ç•Œé¢æ¨¡å—ï¼‰</li>
<li><code>alt+shift+F</code> å°†å½“å‰æ–‡ä»¶åŠ å…¥æ”¶è—å¤¹</li>
<li><code>ctrl+alt+s</code> æ‰“å¼€é…ç½®çª—å£</li>
<li><code>ctrl+tab</code> åˆ‡æ¢ä»£ç é€‰é¡¹å¡ï¼ˆè¿˜è¦è¿›è¡Œæ­¤é€‰æ‹©ï¼Œæ•ˆç‡å·®äº›ï¼‰</li>
<li><code>ctrl+F4</code> å…³é—­å½“å‰ä»£ç é€‰é¡¹å¡</li>
</ul>
<h3 id="ä»£ç ç¼–è¾‘"><a href="#ä»£ç ç¼–è¾‘" class="headerlink" title="ä»£ç ç¼–è¾‘"></a><strong>ä»£ç ç¼–è¾‘</strong></h3><ul>
<li><code>ctrl+D</code> å¤åˆ¶å½“å‰è¡Œ</li>
<li><code>ctrl+W</code> é€‰ä¸­å•è¯</li>
<li><code>alt+Insert</code> æ–°å»ºä¸€ä¸ªæ–‡ä»¶æˆ–å…¶ä»–</li>
<li><code>ctrl+alt+L</code> æ ¼å¼åŒ–ä»£ç </li>
<li><code>shift+tab</code> å‡å°‘ï¼ˆå¯ä»¥åœ¨ä»£ç ä¸­å‡å°‘è¡Œç¼©è¿›ï¼‰</li>
<li><code>tab</code> æ‰©å¤§ç¼©è¿›</li>
<li><code>ctrl+Y</code> åˆ é™¤ä¸€è¡Œ</li>
<li><code>shift+enter</code> é‡æ–°å¼€å§‹ä¸€è¡Œï¼ˆæ— è®ºå…‰æ ‡åœ¨å“ªä¸ªä½ç½®ï¼‰</li>
<li><code>esc</code> è¿›å…¥ä»£ç ç¼–è¾‘åŒºåŸŸ</li>
<li><code>alt+F1</code> æŸ¥æ‰¾ä»£ç åœ¨å…¶ä»–ç•Œé¢æ¨¡å—çš„ä½ç½®ï¼Œé¢‡ä¸ºæœ‰ç”¨</li>
<li><code>ctrl+G</code> åˆ°æŒ‡å®šè¡Œçš„ä»£ç </li>
<li><code>ctrl+]/[</code> å…‰æ ‡åˆ°ä»£ç å—çš„å‰é¢æˆ–åé¢</li>
<li><code>alt+up/down</code> ä¸Šä¸€ä¸ª&#x2F;ä¸‹ä¸€ä¸ªæ–¹æ³•</li>
</ul>
<h3 id="å»ºè®®é…ç½®ç‰ˆæœ¬æ§åˆ¶å¿«æ·é”®"><a href="#å»ºè®®é…ç½®ç‰ˆæœ¬æ§åˆ¶å¿«æ·é”®" class="headerlink" title="å»ºè®®é…ç½®ç‰ˆæœ¬æ§åˆ¶å¿«æ·é”®"></a><strong>å»ºè®®é…ç½®ç‰ˆæœ¬æ§åˆ¶å¿«æ·é”®</strong></h3><ul>
<li>ctrl+C æäº¤ä»£ç </li>
<li>ctrl+p å‘è¿œç¨‹ç‰ˆæœ¬åº“æ¨é€æ›´æ–°</li>
<li>ctrl+G åˆ°æŒ‡å®šè¡Œçš„ä»£ç </li>
</ul>
<h3 id="å¸¸ç”¨"><a href="#å¸¸ç”¨" class="headerlink" title="å¸¸ç”¨"></a><strong>å¸¸ç”¨</strong></h3><ul>
<li><p><code>ctrl + shift + n:</code> æ‰“å¼€å·¥ç¨‹ä¸­çš„æ–‡ä»¶</p>
</li>
<li><p><code>ctrl + j:</code> è¾“å‡ºæ¨¡æ¿</p>
</li>
<li><p><code>ctrl + b</code>: è·³åˆ°å˜é‡ç”³æ˜å¤„</p>
</li>
<li><p><code>ctrl + alt + T:</code> å›´ç»•åŒ…è£¹ä»£ç (åŒ…æ‹¬zencodingçš„Wrap with Abbreviation), -</p>
</li>
<li><p><code>ctrl + []:</code> åŒ¹é… {}[]</p>
</li>
<li><p><code>ctrl + F12:</code> å¯ä»¥æ˜¾ç¤ºå½“å‰æ–‡ä»¶çš„ç»“æ„ï¼Œå¿«é€Ÿè·³è½¬åˆ°ç›®æ ‡å‡½æ•°</p>
</li>
<li><p><code>alt + left/right</code>:æ ‡ç­¾åˆ‡æ¢</p>
</li>
<li><p><code>ctrl + r:</code> æ›¿æ¢ <code>ctrl + shift + r:</code> å…¨å±€æ›¿æ¢</p>
</li>
<li><p>ctrl + d: è¡Œå¤åˆ¶</p>
</li>
<li><pre><code>ctrl + shift + ]/[:
</code></pre>
<p>é€‰ä¸­å—ä»£ç â€¦.</p>
</li>
<li><p><code>ctrl + / :</code> å•è¡Œæ³¨é‡Š</p>
</li>
<li><p><code>ctrl + shift + / :</code> å—æ³¨é‡Š</p>
</li>
<li><p><code>ctrl + shift + i :</code> æ˜¾ç¤ºå½“å‰class,functionçš„è¯¦ç»†ä¿¡æ¯</p>
</li>
<li><p><code>ctrl + p:</code> æ˜¾ç¤ºé»˜è®¤å‚æ•°</p>
</li>
<li><p><code>ctrl + shift + v:</code> å¯ä»¥å¤åˆ¶å¤šä¸ªæ–‡æœ¬</p>
</li>
<li><p><code>shift + enter:</code> æ™ºèƒ½è·³åˆ°ä¸‹ä¸€è¡Œ ctrl + alt + enter: åœ¨ä¸Šä¸€è¡Œæ·»åŠ ç©ºç™½è¡Œvb</p>
</li>
<li><p><code>ctrl + k:</code> svn æäº¤</p>
</li>
<li><p><code>ctrl + shift + u:</code> å¤§å°å†™</p>
</li>
<li><p><code>ctrl + ~ :</code> åˆ‡æ¢ä¸»é¢˜</p>
</li>
<li><p><code>ctrl + F11:</code> æ·»åŠ æ ‡ç­¾ ctrl + shift + å¤§é”®ç›˜æ•°å­—é”®, F11:æ·»åŠ ç©ºæ ‡ç­¾, shift+F11:æ˜¾ç¤ºæ ‡ç­¾åˆ—è¡¨ï¼Œæ–¹ä¾¿å¿«æ·è·³è½¬</p>
</li>
<li><p><code>ctrl + alt + F12:</code> file path</p>
</li>
<li><p><code>ctrl + alt + a:</code> search keymap</p>
</li>
<li><p><code>shift + F6:</code> é‡æ„æ ‡ç­¾å</p>
</li>
<li><p><code>Ctrl+delete</code> åˆ é™¤å…‰æ ‡åé¢çš„å•è¯</p>
</li>
<li><p><code>Ctrl+BackSpace</code> åˆ é™¤å…‰æ ‡å‰é¢çš„å•è¯</p>
</li>
<li><p><code>Ctrl+å°é”®ç›˜+/-</code> æŠ˜å &#x2F;å±•å¼€ä»£ç </p>
</li>
<li><p><code>Ctrl + Alt + V</code> å¿«é€Ÿå¼•è¿›ä¸€ä¸ªå˜é‡</p>
</li>
<li><p><code>Ctrl+Alt + I</code> è‡ªåŠ¨å¯¹é½æ ¼å¼</p>
</li>
<li><p><code>alt+j:</code> å¤šé€‰å•ä¸ªå•è¯</p>
</li>
</ul>

        
    </article>
    <footer class="cube-excerpt-footer">
        <a class="cube-excerpt-more" href="/2019/01/23/%E5%B7%A5%E5%85%B7/webstorm%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/">Read More</a>
    </footer>
</div>

<div class="cube-excerpt" id="cube-excerpt-vs code çš„å¸¸ç”¨å¿«æ·é”®">
    <header class="cube-excerpt-header">
        <h1><a href="/2019/01/21/%E5%B7%A5%E5%85%B7/vs%20code%20%E7%9A%84%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/">vs code çš„å¸¸ç”¨å¿«æ·é”®</a></h1>
        <div class="cube-excerpt-header-msg">
            <div class="cube-excerpt-date">
                <i class="cube-icon cube-icon-date" aria-hidden="true"></i>
                2019-01-21
            </div>
            <div class="cube-excerpt-tags">
                <i class="cube-icon cube-icon-tag" aria-hidden="true"></i>
                
                <a href="/tags/vs-code/" class="cube-excerpt-tag-link">#vs code</a>
                
            </div>
        </div>
    </header>
    <article class="cube-excerpt-entry cube-markdown">
        
        
           <h1 id="ä¸€ã€vs-code-çš„å¸¸ç”¨å¿«æ·é”®"><a href="#ä¸€ã€vs-code-çš„å¸¸ç”¨å¿«æ·é”®" class="headerlink" title="ä¸€ã€vs code çš„å¸¸ç”¨å¿«æ·é”®"></a>ä¸€ã€vs code çš„å¸¸ç”¨å¿«æ·é”®</h1><p>1ã€æ³¨é‡Šï¼š</p>
<p>ã€€ã€€a) å•è¡Œæ³¨é‡Šï¼š[ctrl+k,ctrl+c] æˆ– ctrl+&#x2F;</p>
<p>ã€€ã€€b) å–æ¶ˆå•è¡Œæ³¨é‡Šï¼š[ctrl+k,ctrl+u] (æŒ‰ä¸‹ctrlä¸æ”¾ï¼Œå†æŒ‰k + u)</p>
<p>ã€€ã€€c) å¤šè¡Œæ³¨é‡Šï¼š[alt+shift+A]</p>
<p>ã€€ã€€d) å¤šè¡Œæ³¨é‡Šï¼š&#x2F;**</p>
<p>2ã€ç§»åŠ¨è¡Œï¼šalt+up&#x2F;down</p>
<p>3ã€æ˜¾ç¤º&#x2F;éšè—å·¦ä¾§ç›®å½•æ  ctrl + b</p>
<p>4ã€å¤åˆ¶å½“å‰è¡Œï¼šshift + alt +up&#x2F;down</p>
<p>5ã€åˆ é™¤å½“å‰è¡Œï¼šshift + ctrl + k</p>
<p>6ã€æ§åˆ¶å°ç»ˆç«¯æ˜¾ç¤ºä¸éšè—ï¼šctrl + ~</p>
<p>7ã€æŸ¥æ‰¾æ–‡ä»¶&#x2F;å®‰è£…vs code æ’ä»¶åœ°å€ï¼šctrl + p</p>
<p>8ã€ä»£ç æ ¼å¼åŒ–ï¼šshift + alt +f</p>
<p>9ã€æ–°å»ºä¸€ä¸ªçª—å£ : ctrl + shift + n</p>
<p>10ã€è¡Œå¢åŠ ç¼©è¿›: ctrl + [</p>
<p>11ã€è¡Œå‡å°‘ç¼©è¿›: ctrl + ]</p>
<p>12ã€è£å‰ªå°¾éšç©ºæ ¼(å»æ‰ä¸€è¡Œçš„æœ«å°¾é‚£äº›æ²¡ç”¨çš„ç©ºæ ¼) : ctrl + shift + x</p>
<p>13ã€å­—ä½“æ”¾å¤§&#x2F;ç¼©å°: ctrl + ( + æˆ– - )</p>
<p>14ã€æ‹†åˆ†ç¼–è¾‘å™¨ : ctrl + 1&#x2F;2&#x2F;3</p>
<p>15ã€åˆ‡æ¢çª—å£ : ctrl + shift + left&#x2F;right</p>
<p>16ã€å…³é—­ç¼–è¾‘å™¨çª—å£ : ctrl + w</p>
<p>17ã€å…³é—­æ‰€æœ‰çª—å£ : ctrl + k + w</p>
<p>18ã€åˆ‡æ¢å…¨å± : F11</p>
<p>19ã€è‡ªåŠ¨æ¢è¡Œ : alt + z</p>
<p>20ã€æ˜¾ç¤ºgit : ctrl + shift + g</p>
<p>21ã€å…¨å±€æŸ¥æ‰¾æ–‡ä»¶ï¼šctrl + shift + f</p>
<p>22ã€æ˜¾ç¤ºç›¸å…³æ’ä»¶çš„å‘½ä»¤(å¦‚ï¼šgit log)ï¼šctrl + shift + p</p>
<p>23ã€é€‰ä¸­æ–‡å­—ï¼šshift + left &#x2F; right &#x2F; up &#x2F; down</p>
<p>24ã€æŠ˜å ä»£ç ï¼š ctrl + k + 0-9 (0æ˜¯å®Œå…¨æŠ˜å )</p>
<p>25ã€å±•å¼€ä»£ç ï¼š ctrl + k + j (å®Œå…¨å±•å¼€ä»£ç )</p>
<p>26ã€åˆ é™¤è¡Œ ï¼š ctrl + shift + k</p>
<p>27ã€å¿«é€Ÿåˆ‡æ¢ä¸»é¢˜ï¼šctrl + k &#x2F; ctrl + t</p>
<p>28ã€å¿«é€Ÿå›åˆ°é¡¶éƒ¨ ï¼š ctrl + home</p>
<p>29ã€å¿«é€Ÿå›åˆ°åº•éƒ¨ : ctrl + end</p>
<p>30ã€æ ¼å¼åŒ–é€‰å®šä»£ç  ï¼šctrl + k &#x2F; ctrl +f</p>
<p>31ã€é€‰ä¸­ä»£ç  ï¼š shift + é¼ æ ‡å·¦é”®</p>
<p>32ã€å¤šè¡ŒåŒæ—¶æ·»åŠ å†…å®¹ï¼ˆå…‰æ ‡ï¼‰ ï¼šctrl + alt + up&#x2F;down</p>
<p>33ã€å…¨å±€æ›¿æ¢ï¼šctrl + shift + h</p>
<p>34ã€å½“å‰æ–‡ä»¶æ›¿æ¢ï¼šctrl + h</p>
<p>35ã€æ‰“å¼€æœ€è¿‘æ‰“å¼€çš„æ–‡ä»¶ï¼šctrl + r</p>
<p>36ã€æ‰“å¼€æ–°çš„å‘½ä»¤çª—ï¼šctrl + shift + c</p>
<h3 id="ä¸»å‘½ä»¤æ¡†"><a href="#ä¸»å‘½ä»¤æ¡†" class="headerlink" title="ä¸»å‘½ä»¤æ¡†"></a>ä¸»å‘½ä»¤æ¡†</h3><blockquote>
<p><code>F1</code> æˆ– <code>Ctrl+Shift+P</code>: æ‰“å¼€å‘½ä»¤é¢æ¿ã€‚åœ¨æ‰“å¼€çš„è¾“å…¥æ¡†å†…ï¼Œå¯ä»¥è¾“å…¥ä»»ä½•å‘½ä»¤</p>
<ul>
<li>æŒ‰ä¸€ä¸‹ <code>Backspace</code>ä¼šè¿›å…¥åˆ° <code>Ctrl+P</code>æ¨¡å¼<br>åœ¨</li>
<li><code>Ctrl+P</code> ä¸‹è¾“å…¥ &gt; å¯ä»¥è¿›å…¥ <code>Ctrl+Shift+P</code> æ¨¡å¼</li>
</ul>
</blockquote>
<p><strong>åœ¨ <code>Ctrl+P</code> çª—å£ä¸‹è¿˜å¯ä»¥</strong></p>
<ul>
<li>ç›´æ¥è¾“å…¥æ–‡ä»¶åï¼Œè·³è½¬åˆ°æ–‡ä»¶</li>
<li><code>?</code> åˆ—å‡ºå½“å‰å¯æ‰§è¡Œçš„åŠ¨ä½œ</li>
<li>! æ˜¾ç¤º <code>Errors</code>æˆ– <code>Warnings</code>ï¼Œä¹Ÿå¯ä»¥ <code>Ctrl+Shift+M</code></li>
<li>: è·³è½¬åˆ°è¡Œæ•°ï¼Œä¹Ÿå¯ä»¥ <code>Ctrl+G</code> ç›´æ¥è¿›å…¥</li>
<li>@ è·³è½¬åˆ° <code>symbol</code>ï¼ˆæœç´¢å˜é‡æˆ–è€…å‡½æ•°ï¼‰ï¼Œä¹Ÿå¯ä»¥ <code>Ctrl+Shift+O</code>ç›´æ¥è¿›å…¥</li>
<li>@ æ ¹æ®åˆ†ç±»è·³è½¬ - <code>symbol</code>ï¼ŒæŸ¥æ‰¾å±æ€§æˆ–å‡½æ•°ï¼Œä¹Ÿå¯ä»¥ <code>Ctrl+Shift+O</code>åè¾“å…¥:è¿›å…¥</li>
<li>#æ ¹æ®åå­—æŸ¥æ‰¾ <code>symbol</code>ï¼Œä¹Ÿå¯ä»¥ <code>Ctrl+T</code></li>
</ul>
<h3 id="ç¼–è¾‘å™¨ä¸çª—å£ç®¡ç†"><a href="#ç¼–è¾‘å™¨ä¸çª—å£ç®¡ç†" class="headerlink" title="ç¼–è¾‘å™¨ä¸çª—å£ç®¡ç†"></a>ç¼–è¾‘å™¨ä¸çª—å£ç®¡ç†</h3><ul>
<li>æ‰“å¼€ä¸€ä¸ªæ–°çª—å£ï¼š <code>Ctrl+Shift+N</code></li>
<li>å…³é—­çª—å£ï¼š <code>Ctrl+Shift+W</code></li>
<li>æ–°å»ºæ–‡ä»¶ <code>Ctrl+N</code></li>
<li>æ–‡ä»¶ä¹‹é—´åˆ‡æ¢ <code>Ctrl+Tab</code></li>
</ul>
<h3 id="ä»£ç ç¼–è¾‘"><a href="#ä»£ç ç¼–è¾‘" class="headerlink" title="ä»£ç ç¼–è¾‘"></a>ä»£ç ç¼–è¾‘</h3><h4 id="æ ¼å¼è°ƒæ•´"><a href="#æ ¼å¼è°ƒæ•´" class="headerlink" title="æ ¼å¼è°ƒæ•´"></a>æ ¼å¼è°ƒæ•´</h4><ul>
<li>ä»£ç è¡Œç¼©è¿› <code>Ctrl+[</code> ã€ <code>Ctrl+]</code></li>
<li><code>Ctrl+C</code>ã€ <code>Ctrl+V</code> å¤åˆ¶æˆ–å‰ªåˆ‡å½“å‰è¡Œ&#x2F;å½“å‰é€‰ä¸­å†…å®¹</li>
<li>ä»£ç æ ¼å¼åŒ–ï¼š <code>Ctrl+Shift+P</code> åè¾“å…¥ <code>format code</code></li>
<li>ä¸Šä¸‹ç§»åŠ¨ä¸€è¡Œï¼š<code>Alt+Up</code>æˆ– <code>Alt+Down</code></li>
<li>å‘ä¸Šå‘ä¸‹å¤åˆ¶ä¸€è¡Œï¼š <code>Shift+Alt+Up</code>æˆ– <code>Shift+Alt+Down</code></li>
<li>åœ¨å½“å‰è¡Œä¸‹è¾¹æ’å…¥ä¸€è¡Œ <code>Ctrl+Enter</code></li>
<li>åœ¨å½“å‰è¡Œä¸Šæ–¹æ’å…¥ä¸€è¡Œ <code>Ctrl+Shift+Enter</code></li>
</ul>
<h4 id="å…‰æ ‡ç›¸å…³"><a href="#å…‰æ ‡ç›¸å…³" class="headerlink" title="å…‰æ ‡ç›¸å…³"></a>å…‰æ ‡ç›¸å…³</h4><ul>
<li>ç§»åŠ¨åˆ°è¡Œé¦–ï¼š <code>Home</code></li>
<li>ç§»åŠ¨åˆ°è¡Œå°¾ï¼š <code>End</code></li>
<li>ç§»åŠ¨åˆ°æ–‡ä»¶ç»“å°¾ï¼š <code>Ctrl+End</code></li>
<li>ç§»åŠ¨åˆ°æ–‡ä»¶å¼€å¤´ï¼š <code>Ctrl+Home</code></li>
<li>ç§»åŠ¨åˆ°å®šä¹‰å¤„ï¼š <code>F12</code></li>
<li>å¤šè¡Œç¼–è¾‘(åˆ—ç¼–è¾‘)ï¼š<code>Alt+Shift+</code>é¼ æ ‡å·¦é”®</li>
<li>åŒæ—¶é€‰ä¸­æ‰€æœ‰åŒ¹é…ï¼š <code>Ctrl+Shift+L</code></li>
</ul>
<h3 id="é‡æ„ä»£ç "><a href="#é‡æ„ä»£ç " class="headerlink" title="é‡æ„ä»£ç "></a>é‡æ„ä»£ç </h3><ul>
<li>æ‰¾åˆ°æ‰€æœ‰çš„å¼•ç”¨ï¼š <code>Shift+F12</code></li>
<li>åŒæ—¶ä¿®æ”¹æœ¬æ–‡ä»¶ä¸­æ‰€æœ‰åŒ¹é…çš„ï¼š <code>Ctrl+F12</code></li>
<li>é‡å‘½åï¼šæ¯”å¦‚è¦ä¿®æ”¹ä¸€ä¸ªæ–¹æ³•åï¼Œå¯ä»¥é€‰ä¸­åæŒ‰ <code>F2</code>ï¼Œè¾“å…¥æ–°çš„åå­—ï¼Œå›è½¦ï¼Œä¼šå‘ç°æ‰€æœ‰çš„æ–‡ä»¶éƒ½ä¿®æ”¹äº†</li>
<li>è·³è½¬åˆ°ä¸‹ä¸€ä¸ª <code>Error</code> æˆ– <code>Warning</code>ï¼šå½“æœ‰å¤šä¸ªé”™è¯¯æ—¶å¯ä»¥æŒ‰ <code>F8</code> é€ä¸ªè·³è½¬</li>
</ul>
<h3 id="æŸ¥æ‰¾æ›¿æ¢"><a href="#æŸ¥æ‰¾æ›¿æ¢" class="headerlink" title="æŸ¥æ‰¾æ›¿æ¢"></a>æŸ¥æ‰¾æ›¿æ¢</h3><ul>
<li>æŸ¥æ‰¾ <code>Ctrl+F</code></li>
<li>æŸ¥æ‰¾æ›¿æ¢ <code>Ctrl+H</code></li>
<li>æ•´ä¸ªæ–‡ä»¶å¤¹ä¸­æŸ¥æ‰¾ <code>Ctrl+Shift+F</code></li>
</ul>
<h3 id="æ˜¾ç¤ºç›¸å…³"><a href="#æ˜¾ç¤ºç›¸å…³" class="headerlink" title="æ˜¾ç¤ºç›¸å…³"></a>æ˜¾ç¤ºç›¸å…³</h3><ul>
<li>å…¨å±ï¼š<code>F11</code></li>
<li>ä¾§è¾¹æ æ˜¾&#x2F;éšï¼š<code>Ctrl+B</code></li>
<li>æ˜¾ç¤ºèµ„æºç®¡ç†å™¨ <code>Ctrl+Shift+E</code></li>
<li>æ˜¾ç¤ºæœç´¢ <code>Ctrl+Shift+F</code></li>
<li>æ˜¾ç¤º <code>Debug Ctrl+Shift+D</code></li>
</ul>
<h1 id="äºŒã€vs-code-çš„å¸¸ç”¨æ’ä»¶"><a href="#äºŒã€vs-code-çš„å¸¸ç”¨æ’ä»¶" class="headerlink" title="äºŒã€vs code çš„å¸¸ç”¨æ’ä»¶"></a>äºŒã€vs code çš„å¸¸ç”¨æ’ä»¶</h1><p>1ã€Auto Rename Tag ä¿®æ”¹htmlæ ‡ç­¾ï¼Œè‡ªåŠ¨å¸®ä½ å®Œæˆå°¾éƒ¨é—­åˆæ ‡ç­¾çš„åŒæ­¥ä¿®æ”¹ï¼Œå’Œwebstormä¸€æ ·ã€‚</p>
<p>2ã€Auto Close Tag è‡ªåŠ¨é—­åˆHTMLæ ‡ç­¾</p>
<p>4ã€Beautiful æ ¼å¼åŒ–ä»£ç çš„å·¥å…·</p>
<p>5ã€Dash Dashæ˜¯MacOSçš„APIæ–‡æ¡£æµè§ˆå™¨å’Œä»£ç æ®µç®¡ç†å™¨</p>
<p>6ã€Ejs Snippets ejs ä»£ç æç¤º</p>
<p>7ã€ESLint æ£€æŸ¥javascriptè¯­æ³•é”™è¯¯ä¸æç¤º</p>
<p>8ã€File Navigator å¿«é€ŸæŸ¥æ‰¾æ–‡ä»¶</p>
<p>9ã€Git History(git log) æŸ¥çœ‹git log</p>
<p>10ã€Gulp Snippets å†™gulpæ—¶ç”¨åˆ°ï¼Œgulpè¯­æ³•æç¤ºã€‚</p>
<p>11ã€HTML CSS Support åœ¨HTMLæ ‡ç­¾ä¸Šå†™classæ™ºèƒ½æç¤ºå½“å‰é¡¹ç›®æ‰€æ”¯æŒçš„æ ·å¼</p>
<p>12ã€HTML Snippets è¶…çº§å¥½ç”¨ä¸”åˆçº§çš„H5ä»£ç ç‰‡æ®µä»¥åŠæç¤º</p>
<p>13ã€Debug for Chrome è®©vs codeæ˜ å°„chromeçš„debugåŠŸèƒ½ï¼Œé™æ€é¡µé¢éƒ½å¯ä»¥ç”¨vscodeæ¥æ‰“æ–­ç‚¹è°ƒè¯•ã€é…é¥°ç¨å¾®å¤æ‚ä¸€ç‚¹</p>
<p>14ã€Document this Jsçš„æ³¨é‡Šæ¨¡æ¿</p>
<p>15ã€jQuery Code Snippets jqueryæç¤ºå·¥å…·</p>
<p>16ã€Html2jade htmlæ¨¡æ¿è½¬pugæ¨¡æ¿</p>
<p>17ã€JS-CSS-HTML Formatter æ ¼å¼åŒ–</p>
<p>18ã€Npm intellisense require æ—¶çš„åŒ…æç¤ºå·¥å…·</p>
<p>19ã€Open in browser æ‰“å¼€é»˜è®¤æµè§ˆå™¨</p>
<p>20ã€One Dark Theme ä¸€ä¸ªvs codeçš„ä¸»é¢˜</p>
<p>21ã€Path Intellisense è‡ªåŠ¨è·¯å¾„è¡¥å…¨ã€é»˜è®¤ä¸å¸¦è¿™ä¸ªåŠŸèƒ½</p>
<p>22ã€Project Manager å¤šä¸ªé¡¹ç›®ä¹‹é—´å¿«é€Ÿåˆ‡æ¢çš„å·¥å…·</p>
<p>23ã€Pug(Jade) snippets pugè¯­æ³•æç¤º</p>
<p>24ã€React Components æ ¹æ®æ–‡ä»¶ååˆ›å»ºååº”ç»„ä»¶ä»£ç ã€‚</p>
<p>25ã€React Native Tools reactNativeå·¥å…·ç±»ä¸ºReact Nativeé¡¹ç›®æä¾›äº†å¼€å‘ç¯å¢ƒã€‚</p>
<p>26ã€Stylelint css&#x2F;sassä»£ç å®¡æŸ¥</p>
<p>27ã€Typings auto installer å®‰è£…vscode çš„ä»£ç æç¤ºä¾èµ–åº“ï¼ŒåŸºäºtyptingsçš„</p>
<p>28ã€View In Browser ã€€é»˜è®¤æµè§ˆå™¨æŸ¥çœ‹HTMLæ–‡ä»¶ï¼ˆå¿«æ·é”®Ctrl+F1å¯ä»¥ä¿®æ”¹ï¼‰</p>
<p>29ã€Vscode-icons è®©vscodeèµ„æºç›®å½•åŠ ä¸Šå›¾æ ‡ã€å¿…å¤‡</p>
<p>30ã€VueHelper Vue2ä»£ç æ®µï¼ˆåŒ…æ‹¬Vue2 apiã€vue-router2ã€vuex2ï¼‰</p>
<p>31ã€Vue 2 Snippets vueå¿…å¤‡vueä»£ç æç¤º</p>
<p>32ã€Vue-color vueè¯­æ³•é«˜äº®ä¸»é¢˜</p>
<p>33ã€Auto-Open Markdown Preview markdownæ–‡ä»¶è‡ªåŠ¨å¼€å¯é¢„è§ˆ</p>
<p>34ã€EverMonkey å°è±¡ç¬”è®°</p>
<p>35ã€atom one dark atomçš„ä¸€ä¸ªé«˜äº®ä¸»é¢˜(ä¸ªäººæ¨è)</p>
<h1 id="ä¸‰ã€å¸¸ç”¨çš„ç”µè„‘å¿«æ·é”®"><a href="#ä¸‰ã€å¸¸ç”¨çš„ç”µè„‘å¿«æ·é”®" class="headerlink" title="ä¸‰ã€å¸¸ç”¨çš„ç”µè„‘å¿«æ·é”®"></a>ä¸‰ã€å¸¸ç”¨çš„ç”µè„‘å¿«æ·é”®</h1><p>1ã€ctrl + shift + delete å¿«é€Ÿæ¸…é™¤æµè§ˆå™¨ç¼“å­˜</p>
<p>2ã€ctrl + alt + delete å¿«é€Ÿè¿›å…¥ä»»åŠ¡ç®¡ç†å™¨é¡µé¢</p>
<p>3ã€window + L å¿«é€Ÿé”å®šç”µè„‘</p>
<p>4ã€window + d æ‰€æœ‰çª—å£æœ€å°åŒ–</p>
<p>5ã€ window + e æ‰“å¼€æˆ‘çš„èµ„æºç®¡ç†å™¨(æˆ‘çš„ç”µè„‘)</p>
<p>6ã€ window + f å¿«é€Ÿæ‰“å¼€æœç´¢çª—å£</p>
<p>7ã€ alt + tab å¿«é€ŸæŸ¥çœ‹æ‰“å¼€çš„åº”ç”¨ä¸çª—å£</p>

        
    </article>
    <footer class="cube-excerpt-footer">
        <a class="cube-excerpt-more" href="/2019/01/21/%E5%B7%A5%E5%85%B7/vs%20code%20%E7%9A%84%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/">Read More</a>
    </footer>
</div>



<ul class="cube-pagination cube-pagination-9">
    
    <li class="cube-pagination-prev">
        <a href="/page/10/">Â« Prev</a>
    </li>
    
    
        
                <li class="cube-pagination-index">
                    <a href="/">1</a>
                </li>
                <li class="cube-pagination-ellipses">
                    <span>...</span>
                </li>
            
                
                <li class="cube-pagination-index">
                    <a href="/page/10">10</a>
                </li>
                
            
                
                <li class="cube-pagination-index disabled">
                    <span>11</span>
                </li>
                
            
                
                <li class="cube-pagination-index">
                    <a href="/page/12">12</a>
                </li>
                
            
                <li class="cube-pagination-ellipses">
                    <span>...</span>
                </li>
                <li class="cube-pagination-index">
                    <a href="/page/19">19</a>
                </li>
        
    

    
    <li class="cube-pagination-next">
        <a href="/page/12/">Next Â»</a>
    </li>
    
</ul>

<!--å…¶ä»–ç»„ä»¶åç»­æ·»åŠ -->
        </div>
        <div class="cube-right">
            

<div class="cube-search cube-sidebar" id="cube-search">
    <div class="search-container">
        <input type="text" placeholder="Search" class="cube-search-input" id="cube-search-input">
        <i class="cube-icon cube-icon-search cube-search-submit" aria-hidden="true"></i>
    </div>
    <!-- TODO é€šè¿‡ç»™windowèµ‹ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œé€šè¿‡è„šæœ¬èµ‹å€¼ -->
</div>
<script>
    (function (window) {
        'use strict';
        window.searchModule = {}
        window.searchModule.JSONUrl = '/content.json'
        window.searchModule.rootUrl = '/'
    })(window)
</script>
<div class="cube-search-form">
    <div class="cube-search-control">
        <input type="text" placeholder="Search" class="search-input">
        <a class="close-button">
            <i class="cube-icon cube-close" aria-hidden="true"></i>
        </a>
    </div>
    <div class="cube-search-result"></div>
</div>


<div class="cube-author cube-sidebar" id="cube-author">
    
    
    <span>John Doe</span>
    
    
    <div class="count">
        <a class="count articles"><span>186</span>Article</a>
        <a class="count tags"><span>35</span>Tags</a>
        <a class="count categories"><span>23</span>Categories</a>
    </div>
</div>



<div class="cube-music cube-sidebar" id="cube-music">
    <div class="cube-player aplayer" id="cube-player"></div>
</div>
<script>
    (function (window) {
        window.musicModule = {}
        window.musicModule.musicConfig = '{"narrow":false,"autoplay":false,"showlrc":3,"theme":"#b7daff","mutex":true,"mode":"circulation","preload":"auto","listmaxheight":"513px","music":[{"title":"Dear friends","author":"TRIPLANE","url":"http://cube-1252774894.cosgz.myqcloud.com/music/source/TRIPLANE - Dear friends.mp3","lrc":"http://cube-1252774894.cosgz.myqcloud.com/music/lrc/Dear friends - TRIPLANE.lrc","pic":"http://cube-1252774894.cosgz.myqcloud.com/music/image/TRIPLANE - Dear friends.jpg"},{"title":"Butter-Fly","author":"å’Œç”°å…‰å¸","url":"http://cube-1252774894.cosgz.myqcloud.com/music/source/å’Œç”°å…‰å¸ - Butter-Fly (ãƒ”ã‚¢ãƒãƒ´ã‚¡ãƒ¼ã‚¸ãƒ§ãƒ³).mp3","lrc":"http://cube-1252774894.cosgz.myqcloud.com/music/lrc/Butter-Fly (ãƒ”ã‚¢ãƒãƒ´ã‚¡ãƒ¼ã‚¸ãƒ§ãƒ³) - å’Œç”°å…‰å¸.lrc","pic":"http://cube-1252774894.cosgz.myqcloud.com/music/image/å’Œç”°å…‰å¸ - Butter-Fly (ãƒ”ã‚¢ãƒãƒ´ã‚¡ãƒ¼ã‚¸ãƒ§ãƒ³).jpg"},{"title":"å®µé—‡èŠ±ç«","author":"è‘‰æœˆã‚†ã‚‰","url":"http://cube-1252774894.cosgz.myqcloud.com/music/source/è‘‰æœˆã‚†ã‚‰ - å®µé—‡èŠ±ç«.mp3","lrc":"http://cube-1252774894.cosgz.myqcloud.com/music/lrc/å®µé—‡èŠ±ç« - è‘‰æœˆã‚†ã‚‰.lrc","pic":"http://cube-1252774894.cosgz.myqcloud.com/music/image/è‘‰æœˆã‚†ã‚‰ - å®µé—‡èŠ±ç«.jpg"}]}'
        window.musicModule.lrcConfig = {
            open: 'Open Lyrics',
            close: 'Close Lyrics'
        }
    })(window)
</script>



<div class="cube-recent-posts cube-sidebar" id="cube-recent-posts">
    <div class="title">
        <a>Recent Posts</a>
    </div>
    <ul class="list">
        
        
        <li>
            <!-- TODO å¦‚æœæ–‡ç« è¦æ˜¾ç¤ºå›¾ç‰‡ï¼Œé‚£ä¹ˆåœ¨front-matterä¸Šæ·»åŠ previewå±æ€§(url or path) -->
            
            <div class="normal">
                <p class="index first">
                    <span>1</span>
                </p>
                <p class="title">
                    <a href="/2022/08/25/Js%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" title="å˜é‡ç±»å‹">å˜é‡ç±»å‹</a>
                </p>
            </div>
            
        </li>
        
        
        
        <li>
            <div class="normal">
                <p class="index">
                    <span>2</span>
                </p>
                <p class="title">
                    <a href="/2022/07/15/bug/echarts%E5%9B%BE%E6%A0%87%E8%87%AA%E9%80%82%E5%BA%94%E6%96%B9%E6%B3%95/" title="echartså›¾æ ‡è‡ªé€‚åº”æ–¹æ³•">echartså›¾æ ‡è‡ªé€‚åº”æ–¹æ³•</a>
                </p>
            </div>
        </li>
        
        
        
        <li>
            <div class="normal">
                <p class="index">
                    <span>3</span>
                </p>
                <p class="title">
                    <a href="/2022/07/15/bug/a01/" title="æµè§ˆå™¨å¤šè¿›ç¨‹ä¸å¤šçº¿ç¨‹">æµè§ˆå™¨å¤šè¿›ç¨‹ä¸å¤šçº¿ç¨‹</a>
                </p>
            </div>
        </li>
        
        
        
        <li>
            <div class="normal">
                <p class="index">
                    <span>4</span>
                </p>
                <p class="title">
                    <a href="/2022/06/09/html+css+js+ts/3-js%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81%E6%93%8D%E4%BD%9C%E5%AE%9E%E4%BE%8B/" title="js-å¸¸ç”¨ä»£ç æ“ä½œå®ä¾‹">js-å¸¸ç”¨ä»£ç æ“ä½œå®ä¾‹</a>
                </p>
            </div>
        </li>
        
        
        
        <li>
            <div class="normal">
                <p class="index">
                    <span>5</span>
                </p>
                <p class="title">
                    <a href="/2022/05/28/html+css+js+ts/1-%E9%9F%B3%E8%A7%86%E9%A2%91/" title="html-åŸç”ŸéŸ³è§†é¢‘">html-åŸç”ŸéŸ³è§†é¢‘</a>
                </p>
            </div>
        </li>
        
        
    </ul>
</div>



<div class="cube-categories cube-sidebar" id="cube-categories">
    <div class="title">
        <a href="/categories">Categories</a>
    </div>
    <div class="cube-boxs">
        
        
        <div class="cube-box ">
            <a href="/categories/http/">#http</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E6%A1%86%E6%9E%B6/">#æ¡†æ¶</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/React/">#React</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/categories/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/">#æ•°æ®å¯è§†åŒ–</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/categories/%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%BC%8F/">#æ¶æ„æ¨¡å¼</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%BC%8F/%E6%A1%86%E6%9E%B6/">#æ¡†æ¶</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E5%89%8D%E7%AB%AF/">#å‰ç«¯</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E5%89%8D%E7%AB%AF/%E7%A7%BB%E5%8A%A8%E7%AB%AF/">#ç§»åŠ¨ç«¯</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E5%89%8D%E7%AB%AF/%E9%9F%B3%E8%A7%86%E9%A2%91/">#éŸ³è§†é¢‘</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/categories/javascript/">#javascript</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E5%89%8D%E7%AB%AF/%E9%97%AE%E9%A2%98/">#é—®é¢˜</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E5%90%8E%E7%AB%AF/">#åç«¯</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E5%B0%8F%E7%A8%8B%E5%BA%8F/">#å°ç¨‹åº</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/categories/%E5%90%8E%E7%AB%AF/%E6%A1%86%E6%9E%B6/">#æ¡†æ¶</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E5%90%8E%E7%AB%AF/%E7%AE%97%E6%B3%95/">#ç®—æ³•</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/categories/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/">#å‰ç«¯å·¥ç¨‹åŒ–</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E5%B7%A5%E5%85%B7/">#å·¥å…·</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/categories/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">#æ­£åˆ™è¡¨è¾¾å¼</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">#å‰ç«¯æ€§èƒ½ä¼˜åŒ–</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">#æ•°æ®åº“</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/categories/%E7%AE%97%E6%B3%95/">#ç®—æ³•</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/categories/liunx/">#liunx</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">#è®¾è®¡æ¨¡å¼</a>
        </div>
        
    </div>
</div>



<div class="cube-tagcloud cube-sidebar" id="cube-tagcloud">
    <div class="title">
        <a href="/tags">Tagcloud</a>
    </div>
    <div class="cube-boxs">
        
        
        <div class="cube-box ">
            <a href="/tags/http/">#http</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/vue/">#vue</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/tags/React/">#React</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/Redux/">#Redux</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/echart/">#echart</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/tags/vue3/">#vue3</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/react/">#react</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/html/">#html</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/tags/xml/">#xml</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/">#ç§»åŠ¨ç«¯</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/css/">#css</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/javascript/">#javascript</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/Promise/">#Promise</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/es6/">#es6</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/typescript/">#typescript</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/async-await/">#async/await</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/nodejs/">#nodejs</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/">#å°ç¨‹åº</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/python/">#python</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/tags/glup/">#glup</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/webpack/">#webpack</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/%E5%89%8D%E7%AB%AF/">#å‰ç«¯</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/git/">#git</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/tags/Mock/">#Mock</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/eslint/">#eslint</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/RESTful/">#RESTful</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/hexo/">#hexo</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/tags/vs-code/">#vs code</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">#æ­£åˆ™è¡¨è¾¾å¼</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/%E4%BC%98%E5%8C%96/">#ä¼˜åŒ–</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/mongodb/">#mongodb</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/mysql/">#mysql</a>
        </div>
        
        
        <div class="cube-box ">
            <a href="/tags/%E7%AE%97%E6%B3%95/">#ç®—æ³•</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/tags/nginx/">#nginx</a>
        </div>
        
        
        <div class="cube-box-bg ">
            <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">#è®¾è®¡æ¨¡å¼</a>
        </div>
        
    </div>
</div>



<div class="cube-links cube-sidebar" id="cube-links">
    <div class="title">
        <a>Links</a>
    </div>
    <ul class="list">
        
        <li>
            
            
            <img src="http://cube-1252774894.cosgz.myqcloud.com/links/GitHub.png">
            
            <a href="https://github.com/ZEROKISEKI" target="_blank">GitHub</a>
        </li>
        
        <li>
            
            
            <img src="http://cube-1252774894.cosgz.myqcloud.com/links/Coding.png">
            
            <a href="https://coding.net/u/SORA1" target="_blank">Coding</a>
        </li>
        
        <li>
            
            
            <img src="http://cube-1252774894.cosgz.myqcloud.com/links/SF.png">
            
            <a href="https://segmentfault.com/u/aonosora" target="_blank">SFç¤¾åŒº</a>
        </li>
        
        <li>
            
            
            <img src="http://cube-1252774894.cosgz.myqcloud.com/links/å¼€å‘è€…å¤´æ¡.png">
            
            <a href="https://toutiao.io/u/148070" target="_blank">å¼€å‘è€…å¤´æ¡</a>
        </li>
        
    </ul>
</div>



<div class="cube-friend-links cube-sidebar" id="cube-friend-links">
    <div class="title">
        <a>Friend Links</a>
    </div>
    <ul class="list">
        
        <li>
            <!-- TODO change avatar.png to friend.png-->
            <img src="http://cube-1252774894.cosgz.myqcloud.com/friend_links/micblo.png">
            <a href="https://blog.micblo.com/" target="_blank">ç½—å¤§ä½¬</a>
        </li>
        
        <li>
            <!-- TODO change avatar.png to friend.png-->
            <img src="http://cube-1252774894.cosgz.myqcloud.com/friend_links/DIYgod.jpg">
            <a href="https://www.anotherhome.net/" target="_blank">DIYgod</a>
        </li>
        
        <li>
            <!-- TODO change avatar.png to friend.png-->
            <img src="/images/friend_links.jpg ">
            <a href="https://aonosora.com/" target="_blank">å’ªè¥¿è¥¿ã®éƒ¨è½æ ¼</a>
        </li>
        
    </ul>
</div>


        </div>
    </div>
</div>
<footer class="cube-footer">
    
Â© 2017 John Doe

<br>
Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>.&nbsp;Theme by <a href="https://github.com/ZEROKISEKI" target="_blank">AONOSORA</a>
</footer>
<!-- inject:script -->
<script src="/js/script.js"></script>
<!-- endinject -->
<div class="cube-loading out"></div>
</body>
</html>